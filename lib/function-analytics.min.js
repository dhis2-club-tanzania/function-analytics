!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define("function-analytics",["lodash"],t):"object"==typeof exports?exports["function-analytics"]=t(require("lodash")):e["function-analytics"]=t(e._)}("undefined"!=typeof self?self:this,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=30)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(5),i=r(15),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function o(e){return null!==e&&"object"==typeof e}function h(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:h,isStream:function(e){return o(e)&&h(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return h});var n=r(12),i=r.n(n),a=r(3),s=r.n(a);let o;class h{static initiateRunner(e){h.instance||(this.config=e,this.cache={},o=this)}get instance(){return o}set config(e){this.config=e}get config(){return this.config}_fetch(e,t,r){if(!o){throw Error('Configuration not set please configure function analytics eg {baseUrl:"dhis_base_url", username:"username", password:"password"}')}let n=e.hash();if(o.cache[n])o.cache[n].finished?t(e.performPostProcess(JSON.parse(JSON.stringify(o.cache[n].data)))):o.cache[n].resolutions.push(t);else{o.cache[n]={finished:!1,resolutions:[]};const a={url:o.config.baseUrl+e.url,method:"get",adapter:s.a};o.config.username&&o.config.password&&(a.auth={username:o.config.username,password:o.config.password}),i.a.request(a).then(r=>{o.cache[n].data=r.data,t(e.performPostProcess(JSON.parse(JSON.stringify(o.cache[n].data)))),o.cache[n].resolutions.forEach(t=>{t(e.performPostProcess(JSON.parse(JSON.stringify(o.cache[n].data))))}),o.cache[n].finished=!0},e=>{r(e)})}}getResults(e){return e._fetchers?this.getAllResults(e):new Promise((t,r)=>{e.hasDependencies()?e.getDependecyFetchResults().then(()=>{e.performPreProcess(),this._fetch(e,t,r)}).catch(e=>{console.log(e),r()}):this._fetch(e,t,r)})}getAllResults(e){return new Promise((t,r)=>{const n=e.fetchers.map(e=>(new h).getResults(e));return Promise.all(n).then(r=>{t(e.performPostProcess(r))}).catch(e=>{r(e)})})}}}).call(this,r(4))},function(e,t,r){"use strict";var n=r(1),i=r(21),a=r(6),s=r(23),o=r(24),h=r(9);e.exports=function(e){return new Promise(function(t,c){var l=e.data,u=e.headers;n.isFormData(l)&&delete u["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password||"";u.Authorization="Basic "+btoa(f+":"+m)}if(d.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,c,n),d=null}},d.onabort=function(){d&&(c(h("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(h("Network Error",e,null,d)),d=null},d.ontimeout=function(){c(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var p=r(25),y=(e.withCredentials||o(e.url))&&e.xsrfCookieName?p.read(e.xsrfCookieName):void 0;y&&(u[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&n.forEach(u,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete u[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),c(e),d=null)}),void 0===l&&(l=null),d.send(l)})}},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var h,c=[],l=!1,u=-1;function d(){l&&h&&(l=!1,h.length?c=h.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(h=c,c=[];++u<t;)h&&h[u].run();u=-1,t=c.length}h=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||l||o(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(1);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var s=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))}))}),a=s.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(1),i=r(20),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,h={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?o=r(3):"undefined"!=typeof XMLHttpRequest&&(o=r(3)),o),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){h.headers[e]={}}),n.forEach(["post","put","patch"],function(e){h.headers[e]=n.merge(a)}),e.exports=h}).call(this,r(4))},function(e,t,r){"use strict";var n=r(22);e.exports=function(e,t,r,i,a){var s=new Error(e);return n(s,t,r,i,a)}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){t=t||{};var r={};return n.forEach(["url","method","params","data"],function(e){void 0!==t[e]&&(r[e]=t[e])}),n.forEach(["headers","auth","proxy"],function(i){n.isObject(t[i])?r[i]=n.deepMerge(e[i],t[i]):void 0!==t[i]?r[i]=t[i]:n.isObject(e[i])?r[i]=n.deepMerge(e[i]):void 0!==e[i]&&(r[i]=e[i])}),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){e.exports=r(14)},function(e,t,r){"use strict";const n=Symbol?Symbol():"__listeners";class i extends Promise{constructor(e){super((t,r)=>e(t,r,e=>{try{return this[n].forEach(t=>t(e))}catch(e){r(e)}})),this[n]=[]}progress(e){if("function"!=typeof e)throw new Error("PROGRESS_REQUIRES_FUNCTION");return this[n].push(e),this}static all(e){const t=new Array(e.length),r=e.length;let n=0;return new i((i,a,s)=>{e.forEach((e,o)=>{e.then(e=>{t[o]=e,t.proportion=++n/r,s(t),n===r&&i(t)}).catch(a)})})}static sequence(e,t){const r=[],n=e.length;let a=0;return new i((i,s,o)=>{!function h(){t.call(null,e[r.length]).then(e=>{r.push(e),r.proportion=++a/n,o(r),r.length===n?i(r):h()}).catch(s)}()})}}e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(5),a=r(16),s=r(10);function o(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var h=o(r(8));h.Axios=a,h.create=function(e){return o(s(h.defaults,e))},h.Cancel=r(11),h.CancelToken=r(28),h.isCancel=r(7),h.all=function(e){return Promise.all(e)},h.spread=r(29),e.exports=h,e.exports.default=h},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(1),i=r(6),a=r(17),s=r(18),o=r(10);function h(e){this.defaults=e,this.interceptors={request:new a,response:new a}}h.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},h.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){h.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}}),n.forEach(["post","put","patch"],function(e){h.prototype[e]=function(t,r,i){return this.request(n.merge(i||{},{method:e,url:t,data:r}))}}),e.exports=h},function(e,t,r){"use strict";var n=r(1);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(19),a=r(7),s=r(8),o=r(26),h=r(27);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!o(e.url)&&(e.url=h(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(9);e.exports=function(e,t,r){var i=r.config.validateStatus;!i||i(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(1),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,s={};return e?(n.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}}),s):s}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,s){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),n.isString(i)&&o.push("path="+i),n.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(11);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";r.r(t);var n=r(2);class i{constructor(){this.postProcessors=[],this.dependencies=[]}hasDependencies(){return this.dependencies.length>0}preProcess(e){return this.dependencies.push(e),this}addPreProcess(e){return this.dependencies.push(e),this}postProcess(e){return this.postProcessors.push(e),this}addPostProcess(e){return this.postProcessors.push(e),this}performPreProcess(){return this.dependencies.forEach(e=>{e.processCallback(e.process._results,this)}),this}performPostProcess(e){this._results=e;let t=e;return this.postProcessors.forEach(e=>{t=e(t)}),t}}var a=r(13),s=r.n(a);class o extends i{constructor(){super(),this.parameters={}}get _urlParameters(){let e="";return Object.keys(this.parameters).forEach(t=>{""!==e&&(e+="&"),"string"==typeof this.parameters[t]?e+=t+"="+this.parameters[t]:Object.keys(this.parameters[t]).forEach(r=>{""!==e&&(e+="&"),""===this.parameters[t][r]?e+=t+"="+r:e+=t+"="+r+":"+this.parameters[t][r]})}),e}get url(){throw new Error("Should implement url generation")}get(){return(new n.a).getResults(this)}setParameters(e){return Object.keys(e).forEach(t=>{this.parameters[t]=e[t]}),this}getDependecyFetchResults(){const e=this.dependencies.map(e=>(new n.a).getResults(e.process));return s.a.all(e)}_encode64(e){return btoa(new Uint8Array(e).reduce((e,t)=>e+String.fromCharCode(t),""))}hash(){return this.url}}class h{constructor(e,t,r){this.row=e,this.headers=t,this.metaData=r}dimension(e){var t=-1,r="";return this.headers.forEach((r,n)=>{r.name===e&&(t=n)}),this.metaData.names?r=this.metaData.names[this.row[t]]:this.metaData.items&&(r=this.metaData.items[this.row[t]]?this.metaData.items[this.row[t]].name:void 0),{id:this.row[t],name:r,path:this.metaData.ouHierarchy&&void 0!==this.metaData.ouHierarchy[this.row[t]]?this.metaData.ouHierarchy[this.row[t]]:void 0}}get dx(){return this.dimension("dx")}get pe(){return this.dimension("pe")}get ou(){return this.dimension("ou")}get value(){return this.dimension("value").id}}class c extends Array{constructor(e){super(...e),Object.setPrototypeOf(this,Object.create(c.prototype))}get dx(){return this.getHeader("dx")}get pe(){return this.getHeader("pe")}get ou(){return this.getHeader("ou")}get value(){return this.getHeader("value")}getHeader(e){let t;return this.forEach((r,n)=>{r.name===e&&((t=r).index=n)}),t}}class l{constructor(e){this._data=e}get headers(){return new c(this._data.headers)}get metaData(){return this._data.metaData}get rows(){let e=[];return this._data.rows.forEach(t=>{e.push(new h(t,this.headers,this.metaData))}),e}getDimensionDetailsByName(e){var t=[];return this.metaData.dimensions&&this.metaData.dimensions[e].forEach(e=>{t.push(this.getDimensionDetails(e))}),t}get rows(){let e=[];return this._data.rows.forEach(t=>{e.push(new h(t,this.headers,this.metaData))}),e}getDimensionDetails(e){var t="";return this.metaData.names?t=this.metaData.names[e]:this.metaData.items&&(t=this.metaData.items[e]?this.metaData.items[e].name:void 0),{id:e,name:t,path:this.metaData.ouHierarchy&&void 0!==this.metaData.ouHierarchy[e]?this.metaData.ouHierarchy[e]:void 0}}get height(){return this._data.height}get width(){return this._data.width}}class u extends o{constructor(e=25){super(),"boolean"==typeof e&&(e=e?25:26),this.parameters.dimension={},this.postProcess(t=>this.standardizeAnalytics(t,e))}setData(e){return this.setDimension("dx",e),this}setPeriod(e){return this.setDimension("pe",e),this}setOrgUnit(e){return this.setDimension("ou",e),this}setSelections(e){return this.setPeriod(e.pe),this.setOrgUnit(e.ou),void 0!==e.rule.json.data&&this.setData(e.rule.json.data),void 0!==e.dimensions&&Array.isArray(e.dimensions)&&e.dimensions.forEach(function(e){if(Array.isArray(e.items)){let t="";e.items.forEach(function(e){t.length>0?t+=";"+e:t+=e}),this.setDimension(e.id,t)}}),this}setDimension(e,t){return this.parameters.dimension[e]=t||"",this}standardizeAnalytics(e,t=25){if("boolean"==typeof t&&(t=t?25:26),e.count)return e;let r={headers:[],metaData:{dimensions:{},names:{},dx:[],pe:[],ou:[],co:[]},rows:[]};if(e){if(e.headers&&e.headers.forEach(e=>{try{let t=e;r.headers.push(t)}catch(e){console.warn("Invalid header object")}}),e.metaData)try{let n=this.getSanitizedAnalyticsMetadata(e.metaData,t);r.metaData=n}catch(e){console.warn("Invalid metadata object")}e.rows&&(r.rows=e.rows)}return r.height=e.height,r.width=e.width,new l(r)}getSanitizedAnalyticsMetadata(e,t){let r={};return e&&(e.ouHierarchy&&(r.ouHierarchy=e.ouHierarchy),t<26?(r.names={},e.names?r.names=e.names:e.items&&Object.keys(e.items).forEach(t=>{r.names[t]=e.items[t].name}),e.dimensions&&Object.keys(e.dimensions).forEach(t=>{r[t]=e.dimensions[t]})):(r.items={},e.items?r.items=e.items:e.names&&Object.keys(e.items).forEach(t=>{e.items[t]={name:e.names[t]}}),e.dimensions?r.dimensions=e.dimensions:(r.dimensions={},Object.keys(e).forEach(t=>{-1===["names","items","dimensions"].indexOf(t)&&(r.dimensions[t]=e[t])})))),r}get url(){return"analytics?"+this._urlParameters}}class d extends o{constructor(e){super(),this._fetchers=e}get fetchers(){return this._fetchers}get(){return(new n.a).getAllResults(this)}}var f=r(0);class m{constructor(e,t,r,n){if(this._calendar=e,this._year=t,this._month=r,this._day=n,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw this._calendar._invalids.invalidDate.replace(/\{0\}/,this._calendar.name)}newDate(e,t,r){return this._calendar.newDate(null==e?this:e,t,r)}year(e){return 0===arguments.length?this._year:this.set(e,"y")}month(e){return 0===arguments.length?this._month:this.set(e,"m")}day(e){return 0===arguments.length?this._day:this.set(e,"d")}date(e,t,r){if(!this._calendar.isValid(e,t,r))throw this._calendar._invalids.invalidDate.replace(/\{0\}/,this._calendar.name);return this._year=e,this._month=t,this._day=r,this}add(e,t){return this._calendar.add(this,e,t)}set(e,t){return this._calendar.set(this,e,t)}compareTo(e){let t=this._year-e._year;if(this._year===e._year&&(t=this._day-e._day,this._month!==e._month&&(t=this.monthOfYear()-e.monthOfYear())),this._calendar.name!==e._calendar.name)throw this._calendar._invalids.differentCalendars.replace(/\{0\}/,this._calendar.name).replace(/\{1\}/,e._calendar.name);return 0===t?0:t<0?-1:1}toJD(){return this._calendar.toJD(this)}fromJD(e){return this._calendar.fromJD(e)}toJSDate(){return this._calendar.toJSDate(this)}fromJSDate(e){return this._calendar.fromJSDate(e)}pad(e,t){return"000000".substring(0,t-(e=""+e).length)+e}toString(){return(this.year()<0?"-":"")+this.pad(Math.abs(this.year()),4)+"-"+this.pad(this.month(),2)+"-"+this.pad(this.day(),2)}leapYear(){return this._calendar.leapYear(this)}epoch(){return this._calendar.epoch(this)}formatYear(){return this._calendar.formatYear(this)}monthOfYear(){return this._calendar.monthOfYear(this)}weekOfYear(){return this._calendar.weekOfYear(this)}daysInYear(){return this._calendar.daysInYear(this)}dayOfYear(){return this._calendar.dayOfYear(this)}daysInMonth(){return this._calendar.daysInMonth(this)}dayOfWeek(){return this._calendar.dayOfWeek(this)}weekDay(){return this._calendar.weekDay(this)}extraInfo(){return this._calendar.extraInfo(this)}calendar(){return this._calendar}}class p{constructor(){this._validateLevel=0,this._name="",this._hasYearZero=!1,this._minMonth=1,this._minDay=1,this._epochs=["BCE","CE"],this._firstMonth=1,this._invalids={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"}}_validate(e,t,r,n){if(e.year)return e;try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(e,t,r))throw n.replace(/\{0\}/,this._name);const i=this.newDate(e,t,r);return this._validateLevel--,i}catch(e){throw this._validateLevel--,e}}isValid(e,t,r){this._validateLevel++;let n=this._hasYearZero||0!==e;if(n){const i=this.newDate(e,t,this._minDay);n=t>=this._minMonth&&t-this._minMonth<this.monthsInYear(i)&&r>=this._minDay&&r-this._minDay<=this.daysInMonth(i)}return this._validateLevel--,n}newDate(e,t,r){return e?(e.year&&(this._validate(e,t,r,this._invalids.invalidDate),r=e.day(),t=e.month(),e=e.year()),new m(this,e,t,r)):this.today()}today(){return this.fromJSDate(new Date)}fromJSDate(e){return this.fromJD(this.fromJSDate(e).toJD())}toJSDate(e,t,r){const n=this._validate(e,t,r,this._invalids.invalidDate);return this.fromJD(this.toJD(n)).toJSDate()}pad(e,t){return"000000".substring(0,t-(e=""+e).length)+e}formatYear(e){const t=this._validate(e,this._minMonth,this._minDay,this._invalids.invalidYear);return(t.year()<0?"-":"")+this.pad(Math.abs(t.year()),4)}epoch(e){return this._validate(e,this._minMonth,this._minDay,this._invalids.invalidYear).year()<0?this._epochs[0]:this._epochs[1]}monthsInYear(e){return this._validate(e,this._minMonth,this._minDay,this._invalids.invalidYear),12}monthOfYear(e,t){var r=this._validate(e,t,this._minDay,this._invalids.invalidMonth);return(r.month()+this.monthsInYear(r)-this._firstMonth)%this.monthsInYear(r)+this._minMonth}fromMonthOfYear(e,t){var r=(t+this._firstMonth-2*this._minMonth)%this.monthsInYear(e)+this._minMonth;return this._validate(e,r,this._minDay,this._invalids.invalidMonth),r}daysInYear(e){var t=this._validate(e,this._minMonth,this._minDay,this._invalids.invalidYear);return this.leapYear(t)?366:365}dayOfYear(e,t,r){var n=this._validate(e,t,r,this._invalids.invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this._minMonth),this._minDay).toJD()+1}daysInWeek(){return 7}dayOfWeek(e,t,r){var n=this._validate(e,t,r,this._invalids.invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()}extraInfo(e,t,r){return this._validate(e,t,r,this._invalids.invalidDate),{}}add(e,t,r){return this._validate(e,this._minMonth,this._minDay,this._invalids.invalidDate),this._correctAdd(e,this._add(e,t,r),t,r)}_add(e,t,r){if(this._validateLevel++,"d"===r||"w"===r){const n=e.fromJD(e.toJD()+t*("w"===r?this.daysInWeek():1));return this._validateLevel--,[n.year(),n.month(),n.day()]}try{const n=e.year()+("y"===r?t:0),i=e.monthOfYear()+("m"===r?t:0),a=e.day(),s=e=>{for(;i<e.minMonth;)n--,i+=e.monthsInYear(n);const t=e.monthsInYear(n);for(;i>t-1+e.minMonth;)n++,i-=t,t=e.monthsInYear(n)};"y"===r?(e.month()!==this.fromMonthOfYear(n,i)&&(i=this.newDate(n,e.month(),this._minDay).monthOfYear()),i=Math.min(i,this.monthsInYear(n)),a=Math.min(a,this.daysInMonth(n,this.fromMonthOfYear(n,i)))):"m"===r&&(s(this),a=Math.min(a,this.daysInMonth(n,this.fromMonthOfYear(n,i))));const o=[n,this.fromMonthOfYear(n,i),a];return this._validateLevel--,o}catch(e){throw this._validateLevel--,e}}_correctAdd(e,t,r,n){if(!(this._hasYearZero||"y"!==n&&"m"!==n||0!==t[0]&&e.year()>0==t[0]>0)){const i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],a=r<0?-1:1;t=this._add(e,r*i[0]+a*i[1],i[2])}return e.date(t[0],t[1],t[2])}set(e,t,r){this._validate(e,this._minMonth,this._minDay,this._invalids.invalidDate);const n="y"===r?t:e.year(),i="m"===r?t:e.month(),a="d"===r?t:e.day();return"y"!==r&&"m"!==r||(a=Math.min(a,this.daysInMonth(n,i))),e.date(n,i,a)}toJD(e,t,r){const n=this._validate(e,t,r,this._invalids.invalidDate);e=n.year(),t=n.month(),r=n.day(),e<0&&e++,t<3&&(t+=12,e--);const i=Math.floor(e/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+r+a-1524.5}fromJD(e){const t=Math.floor(e+.5),r=Math.floor((t-1867216.25)/36524.25);r=t+1+r-Math.floor(r/4);const n=r+1524,i=Math.floor((n-122.1)/365.25),a=Math.floor(365.25*i),s=Math.floor((n-a)/30.6001),o=n-a-Math.floor(30.6001*s),h=s-(s>13.5?13:1),c=i-(h>2.5?4716:4715);return c<=0&&c--,this.newDate(c,h,o)}}class y extends p{constructor(){super(),this._name="Ethiopian",this._jdEpoch=1723856,this._gregorianEpoch=1721426,this._daysPerMonth=[30,30,30,30,30,30,30,30,30,30,30,30,5],this._hasYearZero=!1,this._minMonth=1,this._firstMonth=1,this._quarterMonthOffset=-2,this._minDay=1,this._epochs=["BEE","EE"],this._monthNames=["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],this._monthNamesShort=["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],this._dayNames=["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],this._dayNamesShort=["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],this._dayNamesMin=["Eh","Se","Ma","Ir","Ha","Ar","Ki"],this._dateFormat="dd/mm/yyyy",this._firstDay=0,this._isRTL=!1}monthNames(){return this._monthNames}leapYear(e){const t=this._validate(e,this.minMonth,this.minDay,this._invalids.invalidYear),r=t.year()+(t.year()<0?1:0);return r%4==3||r%4==-1}monthsInYear(e){return this._validate(e,this.minMonth,this.minDay,this._invalids.invalidYear),13}weekOfYear(e,t,r){var n=this.newDate(e,t,r);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1}daysInMonth(e,t){const r=this._validate(e,t,this._minDay,this._invalids.invalidMonth);return this._daysPerMonth[r.month()-1]+(13===r.month()&&this.leapYear(r.year())?1:0)}weekDay(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6}quarterMonthOffset(){return this._quarterMonthOffset}fromJSDate(e){const t=this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate());return this.fromJD(this.toJD(t.year(),t.month(),t.day()))}toJD(e,t,r){const n=Math.floor(e/4)-Math.floor((e-1)/4)-Math.floor(e/100)+Math.floor((e-1)/100)+Math.floor(e/400)-Math.floor((e-1)/400),i=Math.floor((14-t)/12),a=31*i*(t-1)+(1-i)*(59+n+30*(t-3)+Math.floor((3*t-7)/5))+r-1;return this._gregorianEpoch+365*(e-1)+Math.floor((e-1)/4)-Math.floor((e-1)/100)+Math.floor((e-1)/400)+a}fromJD(e){const t=(e-this._jdEpoch)%1461,r=t%365+365*Math.floor(t/1460),n=4*Math.floor((e-this._jdEpoch)/1461)+Math.floor(t/365)-Math.floor(t/1460),i=Math.floor(r/30)+1,a=r%30+1;return this.newDate(n,i,a)}}class _ extends p{constructor(){super(),this._name="Gregorian",this._jdEpoch=1721425.5,this._daysPerMonth=[31,28,31,30,31,30,31,31,30,31,30,31],this._hasYearZero=!1,this._minMonth=1,this._firstMonth=1,this._minDay=1,this._epochs=["BCE","CE"],this._monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this._dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this._monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this._dayNamesShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this._dayNamesMin=["Su","Mo","Tu","We","Th","Fr","Sa"],this._dateFormat="mm/dd/yyyy",this._firstDay=0,this._isRTL=!1}monthNames(){return this._monthNames}leapYear(e){const t=this._validate(e,this._minMonth,this._minDay,this._invalids.invalidYear);return(e=t.year()+(t.year()<0?1:0))%4==0&&(e%100!=0||e%400==0)}weekOfYear(e,t,r){const n=this.newDate(e,t,r);return n.add(4-(n.dayOfWeek()||7),"d"),console.log(Math.floor((n.dayOfYear()-1)/7)+1),Math.floor((n.dayOfYear()-1)/7)+1}daysInMonth(e,t){const r=this._validate(e,t,this._minDay,this._invalids.invalidMonth);return this._daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)}weekDay(e,t,r){return(this.dayOfWeek(e,t,r)||7)<6}quarterMonthOffset(){return 0}toJD(e,t,r){const n=this._validate(e,t,r,this._invalids.invalidDate);e=n.year(),t=n.month(),r=n.day(),e<0&&e++,t<3&&(t+=12,e--);const i=Math.floor(e/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+r+a-1524.5}fromJD(e){const t=Math.floor(e+.5);let r=Math.floor((t-1867216.25)/36524.25);const n=(r=t+1+r-Math.floor(r/4))+1524,i=Math.floor((n-122.1)/365.25),a=Math.floor(365.25*i),s=Math.floor((n-a)/30.6001),o=n-a-Math.floor(30.6001*s),h=s-(s>13.5?13:1),c=i-(h>2.5?4716:4715);return c<=0&&c--,this.newDate(c,h,o)}toJSDate(e,t,r){const n=this._validate(e,t,r,this._invalids.invalidDate),i=new Date(n.year(),n.month()-1,n.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i}fromJSDate(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}}class g{constructor(e){this._calendarId=e,this._calendar={},this.getInstance()}getInstance(){switch(this._calendarId){case"ethiopian":return this._calendar=new y,this;default:if(this._calendar=new _,!this._calendar)throw new Error("Calendar could not be instantiated");return this}}getMonths(){const e=this._calendar.monthNames();return 13===e.length?e.slice(0,-1):e}getCurrentYear(){return this._calendar.today().year()}getCurrentMonth(){return this._calendar.today().month()}getCurrentDay(){return this._calendar.today().day()}getQuarterMonthOffset(){return this._calendar.quarterMonthOffset()}getCurrentQuarter(){const e=this.getCurrentMonth()-this.getQuarterMonthOffset();return Math.ceil((e>12?1:e)/3)}getCurrentBiMonth(){return Math.ceil(this.getCurrentMonth()/2)}getCurrentSixMonth(){return Math.ceil(this.getCurrentMonth()/6)}getCurrentSixMonthApril(){const e=this.getCurrentMonth();return e>=4&&e<=9?1:2}getCurrentSixMonthNovember(){const e=this.getCurrentMonth();return e>=5&&e<=10?2:1}}class v{constructor(e,t,r,n){if(this._calendarId=e||"gregorian",this._type=t,this._preferences=r,this._periods=[],this._calendar=new g(e),!this._calendar)throw new Error("Calendar could not be set");this._year=n||this._calendar.getCurrentYear(),this._month=this._calendar.getCurrentMonth(),this._quarter=this._calendar.getCurrentQuarter(),this._biMonth=this._calendar.getCurrentBiMonth(),this._sixMonth=this._calendar.getCurrentSixMonth(),this._sixMonthApril=this._calendar.getCurrentSixMonthApril(),this._sixMonthNovember=this._calendar.getCurrentSixMonthNovember(),this._monthNames=this._calendar.getMonths(),this._quarterMonthOffset=this._calendar.getQuarterMonthOffset()}get(){return this._periods=this.getPeriods(this._type,this._year),this._preferences&&this._preferences.allowFuturePeriods||-1!==this._type.indexOf("Relative")?this._periods.reverse():this.omitFuturePeriods(this.includeLastPeriods(this._periods,this._type,this._year),this._type).reverse()}year(){return this._year}currentYear(){return this._calendar.getCurrentYear()}getPeriods(e,t,r=0){let n;switch(e){case"Monthly":n=this.getMonthlyPeriods(t,r);break;case"Quarterly":n=this.getQuarterlyPeriods(t);break;case"BiMonthly":n=this.getBiMonthlyPeriods(t);break;case"SixMonthly":n=this.getSixMonthlyPeriods(t);break;case"SixMonthlyApril":n=this.getSixMonthlyAprilPeriods(t);break;case"SixMonthlyNovember":n=this.getSixMonthlyNovemberPeriods(t);break;case"Yearly":n=this.getYearlyPeriods(t,"Yearly");break;case"FinancialApril":n=this.getYearlyPeriods(t,"FinancialApril","April",3);break;case"FinancialJuly":n=this.getYearlyPeriods(t,"FinancialJuly","July",6);break;case"FinancialOctober":n=this.getYearlyPeriods(t,"FinancialOctober","Oct",9);break;case"FinancialNovember":n=this.getYearlyPeriods(t,"FinancialNovember","Nov",10);break;case"RelativeMonth":case"RelativeBiMonth":case"RelativeQuarter":case"RelativeSixMonth":case"RelativeYear":case"RelativeFinancialYear":case"RelativeWeek":n=this.getRelativePeriods(e);break;default:n=[]}return n}includeLastPeriods(e,t,r){const n=this.getPeriods(t,r-1),i=e;return(e||[]).map((e,t)=>{const r=i[t-1]||Object(f.last)(n),a={id:r.id,name:r.name};return e.lastPeriod=a,e})}getRelativePeriods(e){switch(e){case"RelativeBiMonth":return[{id:"THIS_BIMONTH",type:e,name:"This Bi-month"},{id:"LAST_BIMONTH",type:e,name:"Last Bi-month"},{id:"LAST_6_BIMONTHS",type:e,name:"Last 6 bi-month"}];case"RelativeMonth":return[{id:"THIS_MONTH",type:e,name:"This Month"},{id:"LAST_MONTH",type:e,name:"Last Month"},{id:"LAST_3_MONTHS",type:e,name:"Last 3 Months"},{id:"LAST_6_MONTHS",type:e,name:"Last 6 Months"},{id:"LAST_12_MONTHS",type:e,name:"Last 12 Months"}];case"RelativeQuarter":return[{id:"THIS_QUARTER",type:e,name:"This Quarter"},{id:"LAST_QUARTER",type:e,name:"Last Quarter"},{id:"LAST_4_QUARTERS",type:e,name:"Last 4 Quarters"}];case"RelativeSixMonth":return[{id:"THIS_SIX_MONTH",type:e,name:"This Six-month"},{id:"LAST_SIX_MONTH",type:e,name:"Last Six-month"},{id:"LAST_2_SIXMONTHS",type:e,name:"Last 2 Six-month"}];case"RelativeYear":return[{id:"THIS_YEAR",type:e,name:"This Year"},{id:"LAST_YEAR",type:e,name:"Last Year"},{id:"LAST_5_YEARS",type:e,name:"Last 5 Years"}];case"RelativeFinancialYear":return[{id:"THIS_FINANCIAL_YEAR",type:e,name:"This Financial Year"},{id:"LAST_FINANCIAL_YEAR",type:e,name:"Last Financial Year"},{id:"LAST_5_FINANCIAL_YEARS",type:e,name:"Last 5 Financial Years"}];case"RelativeWeek":return[{id:"THIS_WEEK",type:e,name:"This Week"},{id:"LAST_WEEK",type:e,name:"Last Week"},{id:"LAST_4_WEEKS",type:e,name:"Last 4 Weeks"},{id:"LAST_12_WEEKS",type:e,name:"last 12 Weeks"},{id:"LAST_52_WEEKS",type:e,name:"Last 52 weeks"}];default:return[]}}getMonthlyPeriods(e,t=0){const r=(this._monthNames||[]).map((r,n)=>{const i=n+1-t>12?e-1:e,a=this.getMonthPeriodId(i,n+1);return{id:a,type:"Monthly",name:`${r} ${i}`,daily:this.getChildrenPeriods(a,"Monthly","Daily",this._preferences),weekly:this.getChildrenPeriods(a,"Monthly","Weekly",this._preferences)}});return this.getMonthsByOffset(r,t)}getQuarterlyPeriods(e){return Object(f.chunk)(this.getMonthsByOffset(this.getMonthWithYears(this._monthNames,e,this._quarterMonthOffset),this._quarterMonthOffset),3).map((t,r)=>{const n=this.getQuarterPeriodId(e,r+1),i=Object(f.head)(t||[]),a=Object(f.last)(t||[]);return{id:n,type:"Quarterly",name:this.getPeriodNameByRange(i,a,e),daily:this.getChildrenPeriods(n,"Quarterly","Daily",this._preferences),weekly:this.getChildrenPeriods(n,"Quarterly","Weekly",this._preferences),monthly:this.getChildrenPeriods(n,"Quarterly","Monthly",this._preferences)}})}getPeriodNameByRange(e,t,r){return`${[e.name+` ${e.year}`,t.name].join(" - ")} ${t.year}`}getMonthsByOffset(e,t){return 0===t?e:[...e.slice(t),...e.slice(0,e.length+t)]}getMonthWithYears(e,t,r){return(e||[]).map((e,n)=>{return{name:e,index:n,year:n+1-r>12?t-1:t}})}getBiMonthlyPeriods(e){return(Object(f.chunk)(this._monthNames||[],2)||[]).map((t,r)=>{const n=this.getBiMonthlyPeriodId(e,r+1);return{id:n,type:"BiMonthly",name:`${[Object(f.head)(t||[]),Object(f.last)(t||[])].join(" - ")} ${e}`,daily:this.getChildrenPeriods(n,"BiMonthly","Daily",this._preferences),weekly:this.getChildrenPeriods(n,"BiMonthly","Weekly",this._preferences),monthly:this.getChildrenPeriods(n,"BiMonthly","Monthly",this._preferences)}})}getSixMonthlyPeriods(e){return(Object(f.chunk)(this._monthNames||[],6)||[]).map((t,r)=>{const n=this.getSixMonthlyPeriodId(e,r+1);return{id:n,type:"SixMonthly",name:`${[Object(f.head)(t||[]),Object(f.last)(t||[])].join(" - ")} ${e}`,daily:this.getChildrenPeriods(n,"SixMonthly","Daily",this._preferences),weekly:this.getChildrenPeriods(n,"SixMonthly","Weekly",this._preferences),monthly:this.getChildrenPeriods(n,"SixMonthly","Monthly",this._preferences)}})}getSixMonthlyAprilPeriods(e){const t=this.getMonthWithYears(this._monthNames,e+1,-9);return(Object(f.chunk)([...t.slice(3),...t.slice(0,3)]||!1,6)||[]).map((t,r)=>{const n=this.getSixMonthlyPeriodId(e,r+1,"April");return{id:n,type:"SixMonthlyApril",name:this.getPeriodNameByRange(Object(f.head)(t||[]),Object(f.last)(t||[]),e),daily:this.getChildrenPeriods(n,"SixMonthlyApril","Daily",this._preferences),weekly:this.getChildrenPeriods(n,"SixMonthlyApril","Weekly",this._preferences),monthly:this.getChildrenPeriods(n,"SixMonthlyApril","Monthly",this._preferences)}})}getSixMonthlyNovemberPeriods(e){return Object(f.chunk)(this.getMonthsByOffset(this.getMonthWithYears(this._monthNames,e,-2),this._quarterMonthOffset),6).map((t,r)=>{const n=this.getSixMonthlyPeriodId(e,r+1,"Nov");return{id:n,type:"SixMonthlyNovember",name:this.getPeriodNameByRange(Object(f.head)(t||[]),Object(f.last)(t||[]),e),daily:this.getChildrenPeriods(n,"SixMonthlyNovember","Daily",this._preferences),weekly:this.getChildrenPeriods(n,"SixMonthlyNovember","Weekly",this._preferences),monthly:this.getChildrenPeriods(n,"SixMonthlyNovember","Monthly",this._preferences)}})}getYearlyPeriods(e,t,r="",n=-1){return Object(f.range)(10).map(i=>{const a=parseInt(e,10)-i,s=this.getYearlyPeriodId(a,r),o=this.getYearlyPeriodName(a,n);return{id:s,type:t,name:o,daily:this.getChildrenPeriods(s,t,"Daily",this._preferences),weekly:this.getChildrenPeriods(s,t,"Weekly",this._preferences),monthly:this.getChildrenPeriods(s,t,"Monthly",this._preferences),quarterly:this.getChildrenPeriods(s,t,"Quarterly",this._preferences)}}).reverse()}omitFuturePeriods(e,t){return e.filter(e=>e.id<this.getCurrentPeriodId(t))}getCurrentPeriodId(e){switch(e){case"Monthly":return this.getMonthPeriodId(this._calendar.getCurrentYear(),this._month);case"Quarterly":return this.getQuarterPeriodId(this._calendar.getCurrentYear(),this._quarter);case"BiMonthly":return this.getBiMonthlyPeriodId(this._calendar.getCurrentYear(),this._biMonth);case"SixMonthly":return this.getSixMonthlyPeriodId(this._calendar.getCurrentYear(),this._sixMonth);case"SixMonthlyApril":return this.getSixMonthlyPeriodId(this._calendar.getCurrentYear(),this._sixmonthApril,"April");case"SixMonthlyNovember":return this.getSixMonthlyPeriodId(this._calendar.getCurrentYear(),this._sixMonthNovember,"Nov");case"Yearly":return this._calendar.getCurrentYear();case"FinancialApril":{const e=this._calendar.getCurrentYear();return this.getYearlyPeriodId(this._month>=4?e:e-1,"FinancialApril")}case"FinancialJuly":{const e=this._calendar.getCurrentYear();return this.getYearlyPeriodId(this._month>=7?e:e-1,"FinancialJuly")}case"FinancialOctober":{const e=this._calendar.getCurrentYear();return this.getYearlyPeriodId(this._month>=10?e:e-1,"FinancialOctober")}case"FinancialNovember":{const e=this._calendar.getCurrentYear();return this.getYearlyPeriodId(this._month>=11?e:e-1,"FinancialNovember")}default:return}}getMonthPeriodId(e,t){return e+(t<10?`0${t}`:t).toString()}getQuarterPeriodId(e,t){return`${e}Q${t}`}getBiMonthlyPeriodId(e,t){return`${e}0${t}B`}getSixMonthlyPeriodId(e,t,r=""){return`${e}${r}S${t}`}getYearlyPeriodId(e,t=""){return`${e}${t}`}getYearlyPeriodName(e,t=-1){return-1===t?e.toString():`${this._monthNames[t]} ${e} - ${this._monthNames[t-1]} ${e+1}`}getYearlyMonthIndex(e){}getChildrenPeriods(e,t,r,n){let i=[];switch(t){case"Yearly":{const t=parseInt(e.slice(0,4),10);isNaN(t)||(i=this.getPeriods(r,t).reverse());break}case"Quarterly":{const t=parseInt(e.slice(0,4),10);if(!isNaN(t))switch(r){case"Monthly":{const n=parseInt(e.slice(-1),10);i=(this.getPeriods(r,t,this._quarterMonthOffset)||[]).filter(({},e)=>{const t=3*n;return e>=t-3&&e<t}).reverse();break}}break}case"BiMonthly":{const t=parseInt(e.slice(0,4),10);if(!isNaN(t))switch(r){case"Monthly":{const n=parseInt(e.slice(4),10);i=(this.getPeriods(r,t,0)||[]).filter(({},e)=>{const t=2*n;return e>=t-2&&e<t}).reverse();break}}break}case"SixMonthly":{const t=parseInt(e.slice(0,4),10);if(!isNaN(t))switch(r){case"Monthly":{const n=parseInt(e.slice(-1),10);i=(this.getPeriods(r,t,0)||[]).filter(({},e)=>{const t=6*n;return e>=t-6&&e<t}).reverse();break}}break}}return n&&"ASC"===n.childrenPeriodSortOrder?i.reverse():i}}class M{constructor(){this._periodTypes=[{id:"Monthly",name:"Monthly",rank:3},{id:"BiMonthly",name:"BiMonthly",rank:4},{id:"Quarterly",name:"Quarterly",rank:5},{id:"SixMonthly",name:"SixMonthly",rank:6},{id:"SixMonthlyApril",name:"SixMonthlyApril",rank:6},{id:"SixMonthlyNovember",name:"SixMonthlyNovember",rank:6},{id:"Yearly",name:"Yearly",rank:7},{id:"FinancialApril",name:"FinancialApril",rank:7},{id:"FinancialJuly",name:"FinancialJuly",rank:7},{id:"FinancialOctober",name:"FinancialOctober",rank:7},{id:"FinancialNovember",name:"FinancialNovember",rank:7},{id:"RelativeWeek",name:"RelativeWeek",rank:2},{id:"RelativeMonth",name:"RelativeMonth",rank:3},{id:"RelativeBiMonth",name:"RelativeBiMonth",rank:3},{id:"RelativeSixMonth",name:"RelativeSixMonth",rank:6},{id:"RelativeQuarter",name:"RelativeQuarter",rank:5},{id:"RelativeYear",name:"RelativeYear",rank:7},{id:"RelativeFinancialYear",name:"RelativeFinancialYear",rank:7}],this._validTypes=this._periodTypes.map(e=>e.id)}isValid(e){return this._validTypes.includes(e)}get(){return this._periodTypes}}r.d(t,"Fn",function(){return w});let w={Analytics:u,EventAnalytics:class extends u{setProgram(e){return this.program=e,this}get url(){return"analytics/events/query/"+this.program+"?"+this._urlParameters}},AnalyticsResult:l,IdentifiableObject:class extends o{constructor(e){super(),this._filters=[],this.objectName=e}get name(){return this.objectName}where(e,t,r){return this._filters.push({right:e,operator:t,left:r}),this}get url(){var e=this._urlParameters;return this._filters.forEach(t=>{""!==e&&(e+="&"),e+="filter="+t.right,"=="===t.operator?e+=":eq:"+t.left:"<"===t.operator?e+=":lt:"+t.left:"<="===t.operator?e+=":le:"+t.left:">"===t.operator?e+=":gt:"+t.left:">="===t.operator?e+=":ge:"+t.left:"<>"===t.operator?e+=":!eq:"+t.left:"in"===t.operator||"!in"===t.operator?e+=":"+t.operator+":["+t.left+"]":t.left?e+=":"+t.operator+":"+t.left:e+=":"+t.operator}),this.name+".json?"+e}},SQLViewData:class extends o{constructor(e){super(),this._id=e,this.parameters.var={}}setVariable(e,t){return this.parameters.var[e]=t||"",this}get url(){return"sqlViews/"+this._id+"/data.json?"+this._urlParameters}},Runner:n.a,Dependency:class{constructor(e,t){this.process=e,this.processCallback=t}},Period:class{constructor(){if(this._calendarId="gregorian",this._periodType=new M,!this._periodType)throw new Error("Could not instantiate period type")}setType(e){if(!this._periodType.isValid(e))throw new Error("Not a valid period type");return this._type=e,this}setYear(e){return this._year=e,this}setCalendar(e){return this._calendarId=e,this}setPreferences(e){return this._preferences=e,this}setPeriod(e){}get(){if(this._type){const e=new v(this._calendarId,this._type,this._preferences,this._year);this._periods=e.get(),this._year=e.year(),this._currentYear=e.currentYear()}return this}type(){return this._type}list(){return this._periods}year(){return this._year}currentYear(){return this._currentYear}},PeriodType:M,MultiFetcher:d,all:e=>new d(e),init:e=>{n.a.initiateRunner(e)}};"undefined"!=typeof window&&(window.Fn=w)}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3Mvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcImxvZGFzaFwiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIixcImFtZFwiOlwibG9kYXNoXCIsXCJyb290XCI6XCJfXCJ9Iiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vc3JjL3V0aWxpdGllcy9ydW5uZXIuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL3Byb2dyZXNzLXByb21pc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9zcmMvdXRpbGl0aWVzL3Byb2Nlc3MuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vc3JjL3V0aWxpdGllcy9mZXRjaGVyLmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL3NyYy9yZXN1bHQvcm93LmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL3NyYy9yZXN1bHQvYW5hbHl0aWNzLXJlc3VsdC5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9zcmMvbW9kZWwvYW5hbHl0aWNzLmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL3NyYy91dGlsaXRpZXMvbXVsdGktZmV0Y2hlci5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9zcmMvdXRpbGl0aWVzL2NhbGVuZGFycy9jYWxlbmRhci1kYXRlLmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL3NyYy91dGlsaXRpZXMvY2FsZW5kYXJzL2Jhc2UtY2FsZW5kYXIuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vc3JjL3V0aWxpdGllcy9jYWxlbmRhcnMvZXRoaW9waWFuLWNhbGVuZGVyLmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL3NyYy91dGlsaXRpZXMvY2FsZW5kYXJzL2dyZWdvcmlhbi1jYWxlbmRhci5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9zcmMvdXRpbGl0aWVzL2NhbGVuZGFycy9jYWxlbmRhci5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9zcmMvdXRpbGl0aWVzL3BlcmlvZC1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9zcmMvbW9kZWwvcGVyaW9kLXR5cGUuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL3NyYy9tb2RlbC9ldmVudC1hbmFseXRpY3MuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vc3JjL21vZGVsL2lkZW50aWZpYWJsZS1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vZnVuY3Rpb24tYW5hbHl0aWNzLy4vc3JjL21vZGVsL3NxbC12aWV3LmpzIiwid2VicGFjazovL2Z1bmN0aW9uLWFuYWx5dGljcy8uL3NyYy91dGlsaXRpZXMvZGVwZW5kZW5jeS5qcyIsIndlYnBhY2s6Ly9mdW5jdGlvbi1hbmFseXRpY3MvLi9zcmMvbW9kZWwvcGVyaW9kLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc0J1ZmZlciIsInRvU3RyaW5nIiwiaXNBcnJheSIsInZhbCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0Zvcm1EYXRhIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiYnVmZmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNTdHJlYW0iLCJwaXBlIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm1lcmdlIiwicmVzdWx0IiwiYXNzaWduVmFsdWUiLCJhcmd1bWVudHMiLCJkZWVwTWVyZ2UiLCJleHRlbmQiLCJhIiwiYiIsInRoaXNBcmciLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsInByb2Nlc3MiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiUnVubmVyIiwiYXhpb3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImF4aW9zX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsImF4aW9zX2xpYl9hZGFwdGVyc19odHRwX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJheGlvc19saWJfYWRhcHRlcnNfaHR0cF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQiLCJfaW5zdGFuY2UiLCJbb2JqZWN0IE9iamVjdF0iLCJjb25maWd1cmF0aW9ucyIsImluc3RhbmNlIiwiY29uZmlnIiwiY2FjaGUiLCJfZmV0Y2giLCJmZXRjaGVyIiwicmVzb2x2ZSIsInJlamVjdCIsIkVycm9yIiwiaGFzaGVkIiwiaGFzaCIsImZpbmlzaGVkIiwicGVyZm9ybVBvc3RQcm9jZXNzIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZGF0YSIsInJlc29sdXRpb25zIiwicHVzaCIsInVybCIsImJhc2VVcmwiLCJtZXRob2QiLCJhZGFwdGVyIiwiaHR0cGFkYXB0ZXIiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYXV0aCIsImF4aW9zIiwicmVxdWVzdCIsInRoZW4iLCJyZXN1bHRzIiwicmVzb2x1dGlvbiIsImVyciIsImdldFJlc3VsdHMiLCJfZmV0Y2hlcnMiLCJnZXRBbGxSZXN1bHRzIiwiUHJvbWlzZSIsImhhc0RlcGVuZGVuY2llcyIsImdldERlcGVuZGVjeUZldGNoUmVzdWx0cyIsInBlcmZvcm1QcmVQcm9jZXNzIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwibXVsdGlmZXRjaGVyIiwicHJvbWlzZXMiLCJmZXRjaGVycyIsIm1hcCIsImFsbCIsInV0aWxzIiwic2V0dGxlIiwiYnVpbGRVUkwiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJoZWFkZXJzIiwiWE1MSHR0cFJlcXVlc3QiLCJBdXRob3JpemF0aW9uIiwiYnRvYSIsIm9wZW4iLCJ0b1VwcGVyQ2FzZSIsInBhcmFtcyIsInBhcmFtc1NlcmlhbGl6ZXIiLCJ0aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVVJMIiwiaW5kZXhPZiIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uYWJvcnQiLCJvbmVycm9yIiwib250aW1lb3V0IiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInhzcmZDb29raWVOYW1lIiwicmVhZCIsInVuZGVmaW5lZCIsInhzcmZIZWFkZXJOYW1lIiwidG9Mb3dlckNhc2UiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiZSIsIm9uRG93bmxvYWRQcm9ncmVzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsVG9rZW4iLCJwcm9taXNlIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJhcmdzIiwiQXJyYXkiLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsInYiLCJ0b0lTT1N0cmluZyIsImpvaW4iLCJoYXNobWFya0luZGV4Iiwic2xpY2UiLCJfX0NBTkNFTF9fIiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwiQ29udGVudC1UeXBlIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiZGVmYXVsdHMiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwidHJhbnNmb3JtUmVzcG9uc2UiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJjb21tb24iLCJBY2NlcHQiLCJlbmhhbmNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImVycm9yIiwiY29uZmlnMSIsImNvbmZpZzIiLCJwcm9wIiwiQ2FuY2VsIiwiTElTVEVORVJTIiwiUHJvZ3Jlc3NQcm9taXNlIiwiZXhlY3V0b3IiLCJzdXBlciIsImxpc3RlbmVyIiwiaGFuZGxlciIsInJlc29sdmVDb3VudCIsInByb2dyZXNzIiwiaW5kZXgiLCJwcm9wb3J0aW9uIiwiaW5wdXRzIiwiaW52b2tlTmV4dCIsIkF4aW9zIiwibWVyZ2VDb25maWciLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2VDb25maWciLCJDYW5jZWxUb2tlbiIsImlzQ2FuY2VsIiwic3ByZWFkIiwiZGVmYXVsdCIsImNvbnN0cnVjdG9yIiwicmVhZEZsb2F0TEUiLCJpc1Nsb3dCdWZmZXIiLCJfaXNCdWZmZXIiLCJJbnRlcmNlcHRvck1hbmFnZXIiLCJkaXNwYXRjaFJlcXVlc3QiLCJpbnRlcmNlcHRvcnMiLCJjaGFpbiIsImludGVyY2VwdG9yIiwidW5zaGlmdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwic2hpZnQiLCJnZXRVcmkiLCJoYW5kbGVycyIsInVzZSIsImVqZWN0IiwiaWQiLCJoIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwiYmFzZVVSTCIsInJlYXNvbiIsImZucyIsIm5vcm1hbGl6ZWROYW1lIiwiaXNBeGlvc0Vycm9yIiwidG9KU09OIiwiZGVzY3JpcHRpb24iLCJudW1iZXIiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJjb2x1bW5OdW1iZXIiLCJzdGFjayIsImlnbm9yZUR1cGxpY2F0ZU9mIiwicGFyc2VkIiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwib3JpZ2luVVJMIiwibXNpZSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIm1hdGNoIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVtb3ZlIiwibm93IiwicmVsYXRpdmVVUkwiLCJUeXBlRXJyb3IiLCJyZXNvbHZlUHJvbWlzZSIsInRva2VuIiwic291cmNlIiwiY2FsbGJhY2siLCJhcnIiLCJQcm9jZXNzIiwicG9zdFByb2Nlc3NvcnMiLCJkZXBlbmRlbmNpZXMiLCJwcmVQcm9jZXNzIiwiZGVwZW5kZW5jeSIsImFkZFByZVByb2Nlc3MiLCJwb3N0UHJvY2VzcyIsImFkZFBvc3RQcm9jZXNzIiwicHJvY2Vzc0NhbGxiYWNrIiwiX3Jlc3VsdHMiLCJkYXRhVG9Qcm9jZXNzIiwiRmV0Y2hlciIsInBhcmFtZXRlcnMiLCJfdXJsUGFyYW1ldGVycyIsImtleXMiLCJrZXkyIiwic2V0UGFyYW1ldGVycyIsIl9lbmNvZGU2NCIsImJ1ZmYiLCJVaW50OEFycmF5IiwicmVkdWNlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiUm93Iiwicm93IiwibWV0YURhdGEiLCJkaW1lbnNpb24iLCJoZWFkZXIiLCJuYW1lcyIsIml0ZW1zIiwib3VIaWVyYXJjaHkiLCJkeCIsInBlIiwib3UiLCJBbmFseXRpY3NIZWFkZXJzIiwic2V0UHJvdG90eXBlT2YiLCJnZXRIZWFkZXIiLCJyZXR1cm5IZWFkZXIiLCJBbmFseXRpY3NSZXN1bHQiLCJhbmFseXRpY3NPYmplY3QiLCJfZGF0YSIsInJvd3MiLCJnZXREaW1lbnNpb25EZXRhaWxzQnlOYW1lIiwiZGltZW5zaW9ucyIsIml0ZW0iLCJnZXREaW1lbnNpb25EZXRhaWxzIiwiaGVpZ2h0Iiwid2lkdGgiLCJBbmFseXRpY3MiLCJzdGFuZGFyZGl6ZUFuYWx5dGljcyIsInNldERhdGEiLCJzZXREaW1lbnNpb24iLCJzZXRQZXJpb2QiLCJzZXRPcmdVbml0Iiwic2V0U2VsZWN0aW9ucyIsInJ1bGUiLCJqc29uIiwiZGltZW5zaW9uSXRlbXMiLCJkaW0iLCJjb3VudCIsInNhbml0aXplZEFuYWx5dGljc09iamVjdCIsImNvIiwibmV3SGVhZGVyIiwid2FybiIsInNhbml0aXplZE1ldGFkYXRhIiwiZ2V0U2FuaXRpemVkQW5hbHl0aWNzTWV0YWRhdGEiLCJhbmFseXRpY01ldGFkYXRhIiwibmFtZUtleSIsIk11bHRpRmV0Y2hlciIsIkNhbGVuZGFyRGF0ZSIsImNhbGVuZGFyIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiX2NhbGVuZGFyIiwiX3llYXIiLCJfbW9udGgiLCJfZGF5IiwiX3ZhbGlkYXRlTGV2ZWwiLCJpc1ZhbGlkIiwiX2ludmFsaWRzIiwiaW52YWxpZERhdGUiLCJuZXdEYXRlIiwic2V0IiwiZGF0ZSIsImFkZCIsInRpbWUiLCJ0eXBlIiwiY29tcGFyZVRvIiwiY29tcGFyZXIiLCJtb250aE9mWWVhciIsImRpZmZlcmVudENhbGVuZGFycyIsInRvSkQiLCJmcm9tSkQiLCJ0b0pTRGF0ZSIsImZyb21KU0RhdGUiLCJwYWQiLCJzdWJzdHJpbmciLCJNYXRoIiwiYWJzIiwibGVhcFllYXIiLCJlcG9jaCIsImZvcm1hdFllYXIiLCJ3ZWVrT2ZZZWFyIiwiZGF5c0luWWVhciIsImRheU9mWWVhciIsImRheXNJbk1vbnRoIiwiZGF5T2ZXZWVrIiwid2Vla0RheSIsImV4dHJhSW5mbyIsIkJhc2VDYWxlbmRlciIsIl9uYW1lIiwiX2hhc1llYXJaZXJvIiwiX21pbk1vbnRoIiwiX21pbkRheSIsIl9lcG9jaHMiLCJfZmlyc3RNb250aCIsImludmFsaWRDYWxlbmRhciIsImludmFsaWRNb250aCIsImludmFsaWRZZWFyIiwiX3ZhbGlkYXRlIiwieWVhck9yRGF0ZSIsImludmFsaWRUZXh0IiwidmFsaWQiLCJtb250aHNJblllYXIiLCJ0b2RheSIsInZhbGlkRGF0ZSIsImZyb21Nb250aE9mWWVhciIsImRheXNJbldlZWsiLCJmbG9vciIsIl9jb3JyZWN0QWRkIiwiX2FkZCIsInkiLCJtaW5Nb250aCIsIm1pbiIsImoiLCJ3IiwiZiIsInoiLCJnIiwiRXRoaW9waWFuQ2FsZW5kYXIiLCJfamRFcG9jaCIsIl9ncmVnb3JpYW5FcG9jaCIsIl9kYXlzUGVyTW9udGgiLCJfcXVhcnRlck1vbnRoT2Zmc2V0IiwiX21vbnRoTmFtZXMiLCJfbW9udGhOYW1lc1Nob3J0IiwiX2RheU5hbWVzIiwiX2RheU5hbWVzU2hvcnQiLCJfZGF5TmFtZXNNaW4iLCJfZGF0ZUZvcm1hdCIsIl9maXJzdERheSIsIl9pc1JUTCIsIm1vbnRoTmFtZXMiLCJtaW5EYXkiLCJ2YWxpZFllYXIiLCJxdWFydGVyTW9udGhPZmZzZXQiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsIkdyZWdvcmlhbkNhbGVuZGFyIiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsInNldE1pbGxpc2Vjb25kcyIsImdldEhvdXJzIiwiQ2FsZW5kYXIiLCJjYWxlbmRhcklkIiwiX2NhbGVuZGFySWQiLCJnZXRJbnN0YW5jZSIsImdldE1vbnRocyIsIm1vbnRoc05hbWVzIiwiZ2V0Q3VycmVudFllYXIiLCJnZXRDdXJyZW50TW9udGgiLCJnZXRDdXJyZW50RGF5IiwiZ2V0UXVhcnRlck1vbnRoT2Zmc2V0IiwiZ2V0Q3VycmVudFF1YXJ0ZXIiLCJkaWZmZXJlbmNlIiwiY2VpbCIsImdldEN1cnJlbnRCaU1vbnRoIiwiZ2V0Q3VycmVudFNpeE1vbnRoIiwiZ2V0Q3VycmVudFNpeE1vbnRoQXByaWwiLCJjdXJyZW50TW9udGgiLCJnZXRDdXJyZW50U2l4TW9udGhOb3ZlbWJlciIsIlBlcmlvZEluc3RhbmNlIiwicHJlZmVyZW5jZXMiLCJfdHlwZSIsIl9wcmVmZXJlbmNlcyIsIl9wZXJpb2RzIiwiX3F1YXJ0ZXIiLCJfYmlNb250aCIsIl9zaXhNb250aCIsIl9zaXhNb250aEFwcmlsIiwiX3NpeE1vbnRoTm92ZW1iZXIiLCJnZXRQZXJpb2RzIiwiYWxsb3dGdXR1cmVQZXJpb2RzIiwicmV2ZXJzZSIsIm9taXRGdXR1cmVQZXJpb2RzIiwiaW5jbHVkZUxhc3RQZXJpb2RzIiwiY3VycmVudFllYXIiLCJvZmZzZXQiLCJwZXJpb2RzIiwiZ2V0TW9udGhseVBlcmlvZHMiLCJnZXRRdWFydGVybHlQZXJpb2RzIiwiZ2V0QmlNb250aGx5UGVyaW9kcyIsImdldFNpeE1vbnRobHlQZXJpb2RzIiwiZ2V0U2l4TW9udGhseUFwcmlsUGVyaW9kcyIsImdldFNpeE1vbnRobHlOb3ZlbWJlclBlcmlvZHMiLCJnZXRZZWFybHlQZXJpb2RzIiwiZ2V0UmVsYXRpdmVQZXJpb2RzIiwibGFzdFllYXJQZXJpb2RzIiwiY3VycmVudFBlcmlvZHMiLCJwZXJpb2QiLCJwZXJpb2RJbmRleCIsImxhc3RQZXJpb2QiLCJsYXN0IiwibmV3TGFzdFBlcmlvZCIsIm1vbnRoUGVyaW9kcyIsIm1vbnRoTmFtZSIsIm1vbnRoSW5kZXgiLCJtb250aFllYXIiLCJnZXRNb250aFBlcmlvZElkIiwiZGFpbHkiLCJnZXRDaGlsZHJlblBlcmlvZHMiLCJ3ZWVrbHkiLCJnZXRNb250aHNCeU9mZnNldCIsImNodW5rIiwiZ2V0TW9udGhXaXRoWWVhcnMiLCJxdWFydGVyTW9udGhzIiwicXVhcnRlckluZGV4IiwiZ2V0UXVhcnRlclBlcmlvZElkIiwic3RhcnRNb250aCIsImhlYWQiLCJlbmRNb250aCIsImdldFBlcmlvZE5hbWVCeVJhbmdlIiwibW9udGhseSIsIm1vbnRocyIsImJpTW9udGhzIiwiYmlNb250aEluZGV4IiwiZ2V0QmlNb250aGx5UGVyaW9kSWQiLCJzaXhNb250aHMiLCJzaXhNb250aEluZGV4IiwiZ2V0U2l4TW9udGhseVBlcmlvZElkIiwic2l4TW9udGhBcHJpbCIsInNpeE1vbnRoQXByaWxJbmRleCIsInNpeE1vbnRoTm92ZW1iZXIiLCJzaXhNb250aE5vdmVtYmVySW5kZXgiLCJpZFN1ZmZpeCIsInJhbmdlIiwieWVhckluZGV4IiwicGVyaW9kWWVhciIsInBhcnNlSW50IiwiZ2V0WWVhcmx5UGVyaW9kSWQiLCJnZXRZZWFybHlQZXJpb2ROYW1lIiwicXVhcnRlcmx5IiwiZmlsdGVyIiwiZ2V0Q3VycmVudFBlcmlvZElkIiwiX3NpeG1vbnRoQXByaWwiLCJtb250aE51bWJlciIsInF1YXJ0ZXJOdW1iZXIiLCJiaU1vbnRoTnVtYmVyIiwic2l4TW9udGhOdW1iZXIiLCJzaXhNb250aFR5cGUiLCJzdWZmaXgiLCJnZXRZZWFybHlNb250aEluZGV4IiwicGFyZW50SWQiLCJwYXJlbnRUeXBlIiwiY2hpbGRyZW5UeXBlIiwiaXNOYU4iLCJtYXgiLCJiaU1vbnRobHlOdW1iZXIiLCJzaXhNb250aGx5TnVtYmVyIiwiY2hpbGRyZW5QZXJpb2RTb3J0T3JkZXIiLCJQZXJpb2RUeXBlIiwiX3BlcmlvZFR5cGVzIiwicmFuayIsIl92YWxpZFR5cGVzIiwicGVyaW9kVHlwZSIsImluY2x1ZGVzIiwiRm4iLCJFdmVudEFuYWx5dGljcyIsInNldFByb2dyYW0iLCJwcm9ncmFtIiwiSWRlbnRpZmlhYmxlT2JqZWN0Iiwib2JqZWN0TmFtZSIsIl9maWx0ZXJzIiwid2hlcmUiLCJyaWdodCIsIm9wZXJhdG9yIiwibGVmdCIsIlNRTFZpZXdEYXRhIiwiX2lkIiwic2V0VmFyaWFibGUiLCJ2YXJpYWJsZSIsIkRlcGVuZGVuY3kiLCJQZXJpb2QiLCJfcGVyaW9kVHlwZSIsInNldFR5cGUiLCJzZXRZZWFyIiwic2V0Q2FsZW5kYXIiLCJzZXRQcmVmZXJlbmNlcyIsInBlcmlvZEluc3RhbmNlIiwiX2N1cnJlbnRZZWFyIiwibGlzdCIsImluaXQiLCJpbml0aWF0ZVJ1bm5lciJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsRUFBQUcsUUFBQSxXQUNBLG1CQUFBQyxlQUFBQyxJQUNBRCxPQUFBLGdDQUFBSixHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLHNCQUFBRCxFQUFBRyxRQUFBLFdBRUFKLEVBQUEsc0JBQUFDLEVBQUFELEVBQUEsR0FSQSxDQVNDLG9CQUFBTyxVQUFBQyxLQUFBLFNBQUFDLEdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBVixRQUdBLElBQUFDLEVBQUFPLEVBQUFFLEdBQUEsQ0FDQUMsRUFBQUQsRUFDQUUsR0FBQSxFQUNBWixRQUFBLElBVUEsT0FOQWEsRUFBQUgsR0FBQUksS0FBQWIsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQVMsR0FHQVIsRUFBQVcsR0FBQSxFQUdBWCxFQUFBRCxRQTBEQSxPQXJEQVMsRUFBQU0sRUFBQUYsRUFHQUosRUFBQU8sRUFBQVIsRUFHQUMsRUFBQVEsRUFBQSxTQUFBakIsRUFBQWtCLEVBQUFDLEdBQ0FWLEVB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TUFBTSwyQkFJbEIsT0FEQWxHLEtBQUt1aUIsTUFBUW5HLEVBQ05wYyxLQUdUdXBCLFFBQVFuTyxHQUVOLE9BREFwYixLQUFLd2IsTUFBUUosRUFDTnBiLEtBR1R3cEIsWUFBWXBJLEdBRVYsT0FEQXBoQixLQUFLcWhCLFlBQWNELEVBQ1pwaEIsS0FHVHlwQixlQUFlbkgsR0FFYixPQURBdGlCLEtBQUt3aUIsYUFBZUYsRUFDYnRpQixLQUdUaWEsVUFBVWxILElBRVY3UixNQUNFLEdBQUlsQixLQUFLdWlCLE1BQU8sQ0FDZCxNQUFNbUgsRUFBaUIsSUFBSXJILEVBQ3pCcmlCLEtBQUtxaEIsWUFDTHJoQixLQUFLdWlCLE1BQ0x2aUIsS0FBS3dpQixhQUNMeGlCLEtBQUt3YixPQUdQeGIsS0FBS3lpQixTQUFXaUgsRUFBZXhvQixNQUUvQmxCLEtBQUt3YixNQUFRa08sRUFBZXRPLE9BRTVCcGIsS0FBSzJwQixhQUFlRCxFQUFldEcsY0FFckMsT0FBT3BqQixLQUdUb2MsT0FDRSxPQUFPcGMsS0FBS3VpQixNQUdkcUgsT0FDRSxPQUFPNXBCLEtBQUt5aUIsU0FHZHJILE9BQ0UsT0FBT3BiLEtBQUt3YixNQUdkNEgsY0FDRSxPQUFPcGpCLEtBQUsycEIsZUxqRGQ3QixhQUNBN00sYUFBY0EsRUFTZHhTLElBQUtGLEdBQ0ksSUFBSTBTLEVBQWExUyxHQVUxQnNoQixLQUFNamtCLElBQ0pULElBQU8ya0IsZUFBZWxrQixLQUlKLG9CQUFYekIsU0FDVEEsT0FBT2lrQixHQUFLQSIsImZpbGUiOiJmdW5jdGlvbi1hbmFseXRpY3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwibG9kYXNoXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiZnVuY3Rpb24tYW5hbHl0aWNzXCIsIFtcImxvZGFzaFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJmdW5jdGlvbi1hbmFseXRpY3NcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJsb2Rhc2hcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImZ1bmN0aW9uLWFuYWx5dGljc1wiXSA9IGZhY3Rvcnkocm9vdFtcIl9cIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBpc0J1ZmZlciA9IHJlcXVpcmUoJ2lzLWJ1ZmZlcicpO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAobmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05hdGl2ZVNjcmlwdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ05TJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIGVxdWFsIHRvIG1lcmdlIHdpdGggdGhlIGRpZmZlcmVuY2UgYmVpbmcgdGhhdCBubyByZWZlcmVuY2VcbiAqIHRvIG9yaWdpbmFsIG9iamVjdHMgaXMga2VwdC5cbiAqXG4gKiBAc2VlIG1lcmdlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBkZWVwTWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBkZWVwTWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZGVlcE1lcmdlOiBkZWVwTWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltXG59O1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBodHRwYWRhcHRlciBmcm9tICdheGlvcy9saWIvYWRhcHRlcnMvaHR0cCc7XG5pbXBvcnQgeGhyYWRhcHRlciBmcm9tICdheGlvcy9saWIvYWRhcHRlcnMveGhyJztcbi8vIGltcG9ydCB7IFByb2dyZXNzUHJvbWlzZSB9IGZyb20gJy4vcHJvZ3Jlc3MtcHJvbWlzZSc7XG5sZXQgX2luc3RhbmNlO1xuXG4vKipcbiAqIFJ1bm5lciByZXByZXNlbnRzIHRoZSBwcm9jZXNzIHdoaWNoIHdpbGwgc2NoZWR1bGUgYW5kIHJ1biBvcGVyYXRpb25zIG9mIHRoZSBwcm9jZXNzZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bm5lciB7XG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgdGhlIHJ1bm5lciBzaW5nbGV0b24gaW5zdGFuY2VcbiAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb25zXG4gICAqL1xuICBzdGF0aWMgaW5pdGlhdGVSdW5uZXIoY29uZmlndXJhdGlvbnMpIHtcbiAgICBpZiAoIVJ1bm5lci5pbnN0YW5jZSkge1xuICAgICAgdGhpcy5jb25maWcgPSBjb25maWd1cmF0aW9ucztcbiAgICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICAgIF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgUnVubmVyIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIHtSdW5uZXJ9XG4gICAqL1xuICBnZXQgaW5zdGFuY2UoKSB7XG4gICAgcmV0dXJuIF9pbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb25zXG4gICAqL1xuICBzZXQgY29uZmlnKGNvbmZpZ3VyYXRpb25zKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWd1cmF0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb25zXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZ2V0IGNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWc7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBjYWxsYmFjayB0eXBlIGlzIGNhbGxlZCBgcmVzb2x2ZUNhbGxiYWNrYC5cbiAgICpcbiAgICogQGNhbGxiYWNrIHJlc29sdmVDYWxsYmFja1xuICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VSZXN1bHRcbiAgICovXG5cbiAgLyoqXG4gICAqIFRoaXMgY2FsbGJhY2sgdHlwZSBpcyBjYWxsZWQgYHJlamVjdENhbGxiYWNrYC5cbiAgICpcbiAgICogQGNhbGxiYWNrIHJlamVjdENhbGxiYWNrXG4gICAqIEBwYXJhbSB7RXJyb3J9IGVycm9yXG4gICAqL1xuXG4gIC8qKlxuICAgKiBGZXRjaGVzIHRoZSBkYXRhIGZyb20gdGhlIGZldGNoZXJcbiAgICogQHBhcmFtIHtGZXRjaGVyfSBmZXRjaGVyXG4gICAqIEBwYXJhbSB7cmVzb2x2ZUNhbGxiYWNrfSByZXNvbHZlXG4gICAqIEBwYXJhbSB7cmVqZWN0Q2FsbGJhY2t9IHJlamVjdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ZldGNoKGZldGNoZXIsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmICghX2luc3RhbmNlKSB7XG4gICAgICBsZXQgZXJyb3IgPVxuICAgICAgICAnQ29uZmlndXJhdGlvbiBub3Qgc2V0IHBsZWFzZSBjb25maWd1cmUgZnVuY3Rpb24gJyArXG4gICAgICAgICdhbmFseXRpY3MgZWcge2Jhc2VVcmw6XCJkaGlzX2Jhc2VfdXJsXCIsIHVzZXJuYW1lOlwidXNlcm5hbWVcIiwgJyArXG4gICAgICAgICdwYXNzd29yZDpcInBhc3N3b3JkXCJ9JztcblxuICAgICAgdGhyb3cgRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICBsZXQgaGFzaGVkID0gZmV0Y2hlci5oYXNoKCk7XG5cbiAgICBpZiAoIV9pbnN0YW5jZS5jYWNoZVtoYXNoZWRdKSB7XG4gICAgICBfaW5zdGFuY2UuY2FjaGVbaGFzaGVkXSA9IHtcbiAgICAgICAgZmluaXNoZWQ6IGZhbHNlLFxuICAgICAgICByZXNvbHV0aW9uczogW11cbiAgICAgIH07XG4gICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgIHVybDogX2luc3RhbmNlLmNvbmZpZy5iYXNlVXJsICsgZmV0Y2hlci51cmwsXG4gICAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICAgIGFkYXB0ZXI6IHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IGh0dHBhZGFwdGVyIDogeGhyYWRhcHRlclxuICAgICAgfTtcblxuICAgICAgaWYgKF9pbnN0YW5jZS5jb25maWcudXNlcm5hbWUgJiYgX2luc3RhbmNlLmNvbmZpZy5wYXNzd29yZCkge1xuICAgICAgICBjb25maWcuYXV0aCA9IHtcbiAgICAgICAgICB1c2VybmFtZTogX2luc3RhbmNlLmNvbmZpZy51c2VybmFtZSxcbiAgICAgICAgICBwYXNzd29yZDogX2luc3RhbmNlLmNvbmZpZy5wYXNzd29yZFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgYXhpb3MucmVxdWVzdChjb25maWcpLnRoZW4oXG4gICAgICAgIHJlc3VsdHMgPT4ge1xuICAgICAgICAgIF9pbnN0YW5jZS5jYWNoZVtoYXNoZWRdLmRhdGEgPSByZXN1bHRzLmRhdGE7XG4gICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgIGZldGNoZXIucGVyZm9ybVBvc3RQcm9jZXNzKFxuICAgICAgICAgICAgICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9pbnN0YW5jZS5jYWNoZVtoYXNoZWRdLmRhdGEpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgX2luc3RhbmNlLmNhY2hlW2hhc2hlZF0ucmVzb2x1dGlvbnMuZm9yRWFjaChyZXNvbHV0aW9uID0+IHtcbiAgICAgICAgICAgIHJlc29sdXRpb24oXG4gICAgICAgICAgICAgIGZldGNoZXIucGVyZm9ybVBvc3RQcm9jZXNzKFxuICAgICAgICAgICAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX2luc3RhbmNlLmNhY2hlW2hhc2hlZF0uZGF0YSkpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX2luc3RhbmNlLmNhY2hlW2hhc2hlZF0uZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIV9pbnN0YW5jZS5jYWNoZVtoYXNoZWRdLmZpbmlzaGVkKSB7XG4gICAgICAgIF9pbnN0YW5jZS5jYWNoZVtoYXNoZWRdLnJlc29sdXRpb25zLnB1c2gocmVzb2x2ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKFxuICAgICAgICAgIGZldGNoZXIucGVyZm9ybVBvc3RQcm9jZXNzKFxuICAgICAgICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfaW5zdGFuY2UuY2FjaGVbaGFzaGVkXS5kYXRhKSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgZGF0YSByZWxhdGVkIHRvIGEgZmV0Y2hlclxuICAgKiBAcGFyYW0ge0ZldGNoZXJ9IGZldGNoZXJcbiAgICogQHJldHVybnMge1Byb2dyZXNzUHJvbWlzZX1cbiAgICovXG4gIGdldFJlc3VsdHMoZmV0Y2hlcikge1xuICAgIGlmIChmZXRjaGVyLl9mZXRjaGVycykge1xuICAgICAgLy8gSWYgaXMgYSBtdWx0aWZldGNoZXJcbiAgICAgIHJldHVybiB0aGlzLmdldEFsbFJlc3VsdHMoZmV0Y2hlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoZmV0Y2hlci5oYXNEZXBlbmRlbmNpZXMoKSkge1xuICAgICAgICBmZXRjaGVyXG4gICAgICAgICAgLmdldERlcGVuZGVjeUZldGNoUmVzdWx0cygpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmV0Y2hlci5wZXJmb3JtUHJlUHJvY2VzcygpO1xuICAgICAgICAgICAgdGhpcy5fZmV0Y2goZmV0Y2hlciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZmV0Y2goZmV0Y2hlciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIGRhdGEgZm9yIG11bHRpcGxlIGZldGNoZXJzXG4gICAqIEBwYXJhbSB7TXVsdGlGZXRjaGVyfSBtdWx0aWZldGNoZXJcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBnZXRBbGxSZXN1bHRzKG11bHRpZmV0Y2hlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBwcm9taXNlcyA9IG11bHRpZmV0Y2hlci5mZXRjaGVycy5tYXAoZmV0Y2hlciA9PlxuICAgICAgICBuZXcgUnVubmVyKCkuZ2V0UmVzdWx0cyhmZXRjaGVyKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICByZXNvbHZlKG11bHRpZmV0Y2hlci5wZXJmb3JtUG9zdFByb2Nlc3MocmVzdWx0cykpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCA/IHBhcnNlSGVhZGVycyhyZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSA6IG51bGw7XG4gICAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnLCBudWxsLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICB2YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG5cbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgLy8gT25seSBOb2RlLkpTIGhhcyBhIHByb2Nlc3MgdmFyaWFibGUgdGhhdCBpcyBvZiBbW0NsYXNzXV0gcHJvY2Vzc1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICB2YXIgY29uZmlnID0ge307XG5cbiAgdXRpbHMuZm9yRWFjaChbJ3VybCcsICdtZXRob2QnLCAncGFyYW1zJywgJ2RhdGEnXSwgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goWydoZWFkZXJzJywgJ2F1dGgnLCAncHJveHknXSwgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhwcm9wKSB7XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGNvbmZpZzJbcHJvcF0pKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSB1dGlscy5kZWVwTWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdChjb25maWcxW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgdXRpbHMuZm9yRWFjaChbXG4gICAgJ2Jhc2VVUkwnLCAndHJhbnNmb3JtUmVxdWVzdCcsICd0cmFuc2Zvcm1SZXNwb25zZScsICdwYXJhbXNTZXJpYWxpemVyJyxcbiAgICAndGltZW91dCcsICd3aXRoQ3JlZGVudGlhbHMnLCAnYWRhcHRlcicsICdyZXNwb25zZVR5cGUnLCAneHNyZkNvb2tpZU5hbWUnLFxuICAgICd4c3JmSGVhZGVyTmFtZScsICdvblVwbG9hZFByb2dyZXNzJywgJ29uRG93bmxvYWRQcm9ncmVzcycsICdtYXhDb250ZW50TGVuZ3RoJyxcbiAgICAndmFsaWRhdGVTdGF0dXMnLCAnbWF4UmVkaXJlY3RzJywgJ2h0dHBBZ2VudCcsICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJyxcbiAgICAnc29ja2V0UGF0aCdcbiAgXSwgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5DYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xufTtcblxuQ2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gRmFsbGJhY2sgZm9yIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0IFN5bWJvbFxuY29uc3QgTElTVEVORVJTID0gU3ltYm9sID8gU3ltYm9sKCkgOiAnX19saXN0ZW5lcnMnO1xuXG5jbGFzcyBQcm9ncmVzc1Byb21pc2UgZXh0ZW5kcyBQcm9taXNlIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBzdXBlcigocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgICAgZXhlY3V0b3IoXG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIHJlamVjdCxcbiAgICAgICAgLy8gUGFzcyBtZXRob2QgZm9yIHBhc3NpbmcgcHJvZ3Jlc3MgdG8gbGlzdGVuZXJcbiAgICAgICAgdmFsdWUgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tMSVNURU5FUlNdLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIodmFsdWUpKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICAgIHRoaXNbTElTVEVORVJTXSA9IFtdO1xuICB9XG4gIHByb2dyZXNzKGhhbmRsZXIpIHtcbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BST0dSRVNTX1JFUVVJUkVTX0ZVTkNUSU9OJyk7XG4gICAgdGhpc1tMSVNURU5FUlNdLnB1c2goaGFuZGxlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc3RhdGljIGFsbChwcm9taXNlcykge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBuZXcgQXJyYXkocHJvbWlzZXMubGVuZ3RoKTtcbiAgICBjb25zdCBsZW5ndGggPSBwcm9taXNlcy5sZW5ndGg7XG4gICAgbGV0IHJlc29sdmVDb3VudCA9IDA7XG4gICAgcmV0dXJuIG5ldyBQcm9ncmVzc1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCwgcHJvZ3Jlc3MpID0+IHtcbiAgICAgIHByb21pc2VzLmZvckVhY2goKHByb21pc2UsIGluZGV4KSA9PiB7XG4gICAgICAgIHByb21pc2VcbiAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSByZXN1bHQ7XG4gICAgICAgICAgICByZXN1bHRzLnByb3BvcnRpb24gPSArK3Jlc29sdmVDb3VudCAvIGxlbmd0aDtcbiAgICAgICAgICAgIHByb2dyZXNzKHJlc3VsdHMpO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVDb3VudCA9PT0gbGVuZ3RoKSByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBzdGF0aWMgc2VxdWVuY2UoaW5wdXRzLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0cy5sZW5ndGg7XG4gICAgbGV0IHJlc29sdmVDb3VudCA9IDA7XG4gICAgcmV0dXJuIG5ldyBQcm9ncmVzc1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCwgcHJvZ3Jlc3MpID0+IHtcbiAgICAgIGZ1bmN0aW9uIGludm9rZU5leHQoKSB7XG4gICAgICAgIGhhbmRsZXJcbiAgICAgICAgICAuY2FsbChudWxsLCBpbnB1dHNbcmVzdWx0cy5sZW5ndGhdKVxuICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIHJlc3VsdHMucHJvcG9ydGlvbiA9ICsrcmVzb2x2ZUNvdW50IC8gbGVuZ3RoO1xuICAgICAgICAgICAgcHJvZ3Jlc3MocmVzdWx0cyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IGxlbmd0aCkgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgIGVsc2UgaW52b2tlTmV4dCgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICB9XG4gICAgICBpbnZva2VOZXh0KCk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9ncmVzc1Byb21pc2U7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9jb3JlL21lcmdlQ29uZmlnJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGF4aW9zLmRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbi8vIFRoZSBfaXNCdWZmZXIgY2hlY2sgaXMgZm9yIFNhZmFyaSA1LTcgc3VwcG9ydCwgYmVjYXVzZSBpdCdzIG1pc3Npbmdcbi8vIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgKGlzQnVmZmVyKG9iaikgfHwgaXNTbG93QnVmZmVyKG9iaikgfHwgISFvYmouX2lzQnVmZmVyKVxufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiAhIW9iai5jb25zdHJ1Y3RvciAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG5cbi8vIEZvciBOb2RlIHYwLjEwIHN1cHBvcnQuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHkuXG5mdW5jdGlvbiBpc1Nsb3dCdWZmZXIgKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iai5yZWFkRmxvYXRMRSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnNsaWNlID09PSAnZnVuY3Rpb24nICYmIGlzQnVmZmVyKG9iai5zbGljZSgwLCAwKSlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcbiAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kID8gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpIDogJ2dldCc7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXBkYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBjb25maWcsIGVycm9yIGNvZGUsIGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBUaGUgZXJyb3IgdG8gdXBkYXRlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICBpZiAoY29kZSkge1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICB9XG5cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG5cbiAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICBjb2RlOiB0aGlzLmNvZGVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXJyb3I7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAgIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAgIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICAgIH07XG4gICAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLyskLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgdmFyIHRva2VuID0gdGhpcztcbiAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcbiAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbkNhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufTtcbiIsIi8qKlxuICogVGhpcyBpcyB0aGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHByb2Nlc3NvclxuICovXG5leHBvcnQgY2xhc3MgUHJvY2VzcyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvY2Vzc29yXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wb3N0UHJvY2Vzc29ycyA9IFtdO1xuICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHByb2Nlc3NvciBoYXMgZGVwZW5kZW5jaWVzXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAtIEJvb2xlYW4gdmFsdWUgb2YgdGhlIHJlc3VsdFxuICAgKi9cbiAgaGFzRGVwZW5kZW5jaWVzKCkge1xuICAgIHJldHVybiB0aGlzLmRlcGVuZGVuY2llcy5sZW5ndGggPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgZGVwZW5kZW5jeSB0byB0aGUgcHJvY2Vzc29yXG4gICAqIEBwYXJhbSB7RGVwZW5kZW5jeX0gZGVwZW5kZW5jeSAtIFRoZVxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYWRkUHJlUHJvY2Vzc1xuICAgKiBAcmV0dXJucyB7UHJvY2Vzc31cbiAgICovXG4gIHByZVByb2Nlc3MoZGVwZW5kZW5jeSkge1xuICAgIHRoaXMuZGVwZW5kZW5jaWVzLnB1c2goZGVwZW5kZW5jeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBkZXBlbmRlbmN5IHRvIHRoZSBwcm9jZXNzb3JcbiAgICogQHBhcmFtIHtEZXBlbmRlbmN5fSBkZXBlbmRlbmN5XG4gICAqIEByZXR1cm5zIHtQcm9jZXNzfVxuICAgKi9cbiAgYWRkUHJlUHJvY2VzcyhkZXBlbmRlbmN5KSB7XG4gICAgdGhpcy5kZXBlbmRlbmNpZXMucHVzaChkZXBlbmRlbmN5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGNhbGxiYWNrIHByb2Nlc3MgdGhlIG91dHB1dCBwcm9jZXNzXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKiBAZGVwcmVjYXRlZCBVc2UgYWRkUG9zdFByb2Nlc3NcbiAgICogQHJldHVybnMge1Byb2Nlc3N9XG4gICAqL1xuICBwb3N0UHJvY2VzcyhjYWxsYmFjaykge1xuICAgIHRoaXMucG9zdFByb2Nlc3NvcnMucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBjYWxsYmFjayBwcm9jZXNzIHRoZSBvdXRwdXQgcHJvY2Vzc1xuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICogQHJldHVybnMge1Byb2Nlc3N9XG4gICAqL1xuICBhZGRQb3N0UHJvY2VzcyhjYWxsYmFjaykge1xuICAgIHRoaXMucG9zdFByb2Nlc3NvcnMucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgcHJlIHByb2Nlc3NcbiAgICogQHJldHVybnMge1Byb2Nlc3N9XG4gICAqL1xuICBwZXJmb3JtUHJlUHJvY2VzcygpIHtcbiAgICB0aGlzLmRlcGVuZGVuY2llcy5mb3JFYWNoKGRlcGVuZGVuY3kgPT4ge1xuICAgICAgZGVwZW5kZW5jeS5wcm9jZXNzQ2FsbGJhY2soZGVwZW5kZW5jeS5wcm9jZXNzLl9yZXN1bHRzLCB0aGlzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBwb3N0IHByb2Nlc3MgYWZ0ZXIgdGhlIHByb2Nlc3MgaGFzIGVuZGVkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBwZXJmb3JtUG9zdFByb2Nlc3MoZGF0YSkge1xuICAgIHRoaXMuX3Jlc3VsdHMgPSBkYXRhO1xuICAgIGxldCBkYXRhVG9Qcm9jZXNzID0gZGF0YTtcblxuICAgIHRoaXMucG9zdFByb2Nlc3NvcnMuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICBkYXRhVG9Qcm9jZXNzID0gY2FsbGJhY2soZGF0YVRvUHJvY2Vzcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGFUb1Byb2Nlc3M7XG4gIH1cbn1cbiIsImltcG9ydCB7IFJ1bm5lciB9IGZyb20gJy4vcnVubmVyJztcbmltcG9ydCB7IFByb2Nlc3MgfSBmcm9tICcuL3Byb2Nlc3MnO1xuaW1wb3J0IFByb2dyZXNzUHJvbWlzZSBmcm9tICdwcm9ncmVzcy1wcm9taXNlJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBmZXRjaGVyIHByb2Nlc3NcbiAqQGV4dGVuZHMgUHJvY2Vzc1xuICovXG5leHBvcnQgY2xhc3MgRmV0Y2hlciBleHRlbmRzIFByb2Nlc3Mge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIGZldGhjZXJcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucGFyYW1ldGVycyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIFVSTCBQYXJhbWV0ZXJzXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXQgX3VybFBhcmFtZXRlcnMoKSB7XG4gICAgbGV0IHVybCA9ICcnO1xuXG4gICAgT2JqZWN0LmtleXModGhpcy5wYXJhbWV0ZXJzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAodXJsICE9PSAnJykge1xuICAgICAgICB1cmwgKz0gJyYnO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhcmFtZXRlcnNba2V5XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsICs9IGtleSArICc9JyArIHRoaXMucGFyYW1ldGVyc1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5wYXJhbWV0ZXJzW2tleV0pLmZvckVhY2goa2V5MiA9PiB7XG4gICAgICAgICAgaWYgKHVybCAhPT0gJycpIHtcbiAgICAgICAgICAgIHVybCArPSAnJic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnNba2V5XVtrZXkyXSA9PT0gJycpIHtcbiAgICAgICAgICAgIHVybCArPSBrZXkgKyAnPScgKyBrZXkyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgKz0ga2V5ICsgJz0nICsga2V5MiArICc6JyArIHRoaXMucGFyYW1ldGVyc1trZXldW2tleTJdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB1cmxcbiAgICogQHRocm93cyBJbXBsZW1lbnRhdGlvbiBFcnJvclxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nob3VsZCBpbXBsZW1lbnQgdXJsIGdlbmVyYXRpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBydW5uaW5nIHByb2Nlc3Mgc3RhcnRlZFxuICAgKiBAcmV0dXJucyB7UHJvZ3Jlc3NQcm9taXNlfVxuICAgKi9cbiAgZ2V0KCkge1xuICAgIHJldHVybiBuZXcgUnVubmVyKCkuZ2V0UmVzdWx0cyh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcGFyZW1ldGVyc1xuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIFRoZSBwYXJhbWV0ZXJzIHRvIGJlIHBhc3NlZCB0byB0aGUgdXJsXG4gICAqIEByZXR1cm5zIHtGZXRjaGVyfSAtIE9iamVjdCBvZiB0aGUgZmV0Y2hlclxuICAgKi9cbiAgc2V0UGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7XG4gICAgT2JqZWN0LmtleXMocGFyYW1ldGVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgdGhpcy5wYXJhbWV0ZXJzW2tleV0gPSBwYXJhbWV0ZXJzW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IERlcGVuZGVuY3kgcmVzdWx0c1xuICAgKiBAcmV0dXJucyB7UHJvZ3Jlc3NQcm9taXNlfVxuICAgKi9cbiAgZ2V0RGVwZW5kZWN5RmV0Y2hSZXN1bHRzKCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5kZXBlbmRlbmNpZXMubWFwKGRlcGVuZGVuY3kgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBSdW5uZXIoKS5nZXRSZXN1bHRzKGRlcGVuZGVuY3kucHJvY2Vzcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvZ3Jlc3NQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgX2VuY29kZTY0KGJ1ZmYpIHtcbiAgICByZXR1cm4gYnRvYShcbiAgICAgIG5ldyBVaW50OEFycmF5KGJ1ZmYpLnJlZHVjZSgocywgYikgPT4gcyArIFN0cmluZy5mcm9tQ2hhckNvZGUoYiksICcnKVxuICAgICk7XG4gIH1cbiAgaGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy51cmw7XG4gIH1cbn1cbiIsIi8qKlxuICogVGhpcyByZXByZXNlbnRzIHRoZSBBbmFseXRpY3MgUmVzdWx0c1xuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFJvdyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuYSBBbmFseXRpY3MgT2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJvdyAtIFRoZSBhbmFseXRpY3Mgcm93XG4gICAqIEBwYXJhbSB7QXJyYXl9IGhlYWRlcnMgLSBUaGUgYW5hbHl0aWNzIGhlYWRlcnNcbiAgICogQHBhcmFtIHtPYmplY3R9IG1ldGFEYXRhIC0gVGhlIGFuYWx5dGljcyBtZXRhZGF0YVxuICAgKi9cbiAgY29uc3RydWN0b3Iocm93LCBoZWFkZXJzLCBtZXRhRGF0YSkge1xuICAgIHRoaXMucm93ID0gcm93O1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgdGhpcy5tZXRhRGF0YSA9IG1ldGFEYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRpbWVuc2lvbiBkZXRhaWxzIG9mIHRoZSBhbmFseXRpY3Mgcm93XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgZGltZW5zaW9uXG4gICAqIEByZXR1cm5zIHtPYmplY3R8e2lkLG5hbWUscGF0aH19IC0gVGhlIGRhdGEgb2JqZWN0IHdpdGggbmFtZSBhbmQgaWRcbiAgICovXG4gIGRpbWVuc2lvbihpZCkge1xuICAgIHZhciBpID0gLTEsXG4gICAgICBuYW1lID0gJyc7XG5cbiAgICB0aGlzLmhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGhlYWRlci5uYW1lID09PSBpZCkge1xuICAgICAgICBpID0gaW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRoaXMubWV0YURhdGEubmFtZXMpIHtcbiAgICAgIG5hbWUgPSB0aGlzLm1ldGFEYXRhLm5hbWVzW3RoaXMucm93W2ldXTtcbiAgICB9IGVsc2UgaWYgKHRoaXMubWV0YURhdGEuaXRlbXMpIHtcbiAgICAgIG5hbWUgPSB0aGlzLm1ldGFEYXRhLml0ZW1zW3RoaXMucm93W2ldXSA/IHRoaXMubWV0YURhdGEuaXRlbXNbdGhpcy5yb3dbaV1dLm5hbWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5yb3dbaV0sXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgcGF0aDpcbiAgICAgICAgdGhpcy5tZXRhRGF0YS5vdUhpZXJhcmNoeSAmJlxuICAgICAgICB0aGlzLm1ldGFEYXRhLm91SGllcmFyY2h5W3RoaXMucm93W2ldXSAhPT0gdW5kZWZpbmVkID8gdGhpcy5tZXRhRGF0YS5vdUhpZXJhcmNoeVt0aGlzLnJvd1tpXV0gOiB1bmRlZmluZWRcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRhdGEgZGV0YWlscyBvZiB0aGUgYW5hbHl0aWNzIHJvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fHtpZCxuYW1lfX0gLSBUaGUgZGF0YSBvYmplY3Qgd2l0aCBuYW1lIGFuZCBpZFxuICAgKi9cbiAgZ2V0IGR4KCkge1xuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbignZHgnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwZXJpb2QgZGV0YWlscyBvZiB0aGUgYW5hbHl0aWNzIHJvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fHtpZCxuYW1lfX0gLSBUaGUgcGVyaW9kIG9iamVjdFxuICAgKi9cbiAgZ2V0IHBlKCkge1xuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbigncGUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBvcmdhbmlzYXRpb24gdW5pdCBkZXRhaWxzIG9mIHRoZSBhbmFseXRpY3Mgcm93XG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R8e2lkLG5hbWUscGF0aH19IC0gVGhlIG9yZ2FuaXNhdGlvbiB1bml0IG9iamVjdFxuICAgKi9cbiAgZ2V0IG91KCkge1xuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbignb3UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBpbiBhIHJvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSB2YWx1ZVxuICAgKi9cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbigndmFsdWUnKS5pZDtcbiAgfVxufVxuIiwiaW1wb3J0IHtSb3d9IGZyb20gJy4vcm93JztcblxuLyoqXG4gKiBUaGlzIHJlcHJlc2VudHMgdGhlIEFuYWx5dGljcyBoZWFkZXJcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBBbmFseXRpY3NIZWFkZXIge31cbi8qKlxuICogVGhpcyByZXByZXNlbnRzIHRoZSBBbmFseXRpY3MgSGVhZGVyc1xuICpcbiAqIEBleHRlbmRzIEFycmF5XG4gKi9cbmV4cG9ydCBjbGFzcyBBbmFseXRpY3NIZWFkZXJzIGV4dGVuZHMgQXJyYXkge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgc3VwZXIoLi4uZGF0YSk7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE9iamVjdC5jcmVhdGUoQW5hbHl0aWNzSGVhZGVycy5wcm90b3R5cGUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkYXRhIGFuYWx5dGljcyBoZWFkZXJcbiAgICpcbiAgICogQHJldHVybnMge0FuYWx5dGljc0hlYWRlcn1cbiAgICovXG4gIGdldCBkeCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRIZWFkZXIoJ2R4Jyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcGVyaW9kIGFuYWx5dGljcyBoZWFkZXJcbiAgICpcbiAgICogQHJldHVybnMge0FuYWx5dGljc0hlYWRlcn1cbiAgICovXG4gIGdldCBwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRIZWFkZXIoJ3BlJyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgb3JnYW5pc2F0aW9uIHVuaXQgYW5hbHl0aWNzIGhlYWRlclxuICAgKlxuICAgKiBAcmV0dXJucyB7QW5hbHl0aWNzSGVhZGVyfVxuICAgKi9cbiAgZ2V0IG91KCkge1xuICAgIHJldHVybiB0aGlzLmdldEhlYWRlcignb3UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhbmFseXRpY3MgaGVhZGVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtBbmFseXRpY3NIZWFkZXJ9XG4gICAqL1xuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SGVhZGVyKCd2YWx1ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGhlYWRlciBvZiBhIHBhcmFtZXRlclxuICAgKiBAcGFyYW0gaWRcbiAgICogQHJldHVybnMge0FuYWx5dGljc0hlYWRlcn1cbiAgICovXG4gIGdldEhlYWRlcihpZCkge1xuICAgIGxldCByZXR1cm5IZWFkZXI7XG5cbiAgICB0aGlzLmZvckVhY2goKGhlYWRlciwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChoZWFkZXIubmFtZSA9PT0gaWQpIHtcbiAgICAgICAgcmV0dXJuSGVhZGVyID0gaGVhZGVyO1xuICAgICAgICByZXR1cm5IZWFkZXIuaW5kZXggPSBpbmRleDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmV0dXJuSGVhZGVyO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyByZXByZXNlbnRzIHRoZSBBbmFseXRpY3MgUmVzdWx0c1xuICpcbiAqL1xuZXhwb3J0IGNsYXNzIEFuYWx5dGljc1Jlc3VsdCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuYSBBbmFseXRpY3MgT2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAtIERISVMgQW5hbHl0aWNzIG9iamVjdFxuICAgKi9cbiAgY29uc3RydWN0b3IoYW5hbHl0aWNzT2JqZWN0KSB7XG4gICAgdGhpcy5fZGF0YSA9IGFuYWx5dGljc09iamVjdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBBbmFseXRpY3MgSGVhZGVycyBBcnJheVxuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gREhJUyBBbmFseXRpY3MgaGVhZGVyc1xuICAgKi9cbiAgLypcbiAgZ2V0IGhlYWRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuaGVhZGVycztcbiAgfVxuICAqL1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBBbmFseXRpY3MgSGVhZGVycyBBcnJheVxuICAgKlxuICAgKiBAcmV0dXJucyB7QW5hbHl0aWNzSGVhZGVyc31cbiAgICovXG4gIGdldCBoZWFkZXJzKCkge1xuICAgIHJldHVybiBuZXcgQW5hbHl0aWNzSGVhZGVycyh0aGlzLl9kYXRhLmhlYWRlcnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIEFuYWx5dGljcyBNZXRhZGF0YSBPYmplY3RcbiAgICpcbiAgICogQHJldHVybnMgeyp8bWV0YURhdGF8e2RpbWVuc2lvbnMsIG5hbWVzLCBkeCwgcGUsIG91LCBjb318e291SGllcmFyY2h5LCBpdGVtcywgZGltZW5zaW9uc319XG4gICAqL1xuICBnZXQgbWV0YURhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEubWV0YURhdGE7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcm93cyBvZiB0aGUgYW5hbHl0aWNzIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqL1xuICBnZXQgcm93cygpIHtcbiAgICBsZXQgcm93cyA9IFtdO1xuXG4gICAgdGhpcy5fZGF0YS5yb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgcm93cy5wdXNoKG5ldyBSb3cocm93LCB0aGlzLmhlYWRlcnMsIHRoaXMubWV0YURhdGEpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcm93cztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBkaW1lbnNpb24gZGV0YWlscyBieSBuYW1lIG9mIHRoZSBkaW1lbnNpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R8e2lkLG5hbWUsIXBhdGh9fVxuICAgKi9cbiAgZ2V0RGltZW5zaW9uRGV0YWlsc0J5TmFtZShuYW1lKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICAgIGlmICh0aGlzLm1ldGFEYXRhLmRpbWVuc2lvbnMpIHtcbiAgICAgIHRoaXMubWV0YURhdGEuZGltZW5zaW9uc1tuYW1lXS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmdldERpbWVuc2lvbkRldGFpbHMoaXRlbSkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG91IG9mIHRoZSBhbmFseXRpY3Mgb2JqZWN0XG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIGdldCByb3dzKCkge1xuICAgIGxldCByb3dzID0gW107XG5cbiAgICB0aGlzLl9kYXRhLnJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICByb3dzLnB1c2gobmV3IFJvdyhyb3csIHRoaXMuaGVhZGVycywgdGhpcy5tZXRhRGF0YSkpO1xuICAgIH0pO1xuICAgIHJldHVybiByb3dzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRpbWVuc2lvbiBkZXRhaWxzIG9mIGEgZ2l2ZW4gaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R8e2lkLG5hbWUsIXBhdGh9fVxuICAgKi9cbiAgZ2V0RGltZW5zaW9uRGV0YWlscyhpZCkge1xuICAgIHZhciBuYW1lID0gJyc7XG5cbiAgICBpZiAodGhpcy5tZXRhRGF0YS5uYW1lcykge1xuICAgICAgbmFtZSA9IHRoaXMubWV0YURhdGEubmFtZXNbaWRdO1xuICAgIH0gZWxzZSBpZiAodGhpcy5tZXRhRGF0YS5pdGVtcykge1xuICAgICAgbmFtZSA9IHRoaXMubWV0YURhdGEuaXRlbXNbaWRdID8gdGhpcy5tZXRhRGF0YS5pdGVtc1tpZF0ubmFtZSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBwYXRoOlxuICAgICAgICB0aGlzLm1ldGFEYXRhLm91SGllcmFyY2h5ICYmXG4gICAgICAgICAgdGhpcy5tZXRhRGF0YS5vdUhpZXJhcmNoeVtpZF0gIT09IHVuZGVmaW5lZCA/IHRoaXMubWV0YURhdGEub3VIaWVyYXJjaHlbaWRdIDogdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgQW5hbHl0aWNzIGhlaWdodFxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBudW1iZXIgb2Ygcm93c1xuICAgKi9cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5oZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgQW5hbHl0aWNzIHdpZHRoXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEud2lkdGg7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZldGNoZXIgfSBmcm9tICcuLi91dGlsaXRpZXMvZmV0Y2hlcic7XG5pbXBvcnQgeyBBbmFseXRpY3NSZXN1bHQgfSBmcm9tICcuLi9yZXN1bHQvYW5hbHl0aWNzLXJlc3VsdCc7XG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyByZXByZXNlbnRzIHRoZSBBbmFseXRpY3MgRmV0Y2hlciBmb3IgcHJvY2Vzc2luZyBmb3IgbWFraW5nIFdlYiBBUEkgY2FsbHNcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhbmFseXRpY3MgPSBGbi5BbmFseXRpY3MoKTtcbiAqIEBleHRlbmRzIEZldGNoZXJcbiAqL1xuZXhwb3J0IGNsYXNzIEFuYWx5dGljcyBleHRlbmRzIEZldGNoZXIge1xuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYW4gYW5hbHl0aWNzIGZldGhjZXJcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnNpb24gLSBUaGUgdmVyc2lvbiBvZiBkaGlzIGFuYWx5dGljcyBzdHJ1Y3R1cmUgdG8gdXNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih2ZXJzaW9uID0gMjUpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gMjU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJzaW9uID0gMjY7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucGFyYW1ldGVyc1snZGltZW5zaW9uJ10gPSB7fTtcbiAgICB0aGlzLnBvc3RQcm9jZXNzKGRhdGEgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhbmRhcmRpemVBbmFseXRpY3MoZGF0YSwgdmVyc2lvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGF0YSBmb3IgdGhlIGZldGNoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkeCBUaGUgaWQgb2YgdGhlIGRhdGEgdG8gZ2V0XG4gICAqIEByZXR1cm5zIHtBbmFseXRpY3N9IC0gT2JqZWN0IHdpdGggdGhlIGFuYWx5dGljcyBpbnRlcmFjdGlvbiBwcm9wZXJ0aWVzXG4gICAqL1xuICBzZXREYXRhKGR4KSB7XG4gICAgdGhpcy5zZXREaW1lbnNpb24oJ2R4JywgZHgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBlcmlvZCBmb3IgdGhlIGZldGNoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwZSBUaGUgaWQgb2YgdGhlIHBlcmlvZCB0byBnZXQgZGF0YSBmcm9tXG4gICAqIEByZXR1cm5zIHtBbmFseXRpY3N9IE9iamVjdCB3aXRoIHRoZSBhbmFseXRpY3MgaW50ZXJhY3Rpb24gcHJvcGVydGllc1xuICAgKi9cbiAgc2V0UGVyaW9kKHBlKSB7XG4gICAgdGhpcy5zZXREaW1lbnNpb24oJ3BlJywgcGUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG9yZ2FuaXNhdGlvbiB1bml0IGZvciB0aGUgZmV0Y2hpbmcgb2YgdGhlIGFuYWx5dGljc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3UgLSBPcmdhbmlzYXRpb24gdW5pdFxuICAgKiBAcmV0dXJucyB7QW5hbHl0aWNzfSBPYmplY3Qgd2l0aCB0aGUgYW5hbHl0aWNzIGludGVyYWN0aW9uIHByb3BlcnRpZXNcbiAgICovXG4gIHNldE9yZ1VuaXQob3UpIHtcbiAgICB0aGlzLnNldERpbWVuc2lvbignb3UnLCBvdSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGF0YSxwZXJpb2QgYW5kIG9yZ2FuaXNhdGlvbiB1bml0IGZyb20gZnVuY3Rpb24gaW5wdXQgcGFyYW1ldGVycyBvYmplY3QgZm9yIHRoZSBmZXRjaGluZyBvZiB0aGUgYW5hbHl0aWNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbWV0ZXJzIC0gUnVsZSBwYXJhbWV0ZXJzXG4gICAqIEByZXR1cm5zIHtBbmFseXRpY3N9IE9iamVjdCB3aXRoIHRoZSBhbmFseXRpY3MgaW50ZXJhY3Rpb24gcHJvcGVydGllc1xuICAgKi9cbiAgc2V0U2VsZWN0aW9ucyhwYXJhbWV0ZXJzKSB7XG4gICAgdGhpcy5zZXRQZXJpb2QocGFyYW1ldGVycy5wZSk7XG4gICAgdGhpcy5zZXRPcmdVbml0KHBhcmFtZXRlcnMub3UpO1xuICAgIC8vIFNldCBkYXRhIFNlbGVjdGlvblxuICAgIGlmIChwYXJhbWV0ZXJzLnJ1bGUuanNvbi5kYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEBUT0RPIGFkZCBzdXBwb3J0IGZvciBvbmx5IGZldGNoaW5nIDExY2hhciBsb25nIHVpZHMsIGFuZCBqb2luaW5nIHRoZW1cbiAgICAgIC8vIGludG8gYSBjb21tYSBzZXBhcmF0ZWQgc3RyaW5nLCBzbyBpbiBmdXR1cmUsIHBhcmFtZXRlcnMucnVsZS5qc29uLmRhdGFcbiAgICAgIC8vIGNvdWxkIHNpbXBseSBiZSBhbiBpbmRpY2F0b3IgZXhwcmVzc3Npb24gd2l0aCB1bmFyeSBvcGVyYXRvcnMgYW5kIGphdmFzY3JpcHRcbiAgICAgIC8vIGZ1bmN0aW9ucyBpbnNpZGUgdG8gYmUgZXhlY3V0ZWQgdGhlIGV4cHJlc3MgcGFyYW1ldGVycy5ydWxlLmpzb24uZGF0YVxuICAgICAgdGhpcy5zZXREYXRhKHBhcmFtZXRlcnMucnVsZS5qc29uLmRhdGEpO1xuICAgIH1cbiAgICAvLyBTZXQgZHluYW1pYyBkaW1lbnNpb25cbiAgICBpZiAocGFyYW1ldGVycy5kaW1lbnNpb25zICE9PSB1bmRlZmluZWQgJiYgQXJyYXkuaXNBcnJheShwYXJhbWV0ZXJzLmRpbWVuc2lvbnMpKSB7XG4gICAgICBwYXJhbWV0ZXJzLmRpbWVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoZGltZW5zaW9uKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRpbWVuc2lvbi5pdGVtcykpIHtcbiAgICAgICAgICBsZXQgZGltZW5zaW9uSXRlbXMgPSAnJztcblxuICAgICAgICAgIGRpbWVuc2lvbi5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBkaW1lbnNpb25JdGVtcy5sZW5ndGggPiAwID8gZGltZW5zaW9uSXRlbXMgKz0gJzsnICsgaXRlbSA6IGRpbWVuc2lvbkl0ZW1zICs9IGl0ZW07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zZXREaW1lbnNpb24oZGltZW5zaW9uLmlkLCBkaW1lbnNpb25JdGVtcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkaW1lbnNpb24gZm9yIHRoZSBmZXRjaGluZyBvZiB0aGUgYW5hbHl0aWNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaW0gLSBEeW5hbWljIERpbWVuc2lvbiBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIER5bmFtaWMgZGltZW5zaW9uIG9wdGlvbnMgaWRlbnRpZmllcnNcbiAgICogQHJldHVybnMge0FuYWx5dGljc30gT2JqZWN0IHdpdGggdGhlIGFuYWx5dGljcyBpbnRlcmFjdGlvbiBwcm9wZXJ0aWVzXG4gICAqL1xuICBzZXREaW1lbnNpb24oZGltLCB2YWx1ZSkge1xuICAgIHRoaXMucGFyYW1ldGVyc1snZGltZW5zaW9uJ11bZGltXSA9IHZhbHVlID8gdmFsdWUgOiAnJztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFuZGFyZGl6ZXMgdGhlIGFuYWx5dGljcyBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuYWx5dGljc09iamVjdCAtIFRoZSBhbmFseXRpY3Mgb2JqZWN0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gb2YgZGhpcyBhbmFseXRpY3Mgc3RydWN0dXJlIHRvIHVzZVxuICAgKiBAcmV0dXJucyB7QW5hbHl0aWNzUmVzdWx0fSAtIE9iamVjdCB3aXRoIHRoZSBhbmFseXRpY3MgcmVzdWx0c1xuICAgKi9cbiAgc3RhbmRhcmRpemVBbmFseXRpY3MoYW5hbHl0aWNzT2JqZWN0LCB2ZXJzaW9uID0gMjUpIHtcbiAgICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdib29sZWFuJykge1xuICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAgdmVyc2lvbiA9IDI1O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IDI2O1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBTZXJ2ZXJzaWRlIEV2ZW50IGNsdXN0ZXJpbmcgZG8gbm90aGluZ1xuICAgIGlmIChhbmFseXRpY3NPYmplY3QuY291bnQpIHtcbiAgICAgIHJldHVybiBhbmFseXRpY3NPYmplY3Q7XG4gICAgfVxuICAgIGxldCBzYW5pdGl6ZWRBbmFseXRpY3NPYmplY3QgPSB7XG4gICAgICBoZWFkZXJzOiBbXSxcbiAgICAgIG1ldGFEYXRhOiB7XG4gICAgICAgIGRpbWVuc2lvbnM6IHt9LFxuICAgICAgICBuYW1lczoge30sXG4gICAgICAgIGR4OiBbXSxcbiAgICAgICAgcGU6IFtdLFxuICAgICAgICBvdTogW10sXG4gICAgICAgIGNvOiBbXVxuICAgICAgfSxcbiAgICAgIHJvd3M6IFtdXG4gICAgfTtcblxuICAgIGlmIChhbmFseXRpY3NPYmplY3QpIHtcbiAgICAgIC8qKlxuICAgICAgICogQ2hlY2sgaGVhZGVyc1xuICAgICAgICovXG4gICAgICBpZiAoYW5hbHl0aWNzT2JqZWN0LmhlYWRlcnMpIHtcbiAgICAgICAgYW5hbHl0aWNzT2JqZWN0LmhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgbmV3SGVhZGVyID0gaGVhZGVyO1xuXG4gICAgICAgICAgICBzYW5pdGl6ZWRBbmFseXRpY3NPYmplY3QuaGVhZGVycy5wdXNoKG5ld0hlYWRlcik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIGhlYWRlciBvYmplY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrIG1ldGFEYXRhXG4gICAgICAgKi9cbiAgICAgIGlmIChhbmFseXRpY3NPYmplY3QubWV0YURhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgc2FuaXRpemVkTWV0YWRhdGEgPSB0aGlzLmdldFNhbml0aXplZEFuYWx5dGljc01ldGFkYXRhKFxuICAgICAgICAgICAgYW5hbHl0aWNzT2JqZWN0Lm1ldGFEYXRhLFxuICAgICAgICAgICAgdmVyc2lvblxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBzYW5pdGl6ZWRBbmFseXRpY3NPYmplY3QubWV0YURhdGEgPSBzYW5pdGl6ZWRNZXRhZGF0YTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBtZXRhZGF0YSBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrIHJvd3NcbiAgICAgICAqL1xuICAgICAgaWYgKGFuYWx5dGljc09iamVjdC5yb3dzKSB7XG4gICAgICAgIHNhbml0aXplZEFuYWx5dGljc09iamVjdC5yb3dzID0gYW5hbHl0aWNzT2JqZWN0LnJvd3M7XG4gICAgICB9XG4gICAgfVxuICAgIHNhbml0aXplZEFuYWx5dGljc09iamVjdC5oZWlnaHQgPSBhbmFseXRpY3NPYmplY3QuaGVpZ2h0O1xuICAgIHNhbml0aXplZEFuYWx5dGljc09iamVjdC53aWR0aCA9IGFuYWx5dGljc09iamVjdC53aWR0aDtcbiAgICByZXR1cm4gbmV3IEFuYWx5dGljc1Jlc3VsdChzYW5pdGl6ZWRBbmFseXRpY3NPYmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YW5kYXJkaXplcyB0aGUgYW5hbHl0aWNzIG1ldGFkYXRhIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYW5hbHl0aWNNZXRhZGF0YSAtIFRoZSBhbmFseXRpY3MgbWV0YWRhdGEgb2JqZWN0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gb2YgZGhpcyBhbmFseXRpY3Mgc3RydWN0dXJlIHRvIHVzZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIE9iamVjdCB3aXRoIHRoZSBhbmFseXRpY3MgbWV0YWRhdGFcbiAgICovXG4gIGdldFNhbml0aXplZEFuYWx5dGljc01ldGFkYXRhKGFuYWx5dGljTWV0YWRhdGEsIHZlcnNpb24pIHtcbiAgICBsZXQgc2FuaXRpemVkTWV0YWRhdGEgPSB7fTtcblxuICAgIGlmIChhbmFseXRpY01ldGFkYXRhKSB7XG4gICAgICBpZiAoYW5hbHl0aWNNZXRhZGF0YS5vdUhpZXJhcmNoeSkge1xuICAgICAgICBzYW5pdGl6ZWRNZXRhZGF0YS5vdUhpZXJhcmNoeSA9IGFuYWx5dGljTWV0YWRhdGEub3VIaWVyYXJjaHk7XG4gICAgICB9XG4gICAgICBpZiAodmVyc2lvbiA8IDI2KSB7XG4gICAgICAgIC8vIEdldCBvbGQgc3RydWN0dXJlXG4gICAgICAgIHNhbml0aXplZE1ldGFkYXRhLm5hbWVzID0ge307XG4gICAgICAgIGlmIChhbmFseXRpY01ldGFkYXRhLm5hbWVzKSB7XG4gICAgICAgICAgc2FuaXRpemVkTWV0YWRhdGEubmFtZXMgPSBhbmFseXRpY01ldGFkYXRhLm5hbWVzO1xuICAgICAgICB9IGVsc2UgaWYgKGFuYWx5dGljTWV0YWRhdGEuaXRlbXMpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhhbmFseXRpY01ldGFkYXRhLml0ZW1zKS5mb3JFYWNoKG5hbWVLZXkgPT4ge1xuICAgICAgICAgICAgc2FuaXRpemVkTWV0YWRhdGEubmFtZXNbbmFtZUtleV0gPVxuICAgICAgICAgICAgICBhbmFseXRpY01ldGFkYXRhLml0ZW1zW25hbWVLZXldLm5hbWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5hbHl0aWNNZXRhZGF0YS5kaW1lbnNpb25zKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMoYW5hbHl0aWNNZXRhZGF0YS5kaW1lbnNpb25zKS5mb3JFYWNoKG5hbWVLZXkgPT4ge1xuICAgICAgICAgICAgc2FuaXRpemVkTWV0YWRhdGFbbmFtZUtleV0gPSBhbmFseXRpY01ldGFkYXRhLmRpbWVuc2lvbnNbbmFtZUtleV07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdldCBuZXcgc3RydWN0dXJlXG4gICAgICAgIHNhbml0aXplZE1ldGFkYXRhLml0ZW1zID0ge307XG4gICAgICAgIGlmIChhbmFseXRpY01ldGFkYXRhLml0ZW1zKSB7XG4gICAgICAgICAgc2FuaXRpemVkTWV0YWRhdGEuaXRlbXMgPSBhbmFseXRpY01ldGFkYXRhLml0ZW1zO1xuICAgICAgICB9IGVsc2UgaWYgKGFuYWx5dGljTWV0YWRhdGEubmFtZXMpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhhbmFseXRpY01ldGFkYXRhLml0ZW1zKS5mb3JFYWNoKG5hbWVLZXkgPT4ge1xuICAgICAgICAgICAgYW5hbHl0aWNNZXRhZGF0YS5pdGVtc1tuYW1lS2V5XSA9IHtcbiAgICAgICAgICAgICAgbmFtZTogYW5hbHl0aWNNZXRhZGF0YS5uYW1lc1tuYW1lS2V5XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYW5hbHl0aWNNZXRhZGF0YS5kaW1lbnNpb25zKSB7XG4gICAgICAgICAgc2FuaXRpemVkTWV0YWRhdGEuZGltZW5zaW9ucyA9IHt9O1xuICAgICAgICAgIE9iamVjdC5rZXlzKGFuYWx5dGljTWV0YWRhdGEpLmZvckVhY2gobmFtZUtleSA9PiB7XG4gICAgICAgICAgICBpZiAoWyduYW1lcycsICdpdGVtcycsICdkaW1lbnNpb25zJ10uaW5kZXhPZihuYW1lS2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgc2FuaXRpemVkTWV0YWRhdGEuZGltZW5zaW9uc1tuYW1lS2V5XSA9IGFuYWx5dGljTWV0YWRhdGFbbmFtZUtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2FuaXRpemVkTWV0YWRhdGEuZGltZW5zaW9ucyA9IGFuYWx5dGljTWV0YWRhdGEuZGltZW5zaW9ucztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2FuaXRpemVkTWV0YWRhdGE7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdXJsIGZvciBmZXRjaGluZ1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gJ2FuYWx5dGljcz8nICsgdGhpcy5fdXJsUGFyYW1ldGVycztcbiAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnLi9ydW5uZXInO1xuaW1wb3J0IHsgRmV0Y2hlciB9IGZyb20gJy4vZmV0Y2hlcic7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbXVsdGlwbGUgZmV0Y2hlciBwcm9jZXNzXG4gKkBleHRlbmRzIEZldGNoZXJcbiAqL1xuZXhwb3J0IGNsYXNzIE11bHRpRmV0Y2hlciBleHRlbmRzIEZldGNoZXIge1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZmV0aGNlclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZldGNoZXJzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9mZXRjaGVycyA9IGZldGNoZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIEZldGNoZXJzXG4gICAqIEByZXR1cm5zIHthcnJheX0gZmV0Y2hlcnMgLSBBcnJheSBvZiBGZXRjaGVyc1xuICAgKi9cbiAgZ2V0IGZldGNoZXJzKCkge1xuICAgIHJldHVybiB0aGlzLl9mZXRjaGVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBleGVjdXRlZCBQcm9taXNlXG4gICAqIEByZXR1cm5zIHtQcm9ncmVzc1Byb21pc2V9IHByb2dyZXNzUHJvbWlzZSAtIFByb21pc2Ugd2hpY2ggYWxlcnRzIHByb2dyZXNzc1xuICAgKi9cbiAgZ2V0KCkge1xuICAgIHJldHVybiAobmV3IFJ1bm5lcigpKS5nZXRBbGxSZXN1bHRzKHRoaXMpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ2FsZW5kYXJEYXRlIHtcbiAgY29uc3RydWN0b3IoY2FsZW5kYXIsIHllYXIsIG1vbnRoLCBkYXkpIHtcbiAgICB0aGlzLl9jYWxlbmRhciA9IGNhbGVuZGFyO1xuICAgIHRoaXMuX3llYXIgPSB5ZWFyO1xuICAgIHRoaXMuX21vbnRoID0gbW9udGg7XG4gICAgdGhpcy5fZGF5ID0gZGF5O1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5fY2FsZW5kYXIuX3ZhbGlkYXRlTGV2ZWwgPT09IDAgJiZcbiAgICAgICF0aGlzLl9jYWxlbmRhci5pc1ZhbGlkKHRoaXMuX3llYXIsIHRoaXMuX21vbnRoLCB0aGlzLl9kYXkpXG4gICAgKSB7XG4gICAgICB0aHJvdyB0aGlzLl9jYWxlbmRhci5faW52YWxpZHMuaW52YWxpZERhdGUucmVwbGFjZShcbiAgICAgICAgL1xcezBcXH0vLFxuICAgICAgICB0aGlzLl9jYWxlbmRhci5uYW1lXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG5ld0RhdGUoYSwgYiwgYykge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5uZXdEYXRlKGEgPT0gbnVsbCA/IHRoaXMgOiBhLCBiLCBjKTtcbiAgfVxuXG4gIHllYXIoeWVhcikge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAwID8gdGhpcy5feWVhciA6IHRoaXMuc2V0KHllYXIsICd5Jyk7XG4gIH1cblxuICBtb250aChtb250aCkge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAwID8gdGhpcy5fbW9udGggOiB0aGlzLnNldChtb250aCwgJ20nKTtcbiAgfVxuXG4gIGRheShkYXkpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IHRoaXMuX2RheSA6IHRoaXMuc2V0KGRheSwgJ2QnKTtcbiAgfVxuXG4gIGRhdGUoeWVhciwgbW9udGgsIGRheSkge1xuICAgIGlmICghdGhpcy5fY2FsZW5kYXIuaXNWYWxpZCh5ZWFyLCBtb250aCwgZGF5KSkge1xuICAgICAgdGhyb3cgdGhpcy5fY2FsZW5kYXIuX2ludmFsaWRzLmludmFsaWREYXRlLnJlcGxhY2UoXG4gICAgICAgIC9cXHswXFx9LyxcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIubmFtZVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5feWVhciA9IHllYXI7XG4gICAgdGhpcy5fbW9udGggPSBtb250aDtcbiAgICB0aGlzLl9kYXkgPSBkYXk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGQodGltZSwgdHlwZSkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5hZGQodGhpcywgdGltZSwgdHlwZSk7XG4gIH1cblxuICBzZXQodGltZSwgdHlwZSkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5zZXQodGhpcywgdGltZSwgdHlwZSk7XG4gIH1cblxuICBjb21wYXJlVG8oaW5zdGFuY2UpIHtcbiAgICBsZXQgY29tcGFyZXIgPSB0aGlzLl95ZWFyIC0gaW5zdGFuY2UuX3llYXI7XG5cbiAgICBpZiAodGhpcy5feWVhciA9PT0gaW5zdGFuY2UuX3llYXIpIHtcbiAgICAgIGNvbXBhcmVyID0gdGhpcy5fZGF5IC0gaW5zdGFuY2UuX2RheTtcbiAgICAgIGlmICh0aGlzLl9tb250aCAhPT0gaW5zdGFuY2UuX21vbnRoKSB7XG4gICAgICAgIGNvbXBhcmVyID0gdGhpcy5tb250aE9mWWVhcigpIC0gaW5zdGFuY2UubW9udGhPZlllYXIoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY2FsZW5kYXIubmFtZSAhPT0gaW5zdGFuY2UuX2NhbGVuZGFyLm5hbWUpIHtcbiAgICAgIHRocm93IHRoaXMuX2NhbGVuZGFyLl9pbnZhbGlkcy5kaWZmZXJlbnRDYWxlbmRhcnNcbiAgICAgICAgLnJlcGxhY2UoL1xcezBcXH0vLCB0aGlzLl9jYWxlbmRhci5uYW1lKVxuICAgICAgICAucmVwbGFjZSgvXFx7MVxcfS8sIGluc3RhbmNlLl9jYWxlbmRhci5uYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcGFyZXIgPT09IDAgPyAwIDogY29tcGFyZXIgPCAwID8gLTEgOiArMTtcbiAgfVxuXG4gIHRvSkQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLnRvSkQodGhpcyk7XG4gIH1cblxuICBmcm9tSkQoYSkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5mcm9tSkQoYSk7XG4gIH1cblxuICB0b0pTRGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FsZW5kYXIudG9KU0RhdGUodGhpcyk7XG4gIH1cblxuICBmcm9tSlNEYXRlKGEpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FsZW5kYXIuZnJvbUpTRGF0ZShhKTtcbiAgfVxuXG4gIHBhZChhLCBiKSB7XG4gICAgYSA9ICcnICsgYTtcbiAgICByZXR1cm4gJzAwMDAwMCcuc3Vic3RyaW5nKDAsIGIgLSBhLmxlbmd0aCkgKyBhO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICh0aGlzLnllYXIoKSA8IDAgPyAnLScgOiAnJykgK1xuICAgICAgdGhpcy5wYWQoTWF0aC5hYnModGhpcy55ZWFyKCkpLCA0KSArXG4gICAgICAnLScgK1xuICAgICAgdGhpcy5wYWQodGhpcy5tb250aCgpLCAyKSArXG4gICAgICAnLScgK1xuICAgICAgdGhpcy5wYWQodGhpcy5kYXkoKSwgMilcbiAgICApO1xuICB9XG5cbiAgbGVhcFllYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLmxlYXBZZWFyKHRoaXMpO1xuICB9XG5cbiAgZXBvY2goKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLmVwb2NoKHRoaXMpO1xuICB9XG5cbiAgZm9ybWF0WWVhcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FsZW5kYXIuZm9ybWF0WWVhcih0aGlzKTtcbiAgfVxuXG4gIG1vbnRoT2ZZZWFyKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5tb250aE9mWWVhcih0aGlzKTtcbiAgfVxuXG4gIHdlZWtPZlllYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLndlZWtPZlllYXIodGhpcyk7XG4gIH1cblxuICBkYXlzSW5ZZWFyKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5kYXlzSW5ZZWFyKHRoaXMpO1xuICB9XG5cbiAgZGF5T2ZZZWFyKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5kYXlPZlllYXIodGhpcyk7XG4gIH1cblxuICBkYXlzSW5Nb250aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FsZW5kYXIuZGF5c0luTW9udGgodGhpcyk7XG4gIH1cblxuICBkYXlPZldlZWsoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLmRheU9mV2Vlayh0aGlzKTtcbiAgfVxuXG4gIHdlZWtEYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLndlZWtEYXkodGhpcyk7XG4gIH1cblxuICBleHRyYUluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLmV4dHJhSW5mbyh0aGlzKTtcbiAgfVxuXG4gIGNhbGVuZGFyKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQ2FsZW5kYXJEYXRlXG59IGZyb20gJy4vY2FsZW5kYXItZGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBCYXNlQ2FsZW5kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl92YWxpZGF0ZUxldmVsID0gMDtcbiAgICB0aGlzLl9uYW1lID0gJyc7XG4gICAgdGhpcy5faGFzWWVhclplcm8gPSBmYWxzZTtcbiAgICB0aGlzLl9taW5Nb250aCA9IDE7XG4gICAgdGhpcy5fbWluRGF5ID0gMTtcbiAgICB0aGlzLl9lcG9jaHMgPSBbJ0JDRScsICdDRSddO1xuICAgIHRoaXMuX2ZpcnN0TW9udGggPSAxO1xuICAgIHRoaXMuX2ludmFsaWRzID0ge1xuICAgICAgaW52YWxpZENhbGVuZGFyOiAnQ2FsZW5kYXIgezB9IG5vdCBmb3VuZCcsXG4gICAgICBpbnZhbGlkRGF0ZTogJ0ludmFsaWQgezB9IGRhdGUnLFxuICAgICAgaW52YWxpZE1vbnRoOiAnSW52YWxpZCB7MH0gbW9udGgnLFxuICAgICAgaW52YWxpZFllYXI6ICdJbnZhbGlkIHswfSB5ZWFyJyxcbiAgICAgIGRpZmZlcmVudENhbGVuZGFyczogJ0Nhbm5vdCBtaXggezB9IGFuZCB7MX0gZGF0ZXMnXG4gICAgfTtcbiAgfVxuICBfdmFsaWRhdGUoeWVhck9yRGF0ZSwgbW9udGgsIGRheSwgaW52YWxpZFRleHQpIHtcbiAgICBpZiAoeWVhck9yRGF0ZS55ZWFyKSB7XG4gICAgICByZXR1cm4geWVhck9yRGF0ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fdmFsaWRhdGVMZXZlbCsrO1xuICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlTGV2ZWwgPT09IDEgJiYgIXRoaXMuaXNWYWxpZCh5ZWFyT3JEYXRlLCBtb250aCwgZGF5KSkge1xuICAgICAgICB0aHJvdyBpbnZhbGlkVGV4dC5yZXBsYWNlKC9cXHswXFx9LywgdGhpcy5fbmFtZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRlID0gdGhpcy5uZXdEYXRlKHllYXJPckRhdGUsIG1vbnRoLCBkYXkpO1xuXG4gICAgICB0aGlzLl92YWxpZGF0ZUxldmVsLS07XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl92YWxpZGF0ZUxldmVsLS07XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuXG4gIGlzVmFsaWQoeWVhck9yRGF0ZSwgbW9udGgsIGRheSkge1xuICAgIHRoaXMuX3ZhbGlkYXRlTGV2ZWwrKztcbiAgICBsZXQgdmFsaWQgPSB0aGlzLl9oYXNZZWFyWmVybyB8fCB5ZWFyT3JEYXRlICE9PSAwO1xuXG4gICAgaWYgKHZhbGlkKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy5uZXdEYXRlKHllYXJPckRhdGUsIG1vbnRoLCB0aGlzLl9taW5EYXkpO1xuXG4gICAgICB2YWxpZCA9XG4gICAgICAgIG1vbnRoID49IHRoaXMuX21pbk1vbnRoICYmXG4gICAgICAgIG1vbnRoIC0gdGhpcy5fbWluTW9udGggPCB0aGlzLm1vbnRoc0luWWVhcihlKSAmJlxuICAgICAgICAoZGF5ID49IHRoaXMuX21pbkRheSAmJiBkYXkgLSB0aGlzLl9taW5EYXkgPD0gdGhpcy5kYXlzSW5Nb250aChlKSk7XG4gICAgfVxuICAgIHRoaXMuX3ZhbGlkYXRlTGV2ZWwtLTtcbiAgICByZXR1cm4gdmFsaWQ7XG4gIH1cblxuICBuZXdEYXRlKHllYXJPckRhdGUsIG1vbnRoLCBkYXkpIHtcbiAgICBpZiAoIXllYXJPckRhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvZGF5KCk7XG4gICAgfVxuXG4gICAgaWYgKHllYXJPckRhdGUueWVhcikge1xuICAgICAgdGhpcy5fdmFsaWRhdGUoeWVhck9yRGF0ZSwgbW9udGgsIGRheSwgdGhpcy5faW52YWxpZHMuaW52YWxpZERhdGUpO1xuICAgICAgZGF5ID0geWVhck9yRGF0ZS5kYXkoKTtcbiAgICAgIG1vbnRoID0geWVhck9yRGF0ZS5tb250aCgpO1xuICAgICAgeWVhck9yRGF0ZSA9IHllYXJPckRhdGUueWVhcigpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQ2FsZW5kYXJEYXRlKHRoaXMsIHllYXJPckRhdGUsIG1vbnRoLCBkYXkpO1xuICB9XG5cbiAgdG9kYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbUpTRGF0ZShuZXcgRGF0ZSgpKTtcbiAgfVxuXG4gIGZyb21KU0RhdGUoZGF0ZSkge1xuICAgIHJldHVybiB0aGlzLmZyb21KRCh0aGlzLmZyb21KU0RhdGUoZGF0ZSkudG9KRCgpKTtcbiAgfVxuXG4gIHRvSlNEYXRlKHllYXJPckRhdGUsIG1vbnRoLCBkYXkpIHtcbiAgICBjb25zdCB2YWxpZCA9IHRoaXMuX3ZhbGlkYXRlKFxuICAgICAgeWVhck9yRGF0ZSxcbiAgICAgIG1vbnRoLFxuICAgICAgZGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZERhdGVcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuZnJvbUpEKHRoaXMudG9KRCh2YWxpZCkpLnRvSlNEYXRlKCk7XG4gIH1cblxuICBwYWQoYSwgYikge1xuICAgIGEgPSAnJyArIGE7XG4gICAgcmV0dXJuICcwMDAwMDAnLnN1YnN0cmluZygwLCBiIC0gYS5sZW5ndGgpICsgYTtcbiAgfVxuXG4gIGZvcm1hdFllYXIoeWVhcikge1xuICAgIGNvbnN0IHZhbGlkRGF0ZSA9IHRoaXMuX3ZhbGlkYXRlKFxuICAgICAgeWVhcixcbiAgICAgIHRoaXMuX21pbk1vbnRoLFxuICAgICAgdGhpcy5fbWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZFllYXJcbiAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICh2YWxpZERhdGUueWVhcigpIDwgMCA/ICctJyA6ICcnKSArXG4gICAgICB0aGlzLnBhZChNYXRoLmFicyh2YWxpZERhdGUueWVhcigpKSwgNClcbiAgICApO1xuICB9XG5cbiAgZXBvY2goYSkge1xuICAgIHZhciB2YWxpZERhdGUgPSB0aGlzLl92YWxpZGF0ZShcbiAgICAgIGEsXG4gICAgICB0aGlzLl9taW5Nb250aCxcbiAgICAgIHRoaXMuX21pbkRheSxcbiAgICAgIHRoaXMuX2ludmFsaWRzLmludmFsaWRZZWFyXG4gICAgKTtcblxuICAgIHJldHVybiB2YWxpZERhdGUueWVhcigpIDwgMCA/IHRoaXMuX2Vwb2Noc1swXSA6IHRoaXMuX2Vwb2Noc1sxXTtcbiAgfVxuXG4gIG1vbnRoc0luWWVhcihkYXRlKSB7XG4gICAgdGhpcy5fdmFsaWRhdGUoXG4gICAgICBkYXRlLFxuICAgICAgdGhpcy5fbWluTW9udGgsXG4gICAgICB0aGlzLl9taW5EYXksXG4gICAgICB0aGlzLl9pbnZhbGlkcy5pbnZhbGlkWWVhclxuICAgICk7XG4gICAgcmV0dXJuIDEyO1xuICB9XG5cbiAgbW9udGhPZlllYXIoeWVhciwgbW9udGgpIHtcbiAgICB2YXIgZGF0ZSA9IHRoaXMuX3ZhbGlkYXRlKFxuICAgICAgeWVhcixcbiAgICAgIG1vbnRoLFxuICAgICAgdGhpcy5fbWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZE1vbnRoXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICAoKGRhdGUubW9udGgoKSArIHRoaXMubW9udGhzSW5ZZWFyKGRhdGUpIC0gdGhpcy5fZmlyc3RNb250aCkgJVxuICAgICAgICB0aGlzLm1vbnRoc0luWWVhcihkYXRlKSkgK1xuICAgICAgdGhpcy5fbWluTW9udGhcbiAgICApO1xuICB9XG5cbiAgZnJvbU1vbnRoT2ZZZWFyKHllYXIsIG1vbnRoKSB7XG4gICAgdmFyIG0gPVxuICAgICAgKChtb250aCArIHRoaXMuX2ZpcnN0TW9udGggLSAyICogdGhpcy5fbWluTW9udGgpICVcbiAgICAgICAgdGhpcy5tb250aHNJblllYXIoeWVhcikpICtcbiAgICAgIHRoaXMuX21pbk1vbnRoO1xuXG4gICAgdGhpcy5fdmFsaWRhdGUoeWVhciwgbSwgdGhpcy5fbWluRGF5LCB0aGlzLl9pbnZhbGlkcy5pbnZhbGlkTW9udGgpO1xuXG4gICAgcmV0dXJuIG07XG4gIH1cblxuICBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICB2YXIgZGF0ZSA9IHRoaXMuX3ZhbGlkYXRlKFxuICAgICAgeWVhcixcbiAgICAgIHRoaXMuX21pbk1vbnRoLFxuICAgICAgdGhpcy5fbWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZFllYXJcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMubGVhcFllYXIoZGF0ZSkgPyAzNjYgOiAzNjU7XG4gIH1cblxuICBkYXlPZlllYXIoeWVhck9yRGF0ZSwgbW9udGgsIGRheSkge1xuICAgIHZhciB2YWxpZERhdGUgPSB0aGlzLl92YWxpZGF0ZShcbiAgICAgIHllYXJPckRhdGUsXG4gICAgICBtb250aCxcbiAgICAgIGRheSxcbiAgICAgIHRoaXMuX2ludmFsaWRzLmludmFsaWREYXRlXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICB2YWxpZERhdGUudG9KRCgpIC1cbiAgICAgIHRoaXMubmV3RGF0ZShcbiAgICAgICAgdmFsaWREYXRlLnllYXIoKSxcbiAgICAgICAgdGhpcy5mcm9tTW9udGhPZlllYXIodmFsaWREYXRlLnllYXIoKSwgdGhpcy5fbWluTW9udGgpLFxuICAgICAgICB0aGlzLl9taW5EYXlcbiAgICAgICkudG9KRCgpICtcbiAgICAgIDFcbiAgICApO1xuICB9XG5cbiAgZGF5c0luV2VlaygpIHtcbiAgICByZXR1cm4gNztcbiAgfVxuXG4gIGRheU9mV2Vlayh5ZWFyT3JEYXRlLCBtb250aCwgZGF5KSB7XG4gICAgdmFyIHZhbGlkRGF0ZSA9IHRoaXMuX3ZhbGlkYXRlKFxuICAgICAgeWVhck9yRGF0ZSxcbiAgICAgIG1vbnRoLFxuICAgICAgZGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZERhdGVcbiAgICApO1xuXG4gICAgcmV0dXJuIChNYXRoLmZsb29yKHRoaXMudG9KRCh2YWxpZERhdGUpKSArIDIpICUgdGhpcy5kYXlzSW5XZWVrKCk7XG4gIH1cblxuICBleHRyYUluZm8oeWVhck9yRGF0ZSwgbW9udGgsIGRheSkge1xuICAgIHRoaXMuX3ZhbGlkYXRlKHllYXJPckRhdGUsIG1vbnRoLCBkYXksIHRoaXMuX2ludmFsaWRzLmludmFsaWREYXRlKTtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBhZGQoeWVhck9yRGF0ZSwgbW9udGgsIGRheSkge1xuICAgIHRoaXMuX3ZhbGlkYXRlKFxuICAgICAgeWVhck9yRGF0ZSxcbiAgICAgIHRoaXMuX21pbk1vbnRoLFxuICAgICAgdGhpcy5fbWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZERhdGVcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NvcnJlY3RBZGQoXG4gICAgICB5ZWFyT3JEYXRlLFxuICAgICAgdGhpcy5fYWRkKHllYXJPckRhdGUsIG1vbnRoLCBkYXkpLFxuICAgICAgbW9udGgsXG4gICAgICBkYXlcbiAgICApO1xuICB9XG5cbiAgX2FkZCh5ZWFyT3JEYXRlLCBtb250aCwgZGF5KSB7XG4gICAgdGhpcy5fdmFsaWRhdGVMZXZlbCsrO1xuICAgIGlmIChkYXkgPT09ICdkJyB8fCBkYXkgPT09ICd3Jykge1xuICAgICAgY29uc3QgZCA9IHllYXJPckRhdGUuZnJvbUpEKFxuICAgICAgICB5ZWFyT3JEYXRlLnRvSkQoKSArIG1vbnRoICogKGRheSA9PT0gJ3cnID8gdGhpcy5kYXlzSW5XZWVrKCkgOiAxKVxuICAgICAgKTtcblxuICAgICAgdGhpcy5fdmFsaWRhdGVMZXZlbC0tO1xuXG4gICAgICByZXR1cm4gW2QueWVhcigpLCBkLm1vbnRoKCksIGQuZGF5KCldO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB5ID0geWVhck9yRGF0ZS55ZWFyKCkgKyAoZGF5ID09PSAneScgPyBtb250aCA6IDApO1xuICAgICAgY29uc3QgbSA9IHllYXJPckRhdGUubW9udGhPZlllYXIoKSArIChkYXkgPT09ICdtJyA/IG1vbnRoIDogMCk7XG4gICAgICBjb25zdCBkID0geWVhck9yRGF0ZS5kYXkoKTtcblxuICAgICAgY29uc3QgaSA9IGEgPT4ge1xuICAgICAgICB3aGlsZSAobSA8IGEubWluTW9udGgpIHtcbiAgICAgICAgICB5LS07XG4gICAgICAgICAgbSArPSBhLm1vbnRoc0luWWVhcih5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiID0gYS5tb250aHNJblllYXIoeSk7XG5cbiAgICAgICAgd2hpbGUgKG0gPiBiIC0gMSArIGEubWluTW9udGgpIHtcbiAgICAgICAgICB5Kys7XG4gICAgICAgICAgbSAtPSBiO1xuICAgICAgICAgIGIgPSBhLm1vbnRoc0luWWVhcih5KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKGRheSA9PT0gJ3knKSB7XG4gICAgICAgIGlmICh5ZWFyT3JEYXRlLm1vbnRoKCkgIT09IHRoaXMuZnJvbU1vbnRoT2ZZZWFyKHksIG0pKSB7XG4gICAgICAgICAgbSA9IHRoaXMubmV3RGF0ZSh5LCB5ZWFyT3JEYXRlLm1vbnRoKCksIHRoaXMuX21pbkRheSkubW9udGhPZlllYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBtID0gTWF0aC5taW4obSwgdGhpcy5tb250aHNJblllYXIoeSkpO1xuICAgICAgICBkID0gTWF0aC5taW4oZCwgdGhpcy5kYXlzSW5Nb250aCh5LCB0aGlzLmZyb21Nb250aE9mWWVhcih5LCBtKSkpO1xuICAgICAgfSBlbHNlIGlmIChkYXkgPT09ICdtJykge1xuICAgICAgICBpKHRoaXMpO1xuICAgICAgICBkID0gTWF0aC5taW4oZCwgdGhpcy5kYXlzSW5Nb250aCh5LCB0aGlzLmZyb21Nb250aE9mWWVhcih5LCBtKSkpO1xuICAgICAgfVxuICAgICAgY29uc3QgaiA9IFt5LCB0aGlzLmZyb21Nb250aE9mWWVhcih5LCBtKSwgZF07XG5cbiAgICAgIHRoaXMuX3ZhbGlkYXRlTGV2ZWwtLTtcbiAgICAgIHJldHVybiBqO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuX3ZhbGlkYXRlTGV2ZWwtLTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIF9jb3JyZWN0QWRkKGEsIGIsIGMsIGQpIHtcbiAgICBpZiAoIXRoaXMuX2hhc1llYXJaZXJvICYmIChkID09PSAneScgfHwgZCA9PT0gJ20nKSkge1xuICAgICAgaWYgKGJbMF0gPT09IDAgfHwgYS55ZWFyKCkgPiAwICE9PSBiWzBdID4gMCkge1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgIHk6IFsxLCAxLCAneSddLFxuICAgICAgICAgIG06IFsxLCB0aGlzLm1vbnRoc0luWWVhcigtMSksICdtJ10sXG4gICAgICAgICAgdzogW3RoaXMuZGF5c0luV2VlaygpLCB0aGlzLmRheXNJblllYXIoLTEpLCAnZCddLFxuICAgICAgICAgIGQ6IFsxLCB0aGlzLmRheXNJblllYXIoLTEpLCAnZCddXG4gICAgICAgIH0gW2RdO1xuXG4gICAgICAgIGNvbnN0IGYgPSBjIDwgMCA/IC0xIDogKzE7XG5cbiAgICAgICAgYiA9IHRoaXMuX2FkZChhLCBjICogZVswXSArIGYgKiBlWzFdLCBlWzJdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGEuZGF0ZShiWzBdLCBiWzFdLCBiWzJdKTtcbiAgfVxuICBzZXQoYSwgYiwgYykge1xuICAgIHRoaXMuX3ZhbGlkYXRlKGEsIHRoaXMuX21pbk1vbnRoLCB0aGlzLl9taW5EYXksIHRoaXMuX2ludmFsaWRzLmludmFsaWREYXRlKTtcblxuICAgIGNvbnN0IHkgPSBjID09PSAneScgPyBiIDogYS55ZWFyKCk7XG4gICAgY29uc3QgbSA9IGMgPT09ICdtJyA/IGIgOiBhLm1vbnRoKCk7XG4gICAgY29uc3QgZCA9IGMgPT09ICdkJyA/IGIgOiBhLmRheSgpO1xuXG4gICAgaWYgKGMgPT09ICd5JyB8fCBjID09PSAnbScpIHtcbiAgICAgIGQgPSBNYXRoLm1pbihkLCB0aGlzLmRheXNJbk1vbnRoKHksIG0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYS5kYXRlKHksIG0sIGQpO1xuICB9XG5cbiAgdG9KRChjLCBkLCBlKSB7XG4gICAgY29uc3QgZiA9IHRoaXMuX3ZhbGlkYXRlKGMsIGQsIGUsIHRoaXMuX2ludmFsaWRzLmludmFsaWREYXRlKTtcblxuICAgIGMgPSBmLnllYXIoKTtcbiAgICBkID0gZi5tb250aCgpO1xuICAgIGUgPSBmLmRheSgpO1xuICAgIGlmIChjIDwgMCkge1xuICAgICAgYysrO1xuICAgIH1cbiAgICBpZiAoZCA8IDMpIHtcbiAgICAgIGQgKz0gMTI7XG4gICAgICBjLS07XG4gICAgfVxuICAgIGNvbnN0IGEgPSBNYXRoLmZsb29yKGMgLyAxMDApO1xuICAgIGNvbnN0IGIgPSAyIC0gYSArIE1hdGguZmxvb3IoYSAvIDQpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIE1hdGguZmxvb3IoMzY1LjI1ICogKGMgKyA0NzE2KSkgK1xuICAgICAgTWF0aC5mbG9vcigzMC42MDAxICogKGQgKyAxKSkgK1xuICAgICAgZSArXG4gICAgICBiIC1cbiAgICAgIDE1MjQuNVxuICAgICk7XG4gIH1cbiAgZnJvbUpEKGYpIHtcbiAgICBjb25zdCB6ID0gTWF0aC5mbG9vcihmICsgMC41KTtcbiAgICBjb25zdCBhID0gTWF0aC5mbG9vcigoeiAtIDE4NjcyMTYuMjUpIC8gMzY1MjQuMjUpO1xuXG4gICAgYSA9IHogKyAxICsgYSAtIE1hdGguZmxvb3IoYSAvIDQpO1xuICAgIGNvbnN0IGIgPSBhICsgMTUyNDtcbiAgICBjb25zdCBjID0gTWF0aC5mbG9vcigoYiAtIDEyMi4xKSAvIDM2NS4yNSk7XG4gICAgY29uc3QgZCA9IE1hdGguZmxvb3IoMzY1LjI1ICogYyk7XG4gICAgY29uc3QgZSA9IE1hdGguZmxvb3IoKGIgLSBkKSAvIDMwLjYwMDEpO1xuICAgIGNvbnN0IGcgPSBiIC0gZCAtIE1hdGguZmxvb3IoZSAqIDMwLjYwMDEpO1xuICAgIGNvbnN0IGggPSBlIC0gKGUgPiAxMy41ID8gMTMgOiAxKTtcbiAgICBjb25zdCBpID0gYyAtIChoID4gMi41ID8gNDcxNiA6IDQ3MTUpO1xuXG4gICAgaWYgKGkgPD0gMCkge1xuICAgICAgaS0tO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5uZXdEYXRlKGksIGgsIGcpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlQ2FsZW5kZXIgfSBmcm9tICcuL2Jhc2UtY2FsZW5kYXInO1xuXG5leHBvcnQgY2xhc3MgRXRoaW9waWFuQ2FsZW5kYXIgZXh0ZW5kcyBCYXNlQ2FsZW5kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX25hbWUgPSAnRXRoaW9waWFuJztcbiAgICB0aGlzLl9qZEVwb2NoID0gMTcyMzg1NjtcbiAgICB0aGlzLl9ncmVnb3JpYW5FcG9jaCA9IDE3MjE0MjY7XG4gICAgdGhpcy5fZGF5c1Blck1vbnRoID0gWzMwLCAzMCwgMzAsIDMwLCAzMCwgMzAsIDMwLCAzMCwgMzAsIDMwLCAzMCwgMzAsIDVdO1xuICAgIHRoaXMuX2hhc1llYXJaZXJvID0gZmFsc2U7XG4gICAgdGhpcy5fbWluTW9udGggPSAxO1xuICAgIHRoaXMuX2ZpcnN0TW9udGggPSAxO1xuICAgIHRoaXMuX3F1YXJ0ZXJNb250aE9mZnNldCA9IC0yO1xuICAgIHRoaXMuX21pbkRheSA9IDE7XG4gICAgdGhpcy5fZXBvY2hzID0gWydCRUUnLCAnRUUnXTtcbiAgICB0aGlzLl9tb250aE5hbWVzID0gW1xuICAgICAgJ01lc2tlcmVtJyxcbiAgICAgICdUaWtlbWV0JyxcbiAgICAgICdIaWRhcicsXG4gICAgICAnVGFoZXNhcycsXG4gICAgICAnVGlyJyxcbiAgICAgICdZZWthdGl0JyxcbiAgICAgICdNZWdhYml0JyxcbiAgICAgICdNaWF6aWEnLFxuICAgICAgJ0dlbmJvdCcsXG4gICAgICAnU2VuZScsXG4gICAgICAnSGFtbGUnLFxuICAgICAgJ05laGFzZScsXG4gICAgICAnUGFndW1lJ1xuICAgIF07XG4gICAgdGhpcy5fbW9udGhOYW1lc1Nob3J0ID0gW1xuICAgICAgJ01lcycsXG4gICAgICAnVGlrJyxcbiAgICAgICdIaWQnLFxuICAgICAgJ1RhaCcsXG4gICAgICAnVGlyJyxcbiAgICAgICdZZWsnLFxuICAgICAgJ01lZycsXG4gICAgICAnTWlhJyxcbiAgICAgICdHZW4nLFxuICAgICAgJ1NlbicsXG4gICAgICAnSGFtJyxcbiAgICAgICdOZWgnLFxuICAgICAgJ1BhZydcbiAgICBdO1xuICAgIHRoaXMuX2RheU5hbWVzID0gW1xuICAgICAgJ0VodWQnLFxuICAgICAgJ1NlZ25vJyxcbiAgICAgICdNYWtzZWdubycsXG4gICAgICAnSXJvYicsXG4gICAgICAnSGFtdXMnLFxuICAgICAgJ0FyYicsXG4gICAgICAnS2lkYW1lJ1xuICAgIF07XG4gICAgdGhpcy5fZGF5TmFtZXNTaG9ydCA9IFsnRWh1JywgJ1NlZycsICdNYWsnLCAnSXJvJywgJ0hhbScsICdBcmInLCAnS2lkJ107XG4gICAgdGhpcy5fZGF5TmFtZXNNaW4gPSBbJ0VoJywgJ1NlJywgJ01hJywgJ0lyJywgJ0hhJywgJ0FyJywgJ0tpJ107XG4gICAgdGhpcy5fZGF0ZUZvcm1hdCA9ICdkZC9tbS95eXl5JztcbiAgICB0aGlzLl9maXJzdERheSA9IDA7XG4gICAgdGhpcy5faXNSVEwgPSBmYWxzZTtcbiAgfVxuXG4gIG1vbnRoTmFtZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vbnRoTmFtZXM7XG4gIH1cblxuICBsZWFwWWVhcih5ZWFyKSB7XG4gICAgY29uc3QgdmFsaWREYXRlID0gdGhpcy5fdmFsaWRhdGUoXG4gICAgICB5ZWFyLFxuICAgICAgdGhpcy5taW5Nb250aCxcbiAgICAgIHRoaXMubWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZFllYXJcbiAgICApO1xuICAgIGNvbnN0IHZhbGlkWWVhciA9IHZhbGlkRGF0ZS55ZWFyKCkgKyAodmFsaWREYXRlLnllYXIoKSA8IDAgPyAxIDogMCk7XG5cbiAgICByZXR1cm4gdmFsaWRZZWFyICUgNCA9PT0gMyB8fCB2YWxpZFllYXIgJSA0ID09PSAtMTtcbiAgfVxuXG4gIG1vbnRoc0luWWVhcih5ZWFyKSB7XG4gICAgdGhpcy5fdmFsaWRhdGUoXG4gICAgICB5ZWFyLFxuICAgICAgdGhpcy5taW5Nb250aCxcbiAgICAgIHRoaXMubWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZFllYXJcbiAgICApO1xuICAgIHJldHVybiAxMztcbiAgfVxuXG4gIHdlZWtPZlllYXIoeWVhciwgbW9udGgsIGRheSkge1xuICAgIHZhciBkYXRlID0gdGhpcy5uZXdEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xuXG4gICAgZGF0ZS5hZGQoLWRhdGUuZGF5T2ZXZWVrKCksICdkJyk7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKGRhdGUuZGF5T2ZZZWFyKCkgLSAxKSAvIDcpICsgMTtcbiAgfVxuXG4gIGRheXNJbk1vbnRoKGEsIGIpIHtcbiAgICBjb25zdCB2YWxpZERhdGUgPSB0aGlzLl92YWxpZGF0ZShcbiAgICAgIGEsXG4gICAgICBiLFxuICAgICAgdGhpcy5fbWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZE1vbnRoXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLl9kYXlzUGVyTW9udGhbdmFsaWREYXRlLm1vbnRoKCkgLSAxXSArXG4gICAgICAodmFsaWREYXRlLm1vbnRoKCkgPT09IDEzICYmIHRoaXMubGVhcFllYXIodmFsaWREYXRlLnllYXIoKSkgPyAxIDogMClcbiAgICApO1xuICB9XG4gIHdlZWtEYXkoYSwgYiwgYykge1xuICAgIHJldHVybiAodGhpcy5kYXlPZldlZWsoYSwgYiwgYykgfHwgNykgPCA2O1xuICB9XG5cbiAgcXVhcnRlck1vbnRoT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9xdWFydGVyTW9udGhPZmZzZXQ7XG4gIH1cblxuICBmcm9tSlNEYXRlKGRhdGUpIHtcbiAgICBjb25zdCBuZXdEYXRlID0gdGhpcy5uZXdEYXRlKFxuICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgZGF0ZS5nZXRNb250aCgpICsgMSxcbiAgICAgIGRhdGUuZ2V0RGF0ZSgpXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmZyb21KRChcbiAgICAgIHRoaXMudG9KRChuZXdEYXRlLnllYXIoKSwgbmV3RGF0ZS5tb250aCgpLCBuZXdEYXRlLmRheSgpKVxuICAgICk7XG4gIH1cblxuICB0b0pEKHllYXIsIG1vbnRoLCBkYXkpIHtcbiAgICBjb25zdCBzID1cbiAgICAgIE1hdGguZmxvb3IoeWVhciAvIDQpIC1cbiAgICAgIE1hdGguZmxvb3IoKHllYXIgLSAxKSAvIDQpIC1cbiAgICAgIE1hdGguZmxvb3IoeWVhciAvIDEwMCkgK1xuICAgICAgTWF0aC5mbG9vcigoeWVhciAtIDEpIC8gMTAwKSArXG4gICAgICBNYXRoLmZsb29yKHllYXIgLyA0MDApIC1cbiAgICAgIE1hdGguZmxvb3IoKHllYXIgLSAxKSAvIDQwMCk7XG4gICAgY29uc3QgdCA9IE1hdGguZmxvb3IoKDE0IC0gbW9udGgpIC8gMTIpO1xuICAgIGNvbnN0IG4gPVxuICAgICAgMzEgKiB0ICogKG1vbnRoIC0gMSkgK1xuICAgICAgKDEgLSB0KSAqICg1OSArIHMgKyAzMCAqIChtb250aCAtIDMpICsgTWF0aC5mbG9vcigoMyAqIG1vbnRoIC0gNykgLyA1KSkgK1xuICAgICAgZGF5IC1cbiAgICAgIDE7XG4gICAgY29uc3QgaiA9XG4gICAgICB0aGlzLl9ncmVnb3JpYW5FcG9jaCArXG4gICAgICAzNjUgKiAoeWVhciAtIDEpICtcbiAgICAgIE1hdGguZmxvb3IoKHllYXIgLSAxKSAvIDQpIC1cbiAgICAgIE1hdGguZmxvb3IoKHllYXIgLSAxKSAvIDEwMCkgK1xuICAgICAgTWF0aC5mbG9vcigoeWVhciAtIDEpIC8gNDAwKSArXG4gICAgICBuO1xuXG4gICAgcmV0dXJuIGo7XG4gIH1cblxuICBmcm9tSkQoYSkge1xuICAgIGNvbnN0IHIgPSAoYSAtIHRoaXMuX2pkRXBvY2gpICUgMTQ2MTtcbiAgICBjb25zdCBuID0gKHIgJSAzNjUpICsgMzY1ICogTWF0aC5mbG9vcihyIC8gMTQ2MCk7XG5cbiAgICBjb25zdCB5ZWFyID1cbiAgICAgIDQgKiBNYXRoLmZsb29yKChhIC0gdGhpcy5famRFcG9jaCkgLyAxNDYxKSArXG4gICAgICBNYXRoLmZsb29yKHIgLyAzNjUpIC1cbiAgICAgIE1hdGguZmxvb3IociAvIDE0NjApO1xuICAgIGNvbnN0IG1vbnRoID0gTWF0aC5mbG9vcihuIC8gMzApICsgMTtcbiAgICBjb25zdCBkYXkgPSAobiAlIDMwKSArIDE7XG5cbiAgICByZXR1cm4gdGhpcy5uZXdEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlQ2FsZW5kZXIgfSBmcm9tICcuL2Jhc2UtY2FsZW5kYXInO1xuXG5leHBvcnQgY2xhc3MgR3JlZ29yaWFuQ2FsZW5kYXIgZXh0ZW5kcyBCYXNlQ2FsZW5kZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX25hbWUgPSAnR3JlZ29yaWFuJztcbiAgICB0aGlzLl9qZEVwb2NoID0gMTcyMTQyNS41O1xuICAgIHRoaXMuX2RheXNQZXJNb250aCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbiAgICB0aGlzLl9oYXNZZWFyWmVybyA9IGZhbHNlO1xuICAgIHRoaXMuX21pbk1vbnRoID0gMTtcbiAgICB0aGlzLl9maXJzdE1vbnRoID0gMTtcbiAgICB0aGlzLl9taW5EYXkgPSAxO1xuICAgIHRoaXMuX2Vwb2NocyA9IFsnQkNFJywgJ0NFJ107XG4gICAgdGhpcy5fbW9udGhOYW1lcyA9IFtcbiAgICAgICdKYW51YXJ5JyxcbiAgICAgICdGZWJydWFyeScsXG4gICAgICAnTWFyY2gnLFxuICAgICAgJ0FwcmlsJyxcbiAgICAgICdNYXknLFxuICAgICAgJ0p1bmUnLFxuICAgICAgJ0p1bHknLFxuICAgICAgJ0F1Z3VzdCcsXG4gICAgICAnU2VwdGVtYmVyJyxcbiAgICAgICdPY3RvYmVyJyxcbiAgICAgICdOb3ZlbWJlcicsXG4gICAgICAnRGVjZW1iZXInXG4gICAgXTtcbiAgICB0aGlzLl9kYXlOYW1lcyA9IFtcbiAgICAgICdTdW5kYXknLFxuICAgICAgJ01vbmRheScsXG4gICAgICAnVHVlc2RheScsXG4gICAgICAnV2VkbmVzZGF5JyxcbiAgICAgICdUaHVyc2RheScsXG4gICAgICAnRnJpZGF5JyxcbiAgICAgICdTYXR1cmRheSdcbiAgICBdO1xuICAgIHRoaXMuX21vbnRoTmFtZXNTaG9ydCA9IFtcbiAgICAgICdKYW4nLFxuICAgICAgJ0ZlYicsXG4gICAgICAnTWFyJyxcbiAgICAgICdBcHInLFxuICAgICAgJ01heScsXG4gICAgICAnSnVuJyxcbiAgICAgICdKdWwnLFxuICAgICAgJ0F1ZycsXG4gICAgICAnU2VwJyxcbiAgICAgICdPY3QnLFxuICAgICAgJ05vdicsXG4gICAgICAnRGVjJ1xuICAgIF07XG4gICAgdGhpcy5fZGF5TmFtZXNTaG9ydCA9IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J107XG4gICAgdGhpcy5fZGF5TmFtZXNNaW4gPSBbJ1N1JywgJ01vJywgJ1R1JywgJ1dlJywgJ1RoJywgJ0ZyJywgJ1NhJ107XG4gICAgdGhpcy5fZGF0ZUZvcm1hdCA9ICdtbS9kZC95eXl5JztcbiAgICB0aGlzLl9maXJzdERheSA9IDA7XG4gICAgdGhpcy5faXNSVEwgPSBmYWxzZTtcbiAgfVxuXG4gIG1vbnRoTmFtZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vbnRoTmFtZXM7XG4gIH1cblxuICBsZWFwWWVhcihhKSB7XG4gICAgY29uc3QgYiA9IHRoaXMuX3ZhbGlkYXRlKFxuICAgICAgYSxcbiAgICAgIHRoaXMuX21pbk1vbnRoLFxuICAgICAgdGhpcy5fbWluRGF5LFxuICAgICAgdGhpcy5faW52YWxpZHMuaW52YWxpZFllYXJcbiAgICApO1xuXG4gICAgYSA9IGIueWVhcigpICsgKGIueWVhcigpIDwgMCA/IDEgOiAwKTtcblxuICAgIHJldHVybiBhICUgNCA9PT0gMCAmJiAoYSAlIDEwMCAhPT0gMCB8fCBhICUgNDAwID09PSAwKTtcbiAgfVxuXG4gIHdlZWtPZlllYXIoeWVhciwgbW9udGgsIGRheSkge1xuICAgIGNvbnN0IGRhdGUgPSB0aGlzLm5ld0RhdGUoeWVhciwgbW9udGgsIGRheSk7XG5cbiAgICBkYXRlLmFkZCg0IC0gKGRhdGUuZGF5T2ZXZWVrKCkgfHwgNyksICdkJyk7XG4gICAgY29uc29sZS5sb2coTWF0aC5mbG9vcigoZGF0ZS5kYXlPZlllYXIoKSAtIDEpIC8gNykgKyAxKTtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigoZGF0ZS5kYXlPZlllYXIoKSAtIDEpIC8gNykgKyAxO1xuICB9XG4gIGRheXNJbk1vbnRoKGEsIGIpIHtcbiAgICBjb25zdCBjID0gdGhpcy5fdmFsaWRhdGUoYSwgYiwgdGhpcy5fbWluRGF5LCB0aGlzLl9pbnZhbGlkcy5pbnZhbGlkTW9udGgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2RheXNQZXJNb250aFtjLm1vbnRoKCkgLSAxXSArXG4gICAgICAoYy5tb250aCgpID09PSAyICYmIHRoaXMubGVhcFllYXIoYy55ZWFyKCkpID8gMSA6IDApXG4gICAgKTtcbiAgfVxuICB3ZWVrRGF5KGEsIGIsIGMpIHtcbiAgICByZXR1cm4gKHRoaXMuZGF5T2ZXZWVrKGEsIGIsIGMpIHx8IDcpIDwgNjtcbiAgfVxuXG4gIHF1YXJ0ZXJNb250aE9mZnNldCgpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHRvSkQoYywgZCwgZSkge1xuICAgIGNvbnN0IGYgPSB0aGlzLl92YWxpZGF0ZShjLCBkLCBlLCB0aGlzLl9pbnZhbGlkcy5pbnZhbGlkRGF0ZSk7XG5cbiAgICBjID0gZi55ZWFyKCk7XG4gICAgZCA9IGYubW9udGgoKTtcbiAgICBlID0gZi5kYXkoKTtcbiAgICBpZiAoYyA8IDApIHtcbiAgICAgIGMrKztcbiAgICB9XG4gICAgaWYgKGQgPCAzKSB7XG4gICAgICBkICs9IDEyO1xuICAgICAgYy0tO1xuICAgIH1cbiAgICBjb25zdCBhID0gTWF0aC5mbG9vcihjIC8gMTAwKTtcbiAgICBjb25zdCBiID0gMiAtIGEgKyBNYXRoLmZsb29yKGEgLyA0KTtcblxuICAgIHJldHVybiAoXG4gICAgICBNYXRoLmZsb29yKDM2NS4yNSAqIChjICsgNDcxNikpICtcbiAgICAgIE1hdGguZmxvb3IoMzAuNjAwMSAqIChkICsgMSkpICtcbiAgICAgIGUgK1xuICAgICAgYiAtXG4gICAgICAxNTI0LjVcbiAgICApO1xuICB9XG4gIGZyb21KRChmKSB7XG4gICAgY29uc3QgeiA9IE1hdGguZmxvb3IoZiArIDAuNSk7XG4gICAgbGV0IGEgPSBNYXRoLmZsb29yKCh6IC0gMTg2NzIxNi4yNSkgLyAzNjUyNC4yNSk7XG5cbiAgICBhID0geiArIDEgKyBhIC0gTWF0aC5mbG9vcihhIC8gNCk7XG4gICAgY29uc3QgYiA9IGEgKyAxNTI0O1xuICAgIGNvbnN0IGMgPSBNYXRoLmZsb29yKChiIC0gMTIyLjEpIC8gMzY1LjI1KTtcbiAgICBjb25zdCBkID0gTWF0aC5mbG9vcigzNjUuMjUgKiBjKTtcbiAgICBjb25zdCBlID0gTWF0aC5mbG9vcigoYiAtIGQpIC8gMzAuNjAwMSk7XG4gICAgY29uc3QgZyA9IGIgLSBkIC0gTWF0aC5mbG9vcihlICogMzAuNjAwMSk7XG4gICAgY29uc3QgaCA9IGUgLSAoZSA+IDEzLjUgPyAxMyA6IDEpO1xuICAgIGNvbnN0IGkgPSBjIC0gKGggPiAyLjUgPyA0NzE2IDogNDcxNSk7XG5cbiAgICBpZiAoaSA8PSAwKSB7XG4gICAgICBpLS07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5ld0RhdGUoaSwgaCwgZyk7XG4gIH1cbiAgdG9KU0RhdGUoYSwgYiwgYykge1xuICAgIGNvbnN0IGQgPSB0aGlzLl92YWxpZGF0ZShhLCBiLCBjLCB0aGlzLl9pbnZhbGlkcy5pbnZhbGlkRGF0ZSk7XG4gICAgY29uc3QgZSA9IG5ldyBEYXRlKGQueWVhcigpLCBkLm1vbnRoKCkgLSAxLCBkLmRheSgpKTtcblxuICAgIGUuc2V0SG91cnMoMCk7XG4gICAgZS5zZXRNaW51dGVzKDApO1xuICAgIGUuc2V0U2Vjb25kcygwKTtcbiAgICBlLnNldE1pbGxpc2Vjb25kcygwKTtcbiAgICBlLnNldEhvdXJzKGUuZ2V0SG91cnMoKSA+IDEyID8gZS5nZXRIb3VycygpICsgMiA6IDApO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgZnJvbUpTRGF0ZShhKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3RGF0ZShhLmdldEZ1bGxZZWFyKCksIGEuZ2V0TW9udGgoKSArIDEsIGEuZ2V0RGF0ZSgpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRXRoaW9waWFuQ2FsZW5kYXIgfSBmcm9tICcuL2V0aGlvcGlhbi1jYWxlbmRlcic7XG5pbXBvcnQgeyBHcmVnb3JpYW5DYWxlbmRhciB9IGZyb20gJy4vZ3JlZ29yaWFuLWNhbGVuZGFyJztcblxuZXhwb3J0IGNsYXNzIENhbGVuZGFyIHtcbiAgY29uc3RydWN0b3IoY2FsZW5kYXJJZCkge1xuICAgIHRoaXMuX2NhbGVuZGFySWQgPSBjYWxlbmRhcklkO1xuICAgIHRoaXMuX2NhbGVuZGFyID0ge307XG5cbiAgICB0aGlzLmdldEluc3RhbmNlKCk7XG4gIH1cblxuICBnZXRJbnN0YW5jZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuX2NhbGVuZGFySWQpIHtcbiAgICAgIGNhc2UgJ2V0aGlvcGlhbic6XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyID0gbmV3IEV0aGlvcGlhbkNhbGVuZGFyKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIgPSBuZXcgR3JlZ29yaWFuQ2FsZW5kYXIoKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2NhbGVuZGFyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxlbmRhciBjb3VsZCBub3QgYmUgaW5zdGFudGlhdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICBnZXRNb250aHMoKSB7XG4gICAgY29uc3QgbW9udGhzTmFtZXMgPSB0aGlzLl9jYWxlbmRhci5tb250aE5hbWVzKCk7XG5cbiAgICByZXR1cm4gbW9udGhzTmFtZXMubGVuZ3RoID09PSAxMyA/IG1vbnRoc05hbWVzLnNsaWNlKDAsIC0xKSA6IG1vbnRoc05hbWVzO1xuICB9XG5cbiAgZ2V0Q3VycmVudFllYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLnRvZGF5KCkueWVhcigpO1xuICB9XG5cbiAgZ2V0Q3VycmVudE1vbnRoKCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci50b2RheSgpLm1vbnRoKCk7XG4gIH1cblxuICBnZXRDdXJyZW50RGF5KCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci50b2RheSgpLmRheSgpO1xuICB9XG5cbiAgZ2V0UXVhcnRlck1vbnRoT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5xdWFydGVyTW9udGhPZmZzZXQoKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRRdWFydGVyKCkge1xuICAgIGNvbnN0IGRpZmZlcmVuY2UgPSB0aGlzLmdldEN1cnJlbnRNb250aCgpIC0gdGhpcy5nZXRRdWFydGVyTW9udGhPZmZzZXQoKTtcblxuICAgIHJldHVybiBNYXRoLmNlaWwoKGRpZmZlcmVuY2UgPiAxMiA/IDEgOiBkaWZmZXJlbmNlKSAvIDMpO1xuICB9XG5cbiAgZ2V0Q3VycmVudEJpTW9udGgoKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmdldEN1cnJlbnRNb250aCgpIC8gMik7XG4gIH1cblxuICBnZXRDdXJyZW50U2l4TW9udGgoKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmdldEN1cnJlbnRNb250aCgpIC8gNik7XG4gIH1cblxuICBnZXRDdXJyZW50U2l4TW9udGhBcHJpbCgpIHtcbiAgICBjb25zdCBjdXJyZW50TW9udGggPSB0aGlzLmdldEN1cnJlbnRNb250aCgpO1xuXG4gICAgcmV0dXJuIGN1cnJlbnRNb250aCA+PSA0ICYmIGN1cnJlbnRNb250aCA8PSA5ID8gMSA6IDI7XG4gIH1cblxuICBnZXRDdXJyZW50U2l4TW9udGhOb3ZlbWJlcigpIHtcbiAgICBjb25zdCBjdXJyZW50TW9udGggPSB0aGlzLmdldEN1cnJlbnRNb250aCgpO1xuXG4gICAgcmV0dXJuIGN1cnJlbnRNb250aCA+PSA1ICYmIGN1cnJlbnRNb250aCA8PSAxMCA/IDIgOiAxO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaHVuaywgaGVhZCwgbGFzdCwgcmFuZ2UgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBDYWxlbmRhciB9IGZyb20gJy4vY2FsZW5kYXJzL2NhbGVuZGFyJztcblxuZXhwb3J0IGNsYXNzIFBlcmlvZEluc3RhbmNlIHtcbiAgY29uc3RydWN0b3IoY2FsZW5kYXJJZCwgdHlwZSwgcHJlZmVyZW5jZXMsIHllYXIpIHtcbiAgICB0aGlzLl9jYWxlbmRhcklkID0gY2FsZW5kYXJJZCB8fCAnZ3JlZ29yaWFuJztcbiAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICB0aGlzLl9wcmVmZXJlbmNlcyA9IHByZWZlcmVuY2VzO1xuICAgIHRoaXMuX3BlcmlvZHMgPSBbXTtcblxuICAgIHRoaXMuX2NhbGVuZGFyID0gbmV3IENhbGVuZGFyKGNhbGVuZGFySWQpO1xuXG4gICAgaWYgKCF0aGlzLl9jYWxlbmRhcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxlbmRhciBjb3VsZCBub3QgYmUgc2V0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5feWVhciA9IHllYXIgfHwgdGhpcy5fY2FsZW5kYXIuZ2V0Q3VycmVudFllYXIoKTtcbiAgICB0aGlzLl9tb250aCA9IHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRNb250aCgpO1xuICAgIHRoaXMuX3F1YXJ0ZXIgPSB0aGlzLl9jYWxlbmRhci5nZXRDdXJyZW50UXVhcnRlcigpO1xuICAgIHRoaXMuX2JpTW9udGggPSB0aGlzLl9jYWxlbmRhci5nZXRDdXJyZW50QmlNb250aCgpO1xuICAgIHRoaXMuX3NpeE1vbnRoID0gdGhpcy5fY2FsZW5kYXIuZ2V0Q3VycmVudFNpeE1vbnRoKCk7XG4gICAgdGhpcy5fc2l4TW9udGhBcHJpbCA9IHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRTaXhNb250aEFwcmlsKCk7XG4gICAgdGhpcy5fc2l4TW9udGhOb3ZlbWJlciA9IHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRTaXhNb250aE5vdmVtYmVyKCk7XG4gICAgdGhpcy5fbW9udGhOYW1lcyA9IHRoaXMuX2NhbGVuZGFyLmdldE1vbnRocygpO1xuICAgIHRoaXMuX3F1YXJ0ZXJNb250aE9mZnNldCA9IHRoaXMuX2NhbGVuZGFyLmdldFF1YXJ0ZXJNb250aE9mZnNldCgpO1xuICB9XG5cbiAgZ2V0KCkge1xuICAgIHRoaXMuX3BlcmlvZHMgPSB0aGlzLmdldFBlcmlvZHModGhpcy5fdHlwZSwgdGhpcy5feWVhcik7XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy5fcHJlZmVyZW5jZXMgJiYgdGhpcy5fcHJlZmVyZW5jZXMuYWxsb3dGdXR1cmVQZXJpb2RzKSB8fFxuICAgICAgdGhpcy5fdHlwZS5pbmRleE9mKCdSZWxhdGl2ZScpICE9PSAtMVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BlcmlvZHMucmV2ZXJzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9taXRGdXR1cmVQZXJpb2RzKFxuICAgICAgdGhpcy5pbmNsdWRlTGFzdFBlcmlvZHModGhpcy5fcGVyaW9kcywgdGhpcy5fdHlwZSwgdGhpcy5feWVhciksXG4gICAgICB0aGlzLl90eXBlXG4gICAgKS5yZXZlcnNlKCk7XG4gIH1cblxuICB5ZWFyKCkge1xuICAgIHJldHVybiB0aGlzLl95ZWFyO1xuICB9XG5cbiAgY3VycmVudFllYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRZZWFyKCk7XG4gIH1cblxuICBnZXRQZXJpb2RzKHR5cGUsIHllYXIsIG9mZnNldCA9IDApIHtcbiAgICBsZXQgcGVyaW9kcztcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnTW9udGhseSc6IHtcbiAgICAgICAgcGVyaW9kcyA9IHRoaXMuZ2V0TW9udGhseVBlcmlvZHMoeWVhciwgb2Zmc2V0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ1F1YXJ0ZXJseSc6IHtcbiAgICAgICAgcGVyaW9kcyA9IHRoaXMuZ2V0UXVhcnRlcmx5UGVyaW9kcyh5ZWFyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0JpTW9udGhseSc6IHtcbiAgICAgICAgcGVyaW9kcyA9IHRoaXMuZ2V0QmlNb250aGx5UGVyaW9kcyh5ZWFyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ1NpeE1vbnRobHknOiB7XG4gICAgICAgIHBlcmlvZHMgPSB0aGlzLmdldFNpeE1vbnRobHlQZXJpb2RzKHllYXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnU2l4TW9udGhseUFwcmlsJzoge1xuICAgICAgICBwZXJpb2RzID0gdGhpcy5nZXRTaXhNb250aGx5QXByaWxQZXJpb2RzKHllYXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnU2l4TW9udGhseU5vdmVtYmVyJzoge1xuICAgICAgICBwZXJpb2RzID0gdGhpcy5nZXRTaXhNb250aGx5Tm92ZW1iZXJQZXJpb2RzKHllYXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnWWVhcmx5Jzoge1xuICAgICAgICBwZXJpb2RzID0gdGhpcy5nZXRZZWFybHlQZXJpb2RzKHllYXIsICdZZWFybHknKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0ZpbmFuY2lhbEFwcmlsJzoge1xuICAgICAgICBwZXJpb2RzID0gdGhpcy5nZXRZZWFybHlQZXJpb2RzKHllYXIsICdGaW5hbmNpYWxBcHJpbCcsICdBcHJpbCcsIDMpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnRmluYW5jaWFsSnVseSc6IHtcbiAgICAgICAgcGVyaW9kcyA9IHRoaXMuZ2V0WWVhcmx5UGVyaW9kcyh5ZWFyLCAnRmluYW5jaWFsSnVseScsICdKdWx5JywgNik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdGaW5hbmNpYWxPY3RvYmVyJzoge1xuICAgICAgICBwZXJpb2RzID0gdGhpcy5nZXRZZWFybHlQZXJpb2RzKHllYXIsICdGaW5hbmNpYWxPY3RvYmVyJywgJ09jdCcsIDkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnRmluYW5jaWFsTm92ZW1iZXInOiB7XG4gICAgICAgIHBlcmlvZHMgPSB0aGlzLmdldFllYXJseVBlcmlvZHMoeWVhciwgJ0ZpbmFuY2lhbE5vdmVtYmVyJywgJ05vdicsIDEwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ1JlbGF0aXZlTW9udGgnOlxuICAgICAgY2FzZSAnUmVsYXRpdmVCaU1vbnRoJzpcbiAgICAgIGNhc2UgJ1JlbGF0aXZlUXVhcnRlcic6XG4gICAgICBjYXNlICdSZWxhdGl2ZVNpeE1vbnRoJzpcbiAgICAgIGNhc2UgJ1JlbGF0aXZlWWVhcic6XG4gICAgICBjYXNlICdSZWxhdGl2ZUZpbmFuY2lhbFllYXInOlxuICAgICAgY2FzZSAnUmVsYXRpdmVXZWVrJzoge1xuICAgICAgICBwZXJpb2RzID0gdGhpcy5nZXRSZWxhdGl2ZVBlcmlvZHModHlwZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBwZXJpb2RzID0gW107XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBwZXJpb2RzO1xuICB9XG5cbiAgaW5jbHVkZUxhc3RQZXJpb2RzKHBlcmlvZHMsIHR5cGUsIHllYXIpIHtcbiAgICBjb25zdCBsYXN0WWVhclBlcmlvZHMgPSB0aGlzLmdldFBlcmlvZHModHlwZSwgeWVhciAtIDEpO1xuICAgIGNvbnN0IGN1cnJlbnRQZXJpb2RzID0gcGVyaW9kcztcblxuICAgIHJldHVybiAocGVyaW9kcyB8fCBbXSkubWFwKChwZXJpb2QsIHBlcmlvZEluZGV4KSA9PiB7XG4gICAgICBjb25zdCBsYXN0UGVyaW9kID1cbiAgICAgICAgY3VycmVudFBlcmlvZHNbcGVyaW9kSW5kZXggLSAxXSB8fCBsYXN0KGxhc3RZZWFyUGVyaW9kcyk7XG5cbiAgICAgIGNvbnN0IG5ld0xhc3RQZXJpb2QgPSB7XG4gICAgICAgIGlkOiBsYXN0UGVyaW9kLmlkLFxuICAgICAgICBuYW1lOiBsYXN0UGVyaW9kLm5hbWVcbiAgICAgIH07XG5cbiAgICAgIHBlcmlvZC5sYXN0UGVyaW9kID0gbmV3TGFzdFBlcmlvZDtcblxuICAgICAgcmV0dXJuIHBlcmlvZDtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFJlbGF0aXZlUGVyaW9kcyh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdSZWxhdGl2ZUJpTW9udGgnOiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgeyBpZDogJ1RISVNfQklNT05USCcsIHR5cGUsIG5hbWU6ICdUaGlzIEJpLW1vbnRoJyB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnTEFTVF9CSU1PTlRIJyxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBuYW1lOiAnTGFzdCBCaS1tb250aCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgaWQ6ICdMQVNUXzZfQklNT05USFMnLCB0eXBlLCBuYW1lOiAnTGFzdCA2IGJpLW1vbnRoJyB9XG4gICAgICAgIF07XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ1JlbGF0aXZlTW9udGgnOiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgeyBpZDogJ1RISVNfTU9OVEgnLCB0eXBlLCBuYW1lOiAnVGhpcyBNb250aCcgfSxcbiAgICAgICAgICB7IGlkOiAnTEFTVF9NT05USCcsIHR5cGUsIG5hbWU6ICdMYXN0IE1vbnRoJyB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnTEFTVF8zX01PTlRIUycsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbmFtZTogJ0xhc3QgMyBNb250aHMnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGlkOiAnTEFTVF82X01PTlRIUycsIHR5cGUsIG5hbWU6ICdMYXN0IDYgTW9udGhzJyB9LFxuICAgICAgICAgIHsgaWQ6ICdMQVNUXzEyX01PTlRIUycsIHR5cGUsIG5hbWU6ICdMYXN0IDEyIE1vbnRocycgfVxuICAgICAgICBdO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdSZWxhdGl2ZVF1YXJ0ZXInOiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgeyBpZDogJ1RISVNfUVVBUlRFUicsIHR5cGUsIG5hbWU6ICdUaGlzIFF1YXJ0ZXInIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdMQVNUX1FVQVJURVInLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG5hbWU6ICdMYXN0IFF1YXJ0ZXInXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGlkOiAnTEFTVF80X1FVQVJURVJTJywgdHlwZSwgbmFtZTogJ0xhc3QgNCBRdWFydGVycycgfVxuICAgICAgICBdO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdSZWxhdGl2ZVNpeE1vbnRoJzoge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHsgaWQ6ICdUSElTX1NJWF9NT05USCcsIHR5cGUsIG5hbWU6ICdUaGlzIFNpeC1tb250aCcgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ0xBU1RfU0lYX01PTlRIJyxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBuYW1lOiAnTGFzdCBTaXgtbW9udGgnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGlkOiAnTEFTVF8yX1NJWE1PTlRIUycsIHR5cGUsIG5hbWU6ICdMYXN0IDIgU2l4LW1vbnRoJyB9XG4gICAgICAgIF07XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ1JlbGF0aXZlWWVhcic6IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB7IGlkOiAnVEhJU19ZRUFSJywgdHlwZSwgbmFtZTogJ1RoaXMgWWVhcicgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ0xBU1RfWUVBUicsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbmFtZTogJ0xhc3QgWWVhcidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgaWQ6ICdMQVNUXzVfWUVBUlMnLCB0eXBlLCBuYW1lOiAnTGFzdCA1IFllYXJzJyB9XG4gICAgICAgIF07XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ1JlbGF0aXZlRmluYW5jaWFsWWVhcic6IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB7IGlkOiAnVEhJU19GSU5BTkNJQUxfWUVBUicsIHR5cGUsIG5hbWU6ICdUaGlzIEZpbmFuY2lhbCBZZWFyJyB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnTEFTVF9GSU5BTkNJQUxfWUVBUicsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbmFtZTogJ0xhc3QgRmluYW5jaWFsIFllYXInXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGlkOiAnTEFTVF81X0ZJTkFOQ0lBTF9ZRUFSUycsIHR5cGUsIG5hbWU6ICdMYXN0IDUgRmluYW5jaWFsIFllYXJzJyB9XG4gICAgICAgIF07XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ1JlbGF0aXZlV2Vlayc6IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB7IGlkOiAnVEhJU19XRUVLJywgdHlwZSwgbmFtZTogJ1RoaXMgV2VlaycgfSxcbiAgICAgICAgICB7IGlkOiAnTEFTVF9XRUVLJywgdHlwZSwgbmFtZTogJ0xhc3QgV2VlaycgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ0xBU1RfNF9XRUVLUycsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbmFtZTogJ0xhc3QgNCBXZWVrcydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgaWQ6ICdMQVNUXzEyX1dFRUtTJywgdHlwZSwgbmFtZTogJ2xhc3QgMTIgV2Vla3MnIH0sXG4gICAgICAgICAgeyBpZDogJ0xBU1RfNTJfV0VFS1MnLCB0eXBlLCBuYW1lOiAnTGFzdCA1MiB3ZWVrcycgfVxuICAgICAgICBdO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIGdldE1vbnRobHlQZXJpb2RzKHllYXIsIG9mZnNldCA9IDApIHtcbiAgICBjb25zdCBtb250aFBlcmlvZHMgPSAodGhpcy5fbW9udGhOYW1lcyB8fCBbXSkubWFwKFxuICAgICAgKG1vbnRoTmFtZSwgbW9udGhJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBtb250aE9mZnNldCA9IG1vbnRoSW5kZXggKyAxIC0gb2Zmc2V0O1xuICAgICAgICBjb25zdCBtb250aFllYXIgPSBtb250aE9mZnNldCA+IDEyID8geWVhciAtIDEgOiB5ZWFyO1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0TW9udGhQZXJpb2RJZChtb250aFllYXIsIG1vbnRoSW5kZXggKyAxKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGU6ICdNb250aGx5JyxcbiAgICAgICAgICBuYW1lOiBgJHttb250aE5hbWV9ICR7bW9udGhZZWFyfWAsXG4gICAgICAgICAgZGFpbHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAnTW9udGhseScsXG4gICAgICAgICAgICAnRGFpbHknLFxuICAgICAgICAgICAgdGhpcy5fcHJlZmVyZW5jZXNcbiAgICAgICAgICApLFxuICAgICAgICAgIHdlZWtseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICdNb250aGx5JyxcbiAgICAgICAgICAgICdXZWVrbHknLFxuICAgICAgICAgICAgdGhpcy5fcHJlZmVyZW5jZXNcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmdldE1vbnRoc0J5T2Zmc2V0KG1vbnRoUGVyaW9kcywgb2Zmc2V0KTtcbiAgfVxuXG4gIGdldFF1YXJ0ZXJseVBlcmlvZHMoeWVhcikge1xuICAgIHJldHVybiBjaHVuayhcbiAgICAgIHRoaXMuZ2V0TW9udGhzQnlPZmZzZXQoXG4gICAgICAgIHRoaXMuZ2V0TW9udGhXaXRoWWVhcnMoXG4gICAgICAgICAgdGhpcy5fbW9udGhOYW1lcyxcbiAgICAgICAgICB5ZWFyLFxuICAgICAgICAgIHRoaXMuX3F1YXJ0ZXJNb250aE9mZnNldFxuICAgICAgICApLFxuICAgICAgICB0aGlzLl9xdWFydGVyTW9udGhPZmZzZXRcbiAgICAgICksXG4gICAgICAzXG4gICAgKS5tYXAoKHF1YXJ0ZXJNb250aHMsIHF1YXJ0ZXJJbmRleCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSB0aGlzLmdldFF1YXJ0ZXJQZXJpb2RJZCh5ZWFyLCBxdWFydGVySW5kZXggKyAxKTtcbiAgICAgIGNvbnN0IHN0YXJ0TW9udGggPSBoZWFkKHF1YXJ0ZXJNb250aHMgfHwgW10pO1xuICAgICAgY29uc3QgZW5kTW9udGggPSBsYXN0KHF1YXJ0ZXJNb250aHMgfHwgW10pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZCxcbiAgICAgICAgdHlwZTogJ1F1YXJ0ZXJseScsXG4gICAgICAgIG5hbWU6IHRoaXMuZ2V0UGVyaW9kTmFtZUJ5UmFuZ2Uoc3RhcnRNb250aCwgZW5kTW9udGgsIHllYXIpLFxuICAgICAgICBkYWlseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgJ1F1YXJ0ZXJseScsXG4gICAgICAgICAgJ0RhaWx5JyxcbiAgICAgICAgICB0aGlzLl9wcmVmZXJlbmNlc1xuICAgICAgICApLFxuICAgICAgICB3ZWVrbHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgICdRdWFydGVybHknLFxuICAgICAgICAgICdXZWVrbHknLFxuICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgICksXG4gICAgICAgIG1vbnRobHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgICdRdWFydGVybHknLFxuICAgICAgICAgICdNb250aGx5JyxcbiAgICAgICAgICB0aGlzLl9wcmVmZXJlbmNlc1xuICAgICAgICApXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0UGVyaW9kTmFtZUJ5UmFuZ2Uoc3RhcnRNb250aCwgZW5kTW9udGgsIHllYXIpIHtcbiAgICByZXR1cm4gYCR7W3N0YXJ0TW9udGgubmFtZSArIGAgJHtzdGFydE1vbnRoLnllYXJ9YCwgZW5kTW9udGgubmFtZV0uam9pbihcbiAgICAgICcgLSAnXG4gICAgKX0gJHtlbmRNb250aC55ZWFyfWA7XG4gIH1cblxuICBnZXRNb250aHNCeU9mZnNldChtb250aHMsIG9mZnNldCkge1xuICAgIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgIHJldHVybiBtb250aHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIC4uLm1vbnRocy5zbGljZShvZmZzZXQpLFxuICAgICAgLi4ubW9udGhzLnNsaWNlKDAsIG1vbnRocy5sZW5ndGggKyBvZmZzZXQpXG4gICAgXTtcbiAgfVxuXG4gIGdldE1vbnRoV2l0aFllYXJzKG1vbnRoTmFtZXMsIHllYXIsIG9mZnNldCkge1xuICAgIHJldHVybiAobW9udGhOYW1lcyB8fCBbXSkubWFwKChuYW1lLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbW9udGhPZmZzZXQgPSBpbmRleCArIDEgLSBvZmZzZXQ7XG5cbiAgICAgIHJldHVybiB7IG5hbWUsIGluZGV4LCB5ZWFyOiBtb250aE9mZnNldCA+IDEyID8geWVhciAtIDEgOiB5ZWFyIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRCaU1vbnRobHlQZXJpb2RzKHllYXIpIHtcbiAgICByZXR1cm4gKGNodW5rKHRoaXMuX21vbnRoTmFtZXMgfHwgW10sIDIpIHx8IFtdKS5tYXAoXG4gICAgICAoYmlNb250aHMsIGJpTW9udGhJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0QmlNb250aGx5UGVyaW9kSWQoeWVhciwgYmlNb250aEluZGV4ICsgMSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0eXBlOiAnQmlNb250aGx5JyxcbiAgICAgICAgICBuYW1lOiBgJHtbaGVhZChiaU1vbnRocyB8fCBbXSksIGxhc3QoYmlNb250aHMgfHwgW10pXS5qb2luKFxuICAgICAgICAgICAgJyAtICdcbiAgICAgICAgICApfSAke3llYXJ9YCxcbiAgICAgICAgICBkYWlseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICdCaU1vbnRobHknLFxuICAgICAgICAgICAgJ0RhaWx5JyxcbiAgICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgICAgKSxcbiAgICAgICAgICB3ZWVrbHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAnQmlNb250aGx5JyxcbiAgICAgICAgICAgICdXZWVrbHknLFxuICAgICAgICAgICAgdGhpcy5fcHJlZmVyZW5jZXNcbiAgICAgICAgICApLFxuICAgICAgICAgIG1vbnRobHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAnQmlNb250aGx5JyxcbiAgICAgICAgICAgICdNb250aGx5JyxcbiAgICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgICAgKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBnZXRTaXhNb250aGx5UGVyaW9kcyh5ZWFyKSB7XG4gICAgcmV0dXJuIChjaHVuayh0aGlzLl9tb250aE5hbWVzIHx8IFtdLCA2KSB8fCBbXSkubWFwKFxuICAgICAgKHNpeE1vbnRocywgc2l4TW9udGhJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0U2l4TW9udGhseVBlcmlvZElkKHllYXIsIHNpeE1vbnRoSW5kZXggKyAxKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGU6ICdTaXhNb250aGx5JyxcbiAgICAgICAgICBuYW1lOiBgJHtbaGVhZChzaXhNb250aHMgfHwgW10pLCBsYXN0KHNpeE1vbnRocyB8fCBbXSldLmpvaW4oXG4gICAgICAgICAgICAnIC0gJ1xuICAgICAgICAgICl9ICR7eWVhcn1gLFxuICAgICAgICAgIGRhaWx5OiB0aGlzLmdldENoaWxkcmVuUGVyaW9kcyhcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgJ1NpeE1vbnRobHknLFxuICAgICAgICAgICAgJ0RhaWx5JyxcbiAgICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgICAgKSxcbiAgICAgICAgICB3ZWVrbHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAnU2l4TW9udGhseScsXG4gICAgICAgICAgICAnV2Vla2x5JyxcbiAgICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgICAgKSxcbiAgICAgICAgICBtb250aGx5OiB0aGlzLmdldENoaWxkcmVuUGVyaW9kcyhcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgJ1NpeE1vbnRobHknLFxuICAgICAgICAgICAgJ01vbnRobHknLFxuICAgICAgICAgICAgdGhpcy5fcHJlZmVyZW5jZXNcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGdldFNpeE1vbnRobHlBcHJpbFBlcmlvZHMoeWVhcikge1xuICAgIGNvbnN0IG1vbnRocyA9IHRoaXMuZ2V0TW9udGhXaXRoWWVhcnModGhpcy5fbW9udGhOYW1lcywgeWVhciArIDEsIC05KTtcblxuICAgIHJldHVybiAoXG4gICAgICBjaHVuayhbLi4ubW9udGhzLnNsaWNlKDMpLCAuLi5tb250aHMuc2xpY2UoMCwgMyldIHx8IFtdLCA2KSB8fCBbXVxuICAgICkubWFwKChzaXhNb250aEFwcmlsLCBzaXhNb250aEFwcmlsSW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRTaXhNb250aGx5UGVyaW9kSWQoXG4gICAgICAgIHllYXIsXG4gICAgICAgIHNpeE1vbnRoQXByaWxJbmRleCArIDEsXG4gICAgICAgICdBcHJpbCdcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICB0eXBlOiAnU2l4TW9udGhseUFwcmlsJyxcbiAgICAgICAgbmFtZTogdGhpcy5nZXRQZXJpb2ROYW1lQnlSYW5nZShcbiAgICAgICAgICBoZWFkKHNpeE1vbnRoQXByaWwgfHwgW10pLFxuICAgICAgICAgIGxhc3Qoc2l4TW9udGhBcHJpbCB8fCBbXSksXG4gICAgICAgICAgeWVhclxuICAgICAgICApLFxuICAgICAgICBkYWlseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgJ1NpeE1vbnRobHlBcHJpbCcsXG4gICAgICAgICAgJ0RhaWx5JyxcbiAgICAgICAgICB0aGlzLl9wcmVmZXJlbmNlc1xuICAgICAgICApLFxuICAgICAgICB3ZWVrbHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgICdTaXhNb250aGx5QXByaWwnLFxuICAgICAgICAgICdXZWVrbHknLFxuICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgICksXG4gICAgICAgIG1vbnRobHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgICdTaXhNb250aGx5QXByaWwnLFxuICAgICAgICAgICdNb250aGx5JyxcbiAgICAgICAgICB0aGlzLl9wcmVmZXJlbmNlc1xuICAgICAgICApXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0U2l4TW9udGhseU5vdmVtYmVyUGVyaW9kcyh5ZWFyKSB7XG4gICAgcmV0dXJuIGNodW5rKFxuICAgICAgdGhpcy5nZXRNb250aHNCeU9mZnNldChcbiAgICAgICAgdGhpcy5nZXRNb250aFdpdGhZZWFycyh0aGlzLl9tb250aE5hbWVzLCB5ZWFyLCAtMiksXG4gICAgICAgIHRoaXMuX3F1YXJ0ZXJNb250aE9mZnNldFxuICAgICAgKSxcbiAgICAgIDZcbiAgICApLm1hcCgoc2l4TW9udGhOb3ZlbWJlciwgc2l4TW9udGhOb3ZlbWJlckluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0U2l4TW9udGhseVBlcmlvZElkKFxuICAgICAgICB5ZWFyLFxuICAgICAgICBzaXhNb250aE5vdmVtYmVySW5kZXggKyAxLFxuICAgICAgICAnTm92J1xuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIHR5cGU6ICdTaXhNb250aGx5Tm92ZW1iZXInLFxuICAgICAgICBuYW1lOiB0aGlzLmdldFBlcmlvZE5hbWVCeVJhbmdlKFxuICAgICAgICAgIGhlYWQoc2l4TW9udGhOb3ZlbWJlciB8fCBbXSksXG4gICAgICAgICAgbGFzdChzaXhNb250aE5vdmVtYmVyIHx8IFtdKSxcbiAgICAgICAgICB5ZWFyXG4gICAgICAgICksXG4gICAgICAgIGRhaWx5OiB0aGlzLmdldENoaWxkcmVuUGVyaW9kcyhcbiAgICAgICAgICBpZCxcbiAgICAgICAgICAnU2l4TW9udGhseU5vdmVtYmVyJyxcbiAgICAgICAgICAnRGFpbHknLFxuICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgICksXG4gICAgICAgIHdlZWtseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgJ1NpeE1vbnRobHlOb3ZlbWJlcicsXG4gICAgICAgICAgJ1dlZWtseScsXG4gICAgICAgICAgdGhpcy5fcHJlZmVyZW5jZXNcbiAgICAgICAgKSxcbiAgICAgICAgbW9udGhseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgJ1NpeE1vbnRobHlOb3ZlbWJlcicsXG4gICAgICAgICAgJ01vbnRobHknLFxuICAgICAgICAgIHRoaXMuX3ByZWZlcmVuY2VzXG4gICAgICAgIClcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRZZWFybHlQZXJpb2RzKHllYXIsIHR5cGUsIGlkU3VmZml4ID0gJycsIG1vbnRoSW5kZXggPSAtMSkge1xuICAgIHJldHVybiByYW5nZSgxMClcbiAgICAgIC5tYXAoeWVhckluZGV4ID0+IHtcbiAgICAgICAgY29uc3QgcGVyaW9kWWVhciA9IHBhcnNlSW50KHllYXIsIDEwKSAtIHllYXJJbmRleDtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldFllYXJseVBlcmlvZElkKHBlcmlvZFllYXIsIGlkU3VmZml4KTtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0WWVhcmx5UGVyaW9kTmFtZShwZXJpb2RZZWFyLCBtb250aEluZGV4KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBkYWlseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoaWQsIHR5cGUsICdEYWlseScsIHRoaXMuX3ByZWZlcmVuY2VzKSxcbiAgICAgICAgICB3ZWVrbHk6IHRoaXMuZ2V0Q2hpbGRyZW5QZXJpb2RzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgJ1dlZWtseScsXG4gICAgICAgICAgICB0aGlzLl9wcmVmZXJlbmNlc1xuICAgICAgICAgICksXG4gICAgICAgICAgbW9udGhseTogdGhpcy5nZXRDaGlsZHJlblBlcmlvZHMoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAnTW9udGhseScsXG4gICAgICAgICAgICB0aGlzLl9wcmVmZXJlbmNlc1xuICAgICAgICAgICksXG4gICAgICAgICAgcXVhcnRlcmx5OiB0aGlzLmdldENoaWxkcmVuUGVyaW9kcyhcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICdRdWFydGVybHknLFxuICAgICAgICAgICAgdGhpcy5fcHJlZmVyZW5jZXNcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLnJldmVyc2UoKTtcbiAgfVxuXG4gIG9taXRGdXR1cmVQZXJpb2RzKHBlcmlvZHMsIHR5cGUpIHtcbiAgICByZXR1cm4gcGVyaW9kcy5maWx0ZXIocGVyaW9kID0+IHBlcmlvZC5pZCA8IHRoaXMuZ2V0Q3VycmVudFBlcmlvZElkKHR5cGUpKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRQZXJpb2RJZCh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdNb250aGx5Jzoge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNb250aFBlcmlvZElkKFxuICAgICAgICAgIHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRZZWFyKCksXG4gICAgICAgICAgdGhpcy5fbW9udGhcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgJ1F1YXJ0ZXJseSc6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UXVhcnRlclBlcmlvZElkKFxuICAgICAgICAgIHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRZZWFyKCksXG4gICAgICAgICAgdGhpcy5fcXVhcnRlclxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdCaU1vbnRobHknOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJpTW9udGhseVBlcmlvZElkKFxuICAgICAgICAgIHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRZZWFyKCksXG4gICAgICAgICAgdGhpcy5fYmlNb250aFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdTaXhNb250aGx5Jzoge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTaXhNb250aGx5UGVyaW9kSWQoXG4gICAgICAgICAgdGhpcy5fY2FsZW5kYXIuZ2V0Q3VycmVudFllYXIoKSxcbiAgICAgICAgICB0aGlzLl9zaXhNb250aFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdTaXhNb250aGx5QXByaWwnOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNpeE1vbnRobHlQZXJpb2RJZChcbiAgICAgICAgICB0aGlzLl9jYWxlbmRhci5nZXRDdXJyZW50WWVhcigpLFxuICAgICAgICAgIHRoaXMuX3NpeG1vbnRoQXByaWwsXG4gICAgICAgICAgJ0FwcmlsJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdTaXhNb250aGx5Tm92ZW1iZXInOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNpeE1vbnRobHlQZXJpb2RJZChcbiAgICAgICAgICB0aGlzLl9jYWxlbmRhci5nZXRDdXJyZW50WWVhcigpLFxuICAgICAgICAgIHRoaXMuX3NpeE1vbnRoTm92ZW1iZXIsXG4gICAgICAgICAgJ05vdidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnWWVhcmx5Jzoge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsZW5kYXIuZ2V0Q3VycmVudFllYXIoKTtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnRmluYW5jaWFsQXByaWwnOiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gdGhpcy5fY2FsZW5kYXIuZ2V0Q3VycmVudFllYXIoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRZZWFybHlQZXJpb2RJZChcbiAgICAgICAgICB0aGlzLl9tb250aCA+PSA0ID8gY3VycmVudFllYXIgOiBjdXJyZW50WWVhciAtIDEsXG4gICAgICAgICAgJ0ZpbmFuY2lhbEFwcmlsJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdGaW5hbmNpYWxKdWx5Jzoge1xuICAgICAgICBjb25zdCBjdXJyZW50WWVhciA9IHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRZZWFyKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0WWVhcmx5UGVyaW9kSWQoXG4gICAgICAgICAgdGhpcy5fbW9udGggPj0gNyA/IGN1cnJlbnRZZWFyIDogY3VycmVudFllYXIgLSAxLFxuICAgICAgICAgICdGaW5hbmNpYWxKdWx5J1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdGaW5hbmNpYWxPY3RvYmVyJzoge1xuICAgICAgICBjb25zdCBjdXJyZW50WWVhciA9IHRoaXMuX2NhbGVuZGFyLmdldEN1cnJlbnRZZWFyKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0WWVhcmx5UGVyaW9kSWQoXG4gICAgICAgICAgdGhpcy5fbW9udGggPj0gMTAgPyBjdXJyZW50WWVhciA6IGN1cnJlbnRZZWFyIC0gMSxcbiAgICAgICAgICAnRmluYW5jaWFsT2N0b2JlcidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnRmluYW5jaWFsTm92ZW1iZXInOiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gdGhpcy5fY2FsZW5kYXIuZ2V0Q3VycmVudFllYXIoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRZZWFybHlQZXJpb2RJZChcbiAgICAgICAgICB0aGlzLl9tb250aCA+PSAxMSA/IGN1cnJlbnRZZWFyIDogY3VycmVudFllYXIgLSAxLFxuICAgICAgICAgICdGaW5hbmNpYWxOb3ZlbWJlcidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBnZXRNb250aFBlcmlvZElkKHllYXIsIG1vbnRoTnVtYmVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHllYXIgKyAobW9udGhOdW1iZXIgPCAxMCA/IGAwJHttb250aE51bWJlcn1gIDogbW9udGhOdW1iZXIpLnRvU3RyaW5nKClcbiAgICApO1xuICB9XG5cbiAgZ2V0UXVhcnRlclBlcmlvZElkKHllYXIsIHF1YXJ0ZXJOdW1iZXIpIHtcbiAgICByZXR1cm4gYCR7eWVhcn1RJHtxdWFydGVyTnVtYmVyfWA7XG4gIH1cblxuICBnZXRCaU1vbnRobHlQZXJpb2RJZCh5ZWFyLCBiaU1vbnRoTnVtYmVyKSB7XG4gICAgcmV0dXJuIGAke3llYXJ9MCR7YmlNb250aE51bWJlcn1CYDtcbiAgfVxuXG4gIGdldFNpeE1vbnRobHlQZXJpb2RJZCh5ZWFyLCBzaXhNb250aE51bWJlciwgc2l4TW9udGhUeXBlID0gJycpIHtcbiAgICByZXR1cm4gYCR7eWVhcn0ke3NpeE1vbnRoVHlwZX1TJHtzaXhNb250aE51bWJlcn1gO1xuICB9XG5cbiAgZ2V0WWVhcmx5UGVyaW9kSWQoeWVhciwgc3VmZml4ID0gJycpIHtcbiAgICByZXR1cm4gYCR7eWVhcn0ke3N1ZmZpeH1gO1xuICB9XG5cbiAgZ2V0WWVhcmx5UGVyaW9kTmFtZSh5ZWFyLCBtb250aEluZGV4ID0gLTEpIHtcbiAgICBpZiAobW9udGhJbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB5ZWFyLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke3RoaXMuX21vbnRoTmFtZXNbbW9udGhJbmRleF19ICR7eWVhcn0gLSAke1xuICAgICAgdGhpcy5fbW9udGhOYW1lc1ttb250aEluZGV4IC0gMV1cbiAgICB9ICR7eWVhciArIDF9YDtcbiAgfVxuXG4gIGdldFllYXJseU1vbnRoSW5kZXgodHlwZSkge31cblxuICBnZXRDaGlsZHJlblBlcmlvZHMocGFyZW50SWQsIHBhcmVudFR5cGUsIGNoaWxkcmVuVHlwZSwgcHJlZmVyZW5jZXMpIHtcbiAgICBsZXQgcGVyaW9kcyA9IFtdO1xuXG4gICAgc3dpdGNoIChwYXJlbnRUeXBlKSB7XG4gICAgICBjYXNlICdZZWFybHknOiB7XG4gICAgICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChwYXJlbnRJZC5zbGljZSgwLCA0KSwgMTApO1xuXG4gICAgICAgIGlmICghaXNOYU4oeWVhcikpIHtcbiAgICAgICAgICBwZXJpb2RzID0gdGhpcy5nZXRQZXJpb2RzKGNoaWxkcmVuVHlwZSwgeWVhcikucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPIEhhdmUgYSBjb21tb24gbWV0aG9kIHRvIGhhbmRsZSBjaGlsZHJlbiBnZW5lcmF0aW9uIGZvciBjb21iaW5lZCBwZXJpb2RzXG4gICAgICBjYXNlICdRdWFydGVybHknOiB7XG4gICAgICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChwYXJlbnRJZC5zbGljZSgwLCA0KSwgMTApO1xuXG4gICAgICAgIGlmICghaXNOYU4oeWVhcikpIHtcbiAgICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnTW9udGhseSc6IHtcbiAgICAgICAgICAgICAgY29uc3QgcXVhcnRlck51bWJlciA9IHBhcnNlSW50KHBhcmVudElkLnNsaWNlKC0xKSwgMTApO1xuXG4gICAgICAgICAgICAgIGNvbnN0IG1vbnRoUGVyaW9kcyA9IHRoaXMuZ2V0UGVyaW9kcyhcbiAgICAgICAgICAgICAgICBjaGlsZHJlblR5cGUsXG4gICAgICAgICAgICAgICAgeWVhcixcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWFydGVyTW9udGhPZmZzZXRcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwZXJpb2RzID0gKG1vbnRoUGVyaW9kcyB8fCBbXSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh7fSwgcGVyaW9kSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IHF1YXJ0ZXJOdW1iZXIgKiAzO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWluID0gbWF4IC0gMztcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlcmlvZEluZGV4ID49IG1pbiAmJiBwZXJpb2RJbmRleCA8IG1heDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnQmlNb250aGx5Jzoge1xuICAgICAgICBjb25zdCB5ZWFyID0gcGFyc2VJbnQocGFyZW50SWQuc2xpY2UoMCwgNCksIDEwKTtcblxuICAgICAgICBpZiAoIWlzTmFOKHllYXIpKSB7XG4gICAgICAgICAgc3dpdGNoIChjaGlsZHJlblR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ01vbnRobHknOiB7XG4gICAgICAgICAgICAgIGNvbnN0IGJpTW9udGhseU51bWJlciA9IHBhcnNlSW50KHBhcmVudElkLnNsaWNlKDQpLCAxMCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgbW9udGhQZXJpb2RzID0gdGhpcy5nZXRQZXJpb2RzKGNoaWxkcmVuVHlwZSwgeWVhciwgMCk7XG5cbiAgICAgICAgICAgICAgcGVyaW9kcyA9IChtb250aFBlcmlvZHMgfHwgW10pXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe30sIHBlcmlvZEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtYXggPSBiaU1vbnRobHlOdW1iZXIgKiAyO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWluID0gbWF4IC0gMjtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlcmlvZEluZGV4ID49IG1pbiAmJiBwZXJpb2RJbmRleCA8IG1heDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnU2l4TW9udGhseSc6IHtcbiAgICAgICAgY29uc3QgeWVhciA9IHBhcnNlSW50KHBhcmVudElkLnNsaWNlKDAsIDQpLCAxMCk7XG5cbiAgICAgICAgaWYgKCFpc05hTih5ZWFyKSkge1xuICAgICAgICAgIHN3aXRjaCAoY2hpbGRyZW5UeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdNb250aGx5Jzoge1xuICAgICAgICAgICAgICBjb25zdCBzaXhNb250aGx5TnVtYmVyID0gcGFyc2VJbnQocGFyZW50SWQuc2xpY2UoLTEpLCAxMCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgbW9udGhQZXJpb2RzID0gdGhpcy5nZXRQZXJpb2RzKGNoaWxkcmVuVHlwZSwgeWVhciwgMCk7XG5cbiAgICAgICAgICAgICAgcGVyaW9kcyA9IChtb250aFBlcmlvZHMgfHwgW10pXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoe30sIHBlcmlvZEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtYXggPSBzaXhNb250aGx5TnVtYmVyICogNjtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IG1heCAtIDY7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBwZXJpb2RJbmRleCA+PSBtaW4gJiYgcGVyaW9kSW5kZXggPCBtYXg7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChwcmVmZXJlbmNlcyAmJiBwcmVmZXJlbmNlcy5jaGlsZHJlblBlcmlvZFNvcnRPcmRlciA9PT0gJ0FTQycpIHtcbiAgICAgIHJldHVybiBwZXJpb2RzLnJldmVyc2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGVyaW9kcztcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFBlcmlvZFR5cGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9wZXJpb2RUeXBlcyA9IFtcbiAgICAgIHsgaWQ6ICdNb250aGx5JywgbmFtZTogJ01vbnRobHknLCByYW5rOiAzIH0sXG4gICAgICB7IGlkOiAnQmlNb250aGx5JywgbmFtZTogJ0JpTW9udGhseScsIHJhbms6IDQgfSxcbiAgICAgIHsgaWQ6ICdRdWFydGVybHknLCBuYW1lOiAnUXVhcnRlcmx5JywgcmFuazogNSB9LFxuICAgICAgeyBpZDogJ1NpeE1vbnRobHknLCBuYW1lOiAnU2l4TW9udGhseScsIHJhbms6IDYgfSxcbiAgICAgIHsgaWQ6ICdTaXhNb250aGx5QXByaWwnLCBuYW1lOiAnU2l4TW9udGhseUFwcmlsJywgcmFuazogNiB9LFxuICAgICAgeyBpZDogJ1NpeE1vbnRobHlOb3ZlbWJlcicsIG5hbWU6ICdTaXhNb250aGx5Tm92ZW1iZXInLCByYW5rOiA2IH0sXG4gICAgICB7IGlkOiAnWWVhcmx5JywgbmFtZTogJ1llYXJseScsIHJhbms6IDcgfSxcbiAgICAgIHsgaWQ6ICdGaW5hbmNpYWxBcHJpbCcsIG5hbWU6ICdGaW5hbmNpYWxBcHJpbCcsIHJhbms6IDcgfSxcbiAgICAgIHsgaWQ6ICdGaW5hbmNpYWxKdWx5JywgbmFtZTogJ0ZpbmFuY2lhbEp1bHknLCByYW5rOiA3IH0sXG4gICAgICB7IGlkOiAnRmluYW5jaWFsT2N0b2JlcicsIG5hbWU6ICdGaW5hbmNpYWxPY3RvYmVyJywgcmFuazogNyB9LFxuICAgICAgeyBpZDogJ0ZpbmFuY2lhbE5vdmVtYmVyJywgbmFtZTogJ0ZpbmFuY2lhbE5vdmVtYmVyJywgcmFuazogNyB9LFxuICAgICAgeyBpZDogJ1JlbGF0aXZlV2VlaycsIG5hbWU6ICdSZWxhdGl2ZVdlZWsnLCByYW5rOiAyIH0sXG4gICAgICB7IGlkOiAnUmVsYXRpdmVNb250aCcsIG5hbWU6ICdSZWxhdGl2ZU1vbnRoJywgcmFuazogMyB9LFxuICAgICAgeyBpZDogJ1JlbGF0aXZlQmlNb250aCcsIG5hbWU6ICdSZWxhdGl2ZUJpTW9udGgnLCByYW5rOiAzIH0sXG4gICAgICB7IGlkOiAnUmVsYXRpdmVTaXhNb250aCcsIG5hbWU6ICdSZWxhdGl2ZVNpeE1vbnRoJywgcmFuazogNiB9LFxuICAgICAgeyBpZDogJ1JlbGF0aXZlUXVhcnRlcicsIG5hbWU6ICdSZWxhdGl2ZVF1YXJ0ZXInLCByYW5rOiA1IH0sXG4gICAgICB7IGlkOiAnUmVsYXRpdmVZZWFyJywgbmFtZTogJ1JlbGF0aXZlWWVhcicsIHJhbms6IDcgfSxcbiAgICAgIHsgaWQ6ICdSZWxhdGl2ZUZpbmFuY2lhbFllYXInLCBuYW1lOiAnUmVsYXRpdmVGaW5hbmNpYWxZZWFyJywgcmFuazogNyB9XG4gICAgXTtcblxuICAgIHRoaXMuX3ZhbGlkVHlwZXMgPSB0aGlzLl9wZXJpb2RUeXBlcy5tYXAocGVyaW9kVHlwZSA9PiBwZXJpb2RUeXBlLmlkKTtcbiAgfVxuXG4gIGlzVmFsaWQodHlwZSkge1xuICAgIHJldHVybiB0aGlzLl92YWxpZFR5cGVzLmluY2x1ZGVzKHR5cGUpO1xuICB9XG5cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9wZXJpb2RUeXBlcztcbiAgfVxufVxuIiwiaW1wb3J0IHsgQW5hbHl0aWNzIH0gZnJvbSAnLi9tb2RlbC9hbmFseXRpY3MuanMnO1xuaW1wb3J0IHsgQW5hbHl0aWNzUmVzdWx0IH0gZnJvbSAnLi9yZXN1bHQvYW5hbHl0aWNzLXJlc3VsdCc7XG5pbXBvcnQgeyBFdmVudEFuYWx5dGljcyB9IGZyb20gJy4vbW9kZWwvZXZlbnQtYW5hbHl0aWNzJztcbmltcG9ydCB7IFNRTFZpZXdEYXRhIH0gZnJvbSAnLi9tb2RlbC9zcWwtdmlldy5qcyc7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICcuL3V0aWxpdGllcy9ydW5uZXIuanMnO1xuaW1wb3J0IHsgRGVwZW5kZW5jeSB9IGZyb20gJy4vdXRpbGl0aWVzL2RlcGVuZGVuY3knO1xuaW1wb3J0IHsgTXVsdGlGZXRjaGVyIH0gZnJvbSAnLi91dGlsaXRpZXMvbXVsdGktZmV0Y2hlcic7XG5pbXBvcnQgeyBJZGVudGlmaWFibGVPYmplY3QgfSBmcm9tICcuL21vZGVsL2lkZW50aWZpYWJsZS1vYmplY3QuanMnO1xuaW1wb3J0IHsgUGVyaW9kIH0gZnJvbSAnLi9tb2RlbC9wZXJpb2QnO1xuaW1wb3J0IHsgUGVyaW9kVHlwZSB9IGZyb20gJy4vbW9kZWwvcGVyaW9kLXR5cGUnO1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIG1haW4gaG9sZGVyIGZvciB0aGUgZnVuY3Rpb25hbGl0aWVzIG9mIHRoZSBmdW5jdGlvblxuICogQG5hbWVzcGFjZVxuICogQHR5cGUge3tQcm9taXNlOiBQcm9ncmVzc1Byb21pc2UsIEFuYWx5dGljczogQW5hbHl0aWNzLFxuICogICBBbmFseXRpY3NSZXN1bHQ6IEFuYWx5dGljc1Jlc3VsdCxcbiAqICAgT3JnYW5pc2F0aW9uVW5pdDogT3JnYW5pc2F0aW9uVW5pdCwgU1FMVmlld0RhdGE6IFNRTFZpZXdEYXRhLFxuICogICBSdW5uZXI6IFJ1bm5lciwgRGVwZW5kZW5jeTogRGVwZW5kZW5jeSwgTXVsdGlGZXRjaGVyOiBNdWx0aUZldGNoZXIsXG4gKiAgIGFsbDogKGZ1bmN0aW9uKEZldGNoZXJbXSkpLCBpbml0OiAoZnVuY3Rpb24oKj0pKX1cbiAqIH1cbiAqL1xubGV0IEZuID0ge1xuICBBbmFseXRpY3M6IEFuYWx5dGljcyxcbiAgRXZlbnRBbmFseXRpY3M6IEV2ZW50QW5hbHl0aWNzLFxuICBBbmFseXRpY3NSZXN1bHQ6IEFuYWx5dGljc1Jlc3VsdCxcbiAgSWRlbnRpZmlhYmxlT2JqZWN0OiBJZGVudGlmaWFibGVPYmplY3QsXG4gIFNRTFZpZXdEYXRhOiBTUUxWaWV3RGF0YSxcbiAgUnVubmVyOiBSdW5uZXIsXG4gIERlcGVuZGVuY3k6IERlcGVuZGVuY3ksXG4gIFBlcmlvZCxcbiAgUGVyaW9kVHlwZSxcbiAgTXVsdGlGZXRjaGVyOiBNdWx0aUZldGNoZXIsXG4gIC8qKlxuICAgKiBBZGRzIG11bHRpcGxlIGZldGNoZXJzIGluIHF1ZXVlIGZvciBleGVjdXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RmV0Y2hlcltdfSBmZXRjaGVycyAtIFRoZSBmZXRoZXJzIGlzIGFuIGFycmF5IG9mIHRoZSBmZXRjaGVyc1xuICAgKiBAcmV0dXJucyB7UHJvZ3Jlc3NQcm9taXNlfSAtIFByb2dyZXNzIFByb21pc2UgZm9yIGZldGNoaW5nIHRoZSB2YXJpb3VzIGZldGNoZXJzXG4gICAqIEBleGFtcGxlXG4gICAqIEZuLmFsbChbbmV3IEZuLkFuYWx5dGljcygpLCBuZXcgRm4uT3JnYW5pc2F0aW9uVW5pdCgpXSk7XG4gICAqL1xuICBhbGw6IGZldGNoZXJzID0+IHtcbiAgICByZXR1cm4gbmV3IE11bHRpRmV0Y2hlcihmZXRjaGVycyk7XG4gIH0sXG4gIC8qKlxuICAgKiBDb25maWd1cmVzIHRoZSBydW5uaW5nIGVudmlyb25tZW50IHBhcmFtZXRlcnNcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ3VyYXRpb24gLSBUaGUgZmV0aGVycyBpcyBhbiBhcnJheSBvZiB0aGUgZmV0Y2hlcnNcbiAgICogQHJldHVybnMge1Byb2dyZXNzUHJvbWlzZX0gLSBQcm9ncmVzcyBQcm9taXNlIGZvciBmZXRjaGluZyB0aGUgdmFyaW91cyBmZXRjaGVyc1xuICAgKiBAZXhhbXBsZVxuICAgKiBGbi5hbGwoe2Jhc2VVcmw6Jyd9KTtcbiAgICovXG4gIGluaXQ6IGNvbmZpZyA9PiB7XG4gICAgUnVubmVyLmluaXRpYXRlUnVubmVyKGNvbmZpZyk7XG4gIH1cbn07XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICB3aW5kb3cuRm4gPSBGbjtcbn1cbmV4cG9ydCB7IEZuIH07XG4iLCJpbXBvcnQgeyBBbmFseXRpY3MgfSBmcm9tICcuL2FuYWx5dGljcyc7XG5cbi8qKlxuICogVGhpcyByZXByZXNlbnRzIHRoZSBFdmVudCBBbmFseXRpY3MgRmV0Y2hlciBmb3IgcHJvY2Vzc2luZyBhbmFseXRpY3MgY2FsbHNcbiAqXG4gKiBAZXh0ZW5kcyBBbmFseXRpY3NcbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50QW5hbHl0aWNzIGV4dGVuZHMgQW5hbHl0aWNzIHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIFByb2dyYW0gZm9yIHRoZSBmZXRjaFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvZ3JhbSAtIFRoZSBpZCBvZiB0aGUgcHJvZ3JhbVxuICAgKiBAcmV0dXJucyB7RXZlbnRBbmFseXRpY3N9IC0gT2JqZWN0IHdpdGggdGhlIGV2ZW50IGFuYWx5dGljc1xuICAgKi9cbiAgc2V0UHJvZ3JhbShwcm9ncmFtKSB7XG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgdXJsIGZvciBmZXRjaGluZ1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gJ2FuYWx5dGljcy9ldmVudHMvcXVlcnkvJyArIHRoaXMucHJvZ3JhbSArICc/JyArIHRoaXMuX3VybFBhcmFtZXRlcnM7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZldGNoZXIgfSBmcm9tICcuLi91dGlsaXRpZXMvZmV0Y2hlcic7XG5cbi8qKlxuICogUmVwcmVzZW50cyBJZGVudGlmaWFibGUgT2JqZWN0XG4gKkBleHRlbmRzIEZldGNoZXJcbiAqL1xuZXhwb3J0IGNsYXNzIElkZW50aWZpYWJsZU9iamVjdCBleHRlbmRzIEZldGNoZXIge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIGlkZW50aWZpYWJsZSBvYmplY3QgZmV0Y2hlclxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9iamVjdE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaWRlbnRpZmlhYmxlIG9iamVjdCBhcyB1c2VkIGluIHRoZSB3ZWIgYXBpXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGlkZW50aWZpYWJsZU9iamVjdCA9IG5ldyBGbi5JZGVudGlmaWFibGVPYmplY3QoJ29yZ2FuaXNhdGlvblVuaXRzJyk7IC8vIE9yZ2FuaXNhdGlvbiBVbml0IGZldGNoZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9iamVjdE5hbWUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2ZpbHRlcnMgPSBbXTtcbiAgICB0aGlzLm9iamVjdE5hbWUgPSBvYmplY3ROYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG5hbWUgb2YgdGhlIGlkZW50aWZpYWJsZSBvYmplY3RcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSBuYW1lIG9mIHRoZSBJZGVudGlmaWJhbGUgT2JqZWN0XG4gICAqL1xuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmplY3ROYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHdoZXJlIGNsYXVzZSBmb3IgZmlsdGVyaW5nIG9mIGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJpZ2h0IC0gUmlnaHQgZXhwcmVzc2lvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3BlcmF0b3IgLSBFeHByZXNzaW9uIG9wZXJhdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSBsZWZ0IC0gUmlnaHQgZXhwcmVzc2lvblxuICAgKiBAcmV0dXJucyB7SWRlbnRpZmlhYmxlT2JqZWN0fSBJZGVudGlmaWFibGVPYmplY3QgSWRlbnRpZmlhYmxlIG9iamVjdCB3aXRoIHdoZXJlIGNsYXVzZSBhcHBlbmRlZFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBvcmdhbmlzYXRpb25Vbml0ID0gbmV3IEZuLklkZW50aWZpYWJsZU9iamVjdCgnb3JnYW5pc2F0aW9uVW5pdHMnKTtcbiAgICogb3JnYW5pc2F0aW9uVW5pdC53aGVyZSgnbGV2ZWwnLCc9PScsNCk7IC8vV2lsbCBzZXQgdG8gZmV0Y2ggb3JnYW5pc2F0aW9uIHVuaXRzIGF0IGxldmVsIDRcbiAgICogb3JnYW5pc2F0aW9uVW5pdC53aGVyZSgnY2hpbGRyZW4nLCdlbXB0eScpOyAvL1dpbGwgc2V0IHRvIGZldGNoIG9yZ2FuaXNhdGlvbiB1bml0cyB3aXRoIG5vIGNoaWxkcmVuXG4gICAqL1xuICB3aGVyZShyaWdodCwgb3BlcmF0b3IsIGxlZnQpIHtcbiAgICB0aGlzLl9maWx0ZXJzLnB1c2goe1xuICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgb3BlcmF0b3I6IG9wZXJhdG9yLFxuICAgICAgbGVmdDogbGVmdFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHVybCBmb3IgZmV0Y2hpbmdcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldCB1cmwoKSB7XG4gICAgdmFyIHVybCA9IHRoaXMuX3VybFBhcmFtZXRlcnM7XG5cbiAgICB0aGlzLl9maWx0ZXJzLmZvckVhY2goZmlsdGVyID0+IHtcbiAgICAgIGlmICh1cmwgIT09ICcnKSB7XG4gICAgICAgIHVybCArPSAnJic7XG4gICAgICB9XG4gICAgICB1cmwgKz0gJ2ZpbHRlcj0nICsgZmlsdGVyLnJpZ2h0O1xuICAgICAgaWYgKGZpbHRlci5vcGVyYXRvciA9PT0gJz09Jykge1xuICAgICAgICB1cmwgKz0gJzplcTonICsgZmlsdGVyLmxlZnQ7XG4gICAgICB9IGVsc2UgaWYgKGZpbHRlci5vcGVyYXRvciA9PT0gJzwnKSB7XG4gICAgICAgIHVybCArPSAnOmx0OicgKyBmaWx0ZXIubGVmdDtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLm9wZXJhdG9yID09PSAnPD0nKSB7XG4gICAgICAgIHVybCArPSAnOmxlOicgKyBmaWx0ZXIubGVmdDtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLm9wZXJhdG9yID09PSAnPicpIHtcbiAgICAgICAgdXJsICs9ICc6Z3Q6JyArIGZpbHRlci5sZWZ0O1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXIub3BlcmF0b3IgPT09ICc+PScpIHtcbiAgICAgICAgdXJsICs9ICc6Z2U6JyArIGZpbHRlci5sZWZ0O1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXIub3BlcmF0b3IgPT09ICc8PicpIHtcbiAgICAgICAgdXJsICs9ICc6IWVxOicgKyBmaWx0ZXIubGVmdDtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyLm9wZXJhdG9yID09PSAnaW4nIHx8IGZpbHRlci5vcGVyYXRvciA9PT0gJyFpbicpIHtcbiAgICAgICAgdXJsICs9ICc6JyArIGZpbHRlci5vcGVyYXRvciArICc6WycgKyBmaWx0ZXIubGVmdCArICddJztcbiAgICAgIH0gZWxzZSBpZiAoIWZpbHRlci5sZWZ0KSB7XG4gICAgICAgIHVybCArPSAnOicgKyBmaWx0ZXIub3BlcmF0b3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmwgKz0gJzonICsgZmlsdGVyLm9wZXJhdG9yICsgJzonICsgZmlsdGVyLmxlZnQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMubmFtZSArICcuanNvbj8nICsgdXJsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBGZXRjaGVyIH0gZnJvbSAnLi4vdXRpbGl0aWVzL2ZldGNoZXInO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBmZXRjaGVyIHRvIGxvYWQgc3FsIHZpZXcgZGF0YVxuICpcbiAqIEBleHRlbmRzIEZldGNoZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFNRTFZpZXdEYXRhIGV4dGVuZHMgRmV0Y2hlciB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIFNRTFZpZXdEYXRhIEluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBTcWwgVmlldyBpZGVudGlmaWVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihpZCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5faWQgPSBpZDtcbiAgICB0aGlzLnBhcmFtZXRlcnNbJ3ZhciddID0ge307XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFyaWFibGUgZm9yIHRoZSBmZXRjaGluZyBvZiB0aGUgc3FsIHZpZXcgZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFibGUgLSBWYXJpYWJsZSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbHVlIG9mIHRoZSB2YXJpYWJsZSBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIHtTUUxWaWV3RGF0YX0gLSBPYmplY3Qgb2YgdGhlIHNxbCB2aWV3XG4gICAqL1xuICBzZXRWYXJpYWJsZSh2YXJpYWJsZSwgdmFsdWUpIHtcbiAgICB0aGlzLnBhcmFtZXRlcnNbJ3ZhciddW3ZhcmlhYmxlXSA9IHZhbHVlID8gdmFsdWUgOiAnJztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgdXJsIGZvciBmZXRjaGluZ1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICBsZXQgdXJsID0gJ3NxbFZpZXdzLycgKyB0aGlzLl9pZCArICcvZGF0YS5qc29uPycgKyB0aGlzLl91cmxQYXJhbWV0ZXJzO1xuXG4gICAgcmV0dXJuIHVybDtcbiAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIGNhbGxiYWNrIHR5cGUgaXMgY2FsbGVkIGBwcm9jZXNzQ2FsbGJhY2tgLlxuICpcbiAqIEBtaXhpblxuICogQGNhbGxiYWNrIHByb2Nlc3NDYWxsYmFja1xuICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdFxuICovXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHByb2Nlc3MgZGVwZW5kZW5jeVxuICovXG5leHBvcnQgY2xhc3MgRGVwZW5kZW5jeSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZGVwZW5kZW5jeSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge1Byb2Nlc3N9IHByb2Nlc3NcbiAgICogQHBhcmFtIHtwcm9jZXNzQ2FsbGJhY2t9IHByb2Nlc3NDYWxsYmFja1xuICAgKi9cbiAgY29uc3RydWN0b3IocHJvY2VzcywgcHJvY2Vzc0NhbGxiYWNrKSB7XG4gICAgdGhpcy5wcm9jZXNzID0gcHJvY2VzcztcbiAgICB0aGlzLnByb2Nlc3NDYWxsYmFjayA9IHByb2Nlc3NDYWxsYmFjaztcbiAgfVxufVxuIiwiaW1wb3J0IHsgUGVyaW9kSW5zdGFuY2UgfSBmcm9tICcuLi91dGlsaXRpZXMvcGVyaW9kLWluc3RhbmNlJztcbmltcG9ydCB7IFBlcmlvZFR5cGUgfSBmcm9tICcuL3BlcmlvZC10eXBlJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFBlcmlvZCBjbGFzcyBvZmZlcnMgY2FwYWJpbGl0aWVzIHRvIGdldCBwZXJpb2RzIGZvciBkaWZmZXJlbnQgcGVyaW9kIHR5cGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJpb2Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9jYWxlbmRhcklkID0gJ2dyZWdvcmlhbic7XG5cbiAgICB0aGlzLl9wZXJpb2RUeXBlID0gbmV3IFBlcmlvZFR5cGUoKTtcblxuICAgIGlmICghdGhpcy5fcGVyaW9kVHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgaW5zdGFudGlhdGUgcGVyaW9kIHR5cGUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHBlcmlvZCB0eXBlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqL1xuICBzZXRUeXBlKHR5cGUpIHtcbiAgICBpZiAoIXRoaXMuX3BlcmlvZFR5cGUuaXNWYWxpZCh0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSB2YWxpZCBwZXJpb2QgdHlwZScpO1xuICAgIH1cblxuICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0WWVhcih5ZWFyKSB7XG4gICAgdGhpcy5feWVhciA9IHllYXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRDYWxlbmRhcihjYWxlbmRhcklkKSB7XG4gICAgdGhpcy5fY2FsZW5kYXJJZCA9IGNhbGVuZGFySWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRQcmVmZXJlbmNlcyhwcmVmZXJlbmNlcykge1xuICAgIHRoaXMuX3ByZWZlcmVuY2VzID0gcHJlZmVyZW5jZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRQZXJpb2QoaWQpIHt9XG5cbiAgZ2V0KCkge1xuICAgIGlmICh0aGlzLl90eXBlKSB7XG4gICAgICBjb25zdCBwZXJpb2RJbnN0YW5jZSA9IG5ldyBQZXJpb2RJbnN0YW5jZShcbiAgICAgICAgdGhpcy5fY2FsZW5kYXJJZCxcbiAgICAgICAgdGhpcy5fdHlwZSxcbiAgICAgICAgdGhpcy5fcHJlZmVyZW5jZXMsXG4gICAgICAgIHRoaXMuX3llYXJcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3BlcmlvZHMgPSBwZXJpb2RJbnN0YW5jZS5nZXQoKTtcblxuICAgICAgdGhpcy5feWVhciA9IHBlcmlvZEluc3RhbmNlLnllYXIoKTtcblxuICAgICAgdGhpcy5fY3VycmVudFllYXIgPSBwZXJpb2RJbnN0YW5jZS5jdXJyZW50WWVhcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gIH1cblxuICBsaXN0KCkge1xuICAgIHJldHVybiB0aGlzLl9wZXJpb2RzO1xuICB9XG5cbiAgeWVhcigpIHtcbiAgICByZXR1cm4gdGhpcy5feWVhcjtcbiAgfVxuXG4gIGN1cnJlbnRZZWFyKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50WWVhcjtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==