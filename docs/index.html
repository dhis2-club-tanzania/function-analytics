<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Fn.html">Fn</a><ul class='methods'><li data-type='method'><a href="Fn.html#.all">all</a></li><li data-type='method'><a href="Fn.html#.init">init</a></li></ul></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-Analytics_.html">Analytics</a><ul class='methods'><li data-type='method'><a href="Analytics.html#get">get</a></li><li data-type='method'><a href="Analytics.html#getDependecyFetchResults">getDependecyFetchResults</a></li><li data-type='method'><a href="Analytics.html#getSanitizedAnalyticsMetadata">getSanitizedAnalyticsMetadata</a></li><li data-type='method'><a href="Analytics.html#setData">setData</a></li><li data-type='method'><a href="Analytics.html#setDimension">setDimension</a></li><li data-type='method'><a href="Analytics.html#setOrgUnit">setOrgUnit</a></li><li data-type='method'><a href="Analytics.html#setParameters">setParameters</a></li><li data-type='method'><a href="Analytics.html#setPeriod">setPeriod</a></li><li data-type='method'><a href="Analytics.html#setSelections">setSelections</a></li><li data-type='method'><a href="Analytics.html#standardizeAnalytics">standardizeAnalytics</a></li></ul></li><li><a href="tutorial-Generic-Functions.html">Generic-Functions</a></li></ul><h3>Classes</h3><ul><li><a href="Analytics.html">Analytics</a><ul class='methods'><li data-type='method'><a href="Analytics.html#get">get</a></li><li data-type='method'><a href="Analytics.html#getDependecyFetchResults">getDependecyFetchResults</a></li><li data-type='method'><a href="Analytics.html#getSanitizedAnalyticsMetadata">getSanitizedAnalyticsMetadata</a></li><li data-type='method'><a href="Analytics.html#setData">setData</a></li><li data-type='method'><a href="Analytics.html#setDimension">setDimension</a></li><li data-type='method'><a href="Analytics.html#setOrgUnit">setOrgUnit</a></li><li data-type='method'><a href="Analytics.html#setParameters">setParameters</a></li><li data-type='method'><a href="Analytics.html#setPeriod">setPeriod</a></li><li data-type='method'><a href="Analytics.html#setSelections">setSelections</a></li><li data-type='method'><a href="Analytics.html#standardizeAnalytics">standardizeAnalytics</a></li></ul></li><li><a href="AnalyticsHeader.html">AnalyticsHeader</a></li><li><a href="AnalyticsHeaders.html">AnalyticsHeaders</a><ul class='methods'><li data-type='method'><a href="AnalyticsHeaders.html#getHeader">getHeader</a></li></ul></li><li><a href="AnalyticsResult.html">AnalyticsResult</a><ul class='methods'><li data-type='method'><a href="AnalyticsResult.html#getDimensionDetails">getDimensionDetails</a></li><li data-type='method'><a href="AnalyticsResult.html#getDimensionDetailsByName">getDimensionDetailsByName</a></li></ul></li><li><a href="Dependency.html">Dependency</a></li><li><a href="EventAnalytics.html">EventAnalytics</a><ul class='methods'><li data-type='method'><a href="EventAnalytics.html#get">get</a></li><li data-type='method'><a href="EventAnalytics.html#getDependecyFetchResults">getDependecyFetchResults</a></li><li data-type='method'><a href="EventAnalytics.html#getSanitizedAnalyticsMetadata">getSanitizedAnalyticsMetadata</a></li><li data-type='method'><a href="EventAnalytics.html#setData">setData</a></li><li data-type='method'><a href="EventAnalytics.html#setDimension">setDimension</a></li><li data-type='method'><a href="EventAnalytics.html#setOrgUnit">setOrgUnit</a></li><li data-type='method'><a href="EventAnalytics.html#setParameters">setParameters</a></li><li data-type='method'><a href="EventAnalytics.html#setPeriod">setPeriod</a></li><li data-type='method'><a href="EventAnalytics.html#setProgram">setProgram</a></li><li data-type='method'><a href="EventAnalytics.html#setSelections">setSelections</a></li><li data-type='method'><a href="EventAnalytics.html#standardizeAnalytics">standardizeAnalytics</a></li></ul></li><li><a href="Fetcher.html">Fetcher</a><ul class='methods'><li data-type='method'><a href="Fetcher.html#addPostProcess">addPostProcess</a></li><li data-type='method'><a href="Fetcher.html#addPreProcess">addPreProcess</a></li><li data-type='method'><a href="Fetcher.html#get">get</a></li><li data-type='method'><a href="Fetcher.html#getDependecyFetchResults">getDependecyFetchResults</a></li><li data-type='method'><a href="Fetcher.html#hasDependencies">hasDependencies</a></li><li data-type='method'><a href="Fetcher.html#performPostProcess">performPostProcess</a></li><li data-type='method'><a href="Fetcher.html#performPreProcess">performPreProcess</a></li><li data-type='method'><a href="Fetcher.html#postProcess">postProcess</a></li><li data-type='method'><a href="Fetcher.html#preProcess">preProcess</a></li><li data-type='method'><a href="Fetcher.html#setParameters">setParameters</a></li></ul></li><li><a href="IdentifiableObject.html">IdentifiableObject</a><ul class='methods'><li data-type='method'><a href="IdentifiableObject.html#get">get</a></li><li data-type='method'><a href="IdentifiableObject.html#getDependecyFetchResults">getDependecyFetchResults</a></li><li data-type='method'><a href="IdentifiableObject.html#setParameters">setParameters</a></li><li data-type='method'><a href="IdentifiableObject.html#where">where</a></li></ul></li><li><a href="MultiFetcher.html">MultiFetcher</a><ul class='methods'><li data-type='method'><a href="MultiFetcher.html#addPostProcess">addPostProcess</a></li><li data-type='method'><a href="MultiFetcher.html#addPreProcess">addPreProcess</a></li><li data-type='method'><a href="MultiFetcher.html#get">get</a></li><li data-type='method'><a href="MultiFetcher.html#getDependecyFetchResults">getDependecyFetchResults</a></li><li data-type='method'><a href="MultiFetcher.html#hasDependencies">hasDependencies</a></li><li data-type='method'><a href="MultiFetcher.html#performPostProcess">performPostProcess</a></li><li data-type='method'><a href="MultiFetcher.html#performPreProcess">performPreProcess</a></li><li data-type='method'><a href="MultiFetcher.html#postProcess">postProcess</a></li><li data-type='method'><a href="MultiFetcher.html#preProcess">preProcess</a></li><li data-type='method'><a href="MultiFetcher.html#setParameters">setParameters</a></li></ul></li><li><a href="Period.html">Period</a><ul class='methods'><li data-type='method'><a href="Period.html#setType">setType</a></li></ul></li><li><a href="Process.html">Process</a><ul class='methods'><li data-type='method'><a href="Process.html#addPostProcess">addPostProcess</a></li><li data-type='method'><a href="Process.html#addPreProcess">addPreProcess</a></li><li data-type='method'><a href="Process.html#hasDependencies">hasDependencies</a></li><li data-type='method'><a href="Process.html#performPostProcess">performPostProcess</a></li><li data-type='method'><a href="Process.html#performPreProcess">performPreProcess</a></li><li data-type='method'><a href="Process.html#postProcess">postProcess</a></li><li data-type='method'><a href="Process.html#preProcess">preProcess</a></li></ul></li><li><a href="ProgressPromise.html">ProgressPromise</a><ul class='methods'><li data-type='method'><a href="ProgressPromise.html#.all">all</a></li><li data-type='method'><a href="ProgressPromise.html#.sequence">sequence</a></li><li data-type='method'><a href="ProgressPromise.html#progress">progress</a></li></ul></li><li><a href="Row.html">Row</a><ul class='methods'><li data-type='method'><a href="Row.html#dimension">dimension</a></li></ul></li><li><a href="Runner.html">Runner</a><ul class='methods'><li data-type='method'><a href="Runner.html#.initiateRunner">initiateRunner</a></li><li data-type='method'><a href="Runner.html#getAllResults">getAllResults</a></li><li data-type='method'><a href="Runner.html#getResults">getResults</a></li></ul></li><li><a href="SQLViewData.html">SQLViewData</a><ul class='methods'><li data-type='method'><a href="SQLViewData.html#get">get</a></li><li data-type='method'><a href="SQLViewData.html#getDependecyFetchResults">getDependecyFetchResults</a></li><li data-type='method'><a href="SQLViewData.html#setParameters">setParameters</a></li><li data-type='method'><a href="SQLViewData.html#setVariable">setVariable</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#processCallback">processCallback</a></li><li><a href="global.html#rejectCallback">rejectCallback</a></li><li><a href="global.html#resolveCallback">resolveCallback</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme">
        <article><h1>Fn</h1><p><a href="https://travis-ci.org/hisptz/function-analytics"><img src="https://travis-ci.org/hisptz/function-analytics.svg?branch=develop" alt="Build Status"></a> <a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/hisptz/function-analytics.svg" alt="Greenkeeper badge"></a>
<a href="https://codeclimate.com/github/hisptz/function-analytics/maintainability"><img src="https://api.codeclimate.com/v1/badges/18d9239d0ecb464fbea6/maintainability" alt="Maintainability"></a>
<a href="https://codeclimate.com/github/hisptz/function-analytics/test_coverage"><img src="https://api.codeclimate.com/v1/badges/18d9239d0ecb464fbea6/test_coverage" alt="Test Coverage"></a>
<a href="http://commitizen.github.io/cz-cli/"><img src="https://img.shields.io/badge/commitizen-friendly-brightgreen.svg" alt="Commitizen friendly"></a></p>
<h1>Function Analytics Library</h1><p>Javascript Library based on micro-service design pattern to support and improve the development of function indicators. Built with best practices in mind from the experience of writing function indicators with on <a href="https://play.dhis2.org/2.31.3/api/apps/Function-Maintanance-2/index.html#/">function maintenance app</a>.</p>
<p>For details on function maintenance visit it's <a href="https://github.com/hisptz/function-maintenance">source codes</a>, for online documentations visit <a href="https://hisptz.github.io/function-analytics/">https://hisptz.github.io/function-analytics/</a>, visit it's <a href="https://github.com/hisptz/function-analytics">source codes here</a>.</p>
<p>Function analytics makes it easy for developers to focus on the business logic of their functions indicator while also considering the best way to perform analytics operations with out of the box performance execution strategy.</p>
<h2>Features</h2><ul>
<li>Fetching data for analytics.</li>
<li>Fetching DHIS Identifiable objects.</li>
<li>Perform execution of functions with optimization</li>
</ul>
<h2>Quickstart Guide</h2><h3>Install</h3><p>Start with adding fn-analytics to your project:</p>
<p><code>npm install @iapps/function-analytics</code></p>
<p>After installing you will be able to import the library into your project by using the files in the <code>lib</code> folder:</p>
<pre class="prettyprint source lang-js"><code>// Using ES2015 imports
import { Fn } from '@iapps/function-analytics';

// Using CommonJS imports
var Fn = require('@iapps/function-analytics').Fn;</code></pre><h2>Initializing the library</h2><p>To be able to use fn-analytics you will first need to initialise the library. This is required to let the library know where it should load its data from.</p>
<pre class="prettyprint source lang-js"><code>Fn.init({
  baseUrl: 'api_url_to_dhis_server',
  username: 'username', //Optional if in a DHIS app
  pasword: 'password' //Optional if in a DHIS app
});</code></pre><h2>Fetch analytics</h2><p>You can fetch analytic with a few lines of code</p>
<pre class="prettyprint source lang-js"><code>new Fn.Analytics()
  .setData('dx')
  .setOrgUnit('ou')
  .setPeriod('pe')
  .postProcess(function(analyticsResult) {
    // This adds post processing after fetching is done
    return analyticsResult;
  })
  .get()
  .progress(function(value) {
    // Do something with the progress value
  })
  .then(function(analyticsResult) {
    //The result after fetching and processing with the post process callback
  });</code></pre><h2>Dependency</h2><p>You can put together dependencies if calls depend on one another</p>
<pre class="prettyprint source lang-js"><code>var orgunit = new Fn.IdentifiableObject('organisationUnits'); // Example of an organisation fetcher

orgunit.where('id', 'in', ['Rp268JB6Ne4', 'Rp268JB6Ne2']);
//Declare business process to run after orgunit results
var bussinessAfterOrgunitProcess = (orgUnitResult, analytics) => {
  // Adds dependency
  let ous = orgUnitResult.organisationUnits
    .map(organisationUnit => {
      return organisationUnit.id;
    })
    .join(';');

  analytics.setPeriod('2016').setOrgUnit(ous);
};
var analytics = new Fn.Analytics();

analytics.preProcess(new Fn.Dependency(orgunit, bussinessAfterOrgunitProcess));
analytics.get().then(results => {});</code></pre><h2>Multiple Processing</h2><p>You can invoke multiple processes</p>
<pre class="prettyprint source lang-js"><code>var orgunit = new Fn.IdentifiableObject('organisationUnits');

orgunit.where('id', 'in', ['Rp268JB6Ne4', 'Rp268JB6Ne2']);

var analytics = new Fn.Analytics();

analytics.setPeriod('2016').setOrgUnit('Rp268JB6Ne4;Rp268JB6Ne2');

var multiProcesses = Fn.all([orgunit, analytics]);
multiProcesses.postProcess(res => {
  //res[0] is from orgunit
  //res[1] is from analytics
  return [res[1], res[0]];
});
multiProcesses.get().then(results => {});</code></pre><h2>Microservice Architecture</h2><p><img src="https://lh3.googleusercontent.com/xNrhIlfv2WVT8z9tC0D1LzGaTWCjatL1SPadkGyld2SMND0ySjcYQ9fvRNBtSAD0Q5WhC7-3eLPOaZCfjrC_uqNg9-xwdj4bKt5a3k6gsezq0ULuGG21sJKKsYUrNvl8snbWg-9ICM1PIzOCOqePR1v6ihQu6EimcA5OffKZ0-cbDDFgbvZRr0Rab-nrRayXJjTi_1JIvLIByCFdDkmiKm3wDduIkGxI5jET3cm_1cHIuE3QvIDaBgnP44Y-Dy4alyq8MZMDLnj7pJlK9_pmCxwUG9dfuXMC6x90WWYjXDE_UsfjpXqc8CR6QBdvXX5RD5ByfwjTlMJjeqEVo2tiLM-VUm-NJ6XdnT1fFwvnokQ-ENGTmotf8PR1m3cOF3N3hBC1OPhV7bv2cooF_gAFwsIeGYKxOXeky7Mkg48sqMv5VcnoVN1TfrOGQah2L9-04q9bFv6No8li6tj8aYpCvtfgYx3E8Vv0CpCk83_v_ilrRJDl7LEl3j_rejoCEtSECrMNivXUyG2FpXtdSAeEkiZuvzMVEKE2yznrO0drYUfBIcL-cT-VQb5wLPkAGQzfxOyKd2-yIrnrRLQ90bsza1JKipxMonZhGXq7dIQ=w1299-h738" alt=""></p>
<p>With microservice architecture, function indicators have been designed to be a collection of loosely coupled services,which alows continous delivery and deployment of service, re-usable accross dhis2 instances and implementations.</p>
<p>Functions analytics microservice design has been implemented to run on both client-side as well as service server side implementation.</p>
<h2>Advantages of function analytics</h2><ol>
<li>Lighter functions size and overhead on datastore storage</li>
<li>Easier and faster chores on maintenance/upgrading of functions(only logic)</li>
<li>Easier and faster debugging(only logic), all services and utilities outsourced to function analytics</li>
<li>Easier performance improvements and shipping of code fixes(fix once enjoy everywhere), through iterative improvement of analytics library</li>
<li>Room for unit testing across multiple scenarios(instead of going to server/network we can simulate returned results and automate lot of scenarios and bring logic tests of codes ASAP, minimize chances of failures)</li>
<li>Room for improving efficiency with local storage and shared resources(within d2 abstraction)</li>
<li>Extension and re-use of d2 library and process, improving on existing foundation, with less work and have cheat sheet doc of available methods right there in the editor.</li>
<li>Makes room for focusing on excel like UI and ux, extending d2 with excel like function library re-usable on-demand via function expressions</li>
<li>Minimal and shorter syntax, logic, promises and ajax error failures and better try and catch workflow, as user won't write any ajax</li>
<li>Much less knowledge/learning-curve needed to write functions(no need to know dhis2 api or ajax promises)</li>
<li>No more dependency necessary to any framework(jQuery, etc...), as majority of needed utilities are abstracted in function analytics</li>
<li>Sets a center stage for functions to be viable for back-end microservice computation, easily invoked in backend with any server utilities and programs</li>
<li>Allows easier stress and time-lag testing of functions in case of huge volume of selections, and anticipate impacts of functions long before they're put to production</li>
<li>Potential support for code completion during development as entire library is right there for use(making development even easier)</li>
<li>Room for porting of javascript implementation to postgres procedures and other language implementation that can be transpiled for execution in backend with any other technologies other than javascript</li>
</ol>
<p>For detailed documentation please visit the <a href="https://hisptz.github.io/function-analytics/">documentation</a> page.</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Jul 17 2019 22:13:37 GMT+0300 (East Africa Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>